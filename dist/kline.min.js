!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],e);else{var n="object"==typeof exports?e(require("jquery")):e(t.$);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}("undefined"!=typeof self?self:this,function(__WEBPACK_EXTERNAL_MODULE_20__){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=21)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChartManager=void 0;var r=n(8),a=n(22),i=f(n(31)),o=f(n(18)),s=f(n(7)),l=f(n(2)),c=n(4),u=f(n(12)),h=f(n(6)),d=f(n(11)),p=f(n(10)),_=f(n(13)),g=n(5);function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var v=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._dataSources={},this._dataSourceCache={},this._dataProviders={},this._frames={},this._areas={},this._timelines={},this._ranges={},this._plotters={},this._themes={},this._titles={},this._frameMousePos={},this._dsChartStyle={},this._dragStarted=!1,this._oldX=0,this._fakeIndicators={},this._captureMouseWheelDirectly=!0,this._chart={},this._chart.defaultFrame=new a.Chart,this._drawingTool=t.DrawingTool.CrossCursor,this._beforeDrawingTool=this._drawingTool,this._language="zh-cn",this._mainCanvas=null,this._overlayCanvas=null,this._mainContext=null,this._overlayContext=null,t.created||(t.instance=this,t.created=!0),t.instance}var e,n,f;return e=t,(n=[{key:"redraw",value:function(t,e){(void 0===t||e)&&(t="All"),"All"!==t&&"MainCanvas"!==t||(e&&this.getFrame("frame0").setChanged(!0),this.layout(this._mainContext,"frame0",0,0,this._mainCanvas.width,this._mainCanvas.height),this.drawMain("frame0",this._mainContext)),"All"!==t&&"OverlayCanvas"!==t||(this._overlayContext.clearRect(0,0,this._overlayCanvas.width,this._overlayCanvas.height),this.drawOverlay("frame0",this._overlayContext))}},{key:"bindCanvas",value:function(t,e){"main"===t?(this._mainCanvas=e,this._mainContext=e.getContext("2d")):"overlay"===t&&(this._overlayCanvas=e,this._overlayContext=e.getContext("2d"),this._captureMouseWheelDirectly&&$(this._overlayCanvas).bind("mousewheel",r.Control.mouseWheel))}},{key:"getCaptureMouseWheelDirectly",value:function(){return this._captureMouseWheelDirectly}},{key:"setCaptureMouseWheelDirectly",value:function(t){this._captureMouseWheelDirectly=t,t?$(this._overlayCanvas).bind("mousewheel",r.Control.mouseWheel):$(this._overlayCanvas).unbind("mousewheel")}},{key:"getChart",value:function(t){return this._chart.defaultFrame}},{key:"init",value:function(){delete this._ranges["frame0.k0.indic1"],delete this._ranges["frame0.k0.indic1Range"],delete this._areas["frame0.k0.indic1"],delete this._areas["frame0.k0.indic1Range"],s.DefaultTemplate.loadTemplate("frame0.k0",""),this.redraw("All",!0)}},{key:"setCurrentDrawingTool",value:function(e){this._drawingTool=t.DrawingTool[e],this.setRunningMode(this._drawingTool)}},{key:"getLanguage",value:function(){return this._language}},{key:"setLanguage",value:function(t){this._language=t}},{key:"setThemeName",value:function(t,e){var n;switch(void 0===e&&(e="Dark"),e){case"Light":n=new h.LightTheme;break;default:e="Dark",n=new h.DarkTheme}this._themeName=e,this.setTheme(t,n),this.getFrame(t).setChanged(!0)}},{key:"getChartStyle",value:function(t){var e=this._dsChartStyle[t];return void 0===e?"CandleStick":e}},{key:"setChartStyle",value:function(t,e){if(this._dsChartStyle[t]!==e){var n,r,a=t+".main",o=a+".main",s=a+".main";switch(e){case"CandleStick":case"CandleStickHLC":case"OHLC":switch(void 0!==(n=this.getDataProvider(o))&&g.Util.isInstance(n,u.MainDataProvider)||(n=new u.MainDataProvider(o),this.setDataProvider(o,n),n.updateData()),this.setMainIndicator(t,c.ChartSettings.get().charts.mIndic),e){case"CandleStick":r=new d.CandlestickPlotter(s);break;case"CandleStickHLC":r=new d.CandlestickHLCPlotter(s);break;case"OHLC":r=new d.OHLCPlotter(s)}this.setPlotter(s,r),r=new d.MinMaxPlotter(a+".decoration"),this.setPlotter(r.getName(),r);break;case"Line":n=new u.IndicatorDataProvider(o),this.setDataProvider(n.getName(),n),n.setIndicator(new i.HLCIndicator),this.removeMainIndicator(t),r=new d.IndicatorPlotter(s),this.setPlotter(s,r),this.removePlotter(a+".decoration")}this.getArea(r.getAreaName()).setChanged(!0),this._dsChartStyle[t]=e}}},{key:"setNormalMode",value:function(){this._drawingTool=this._beforeDrawingTool,$(".chart_dropdown_data").removeClass("chart_dropdown-hover"),this._drawingTool===t.DrawingTool.Cursor?(this.showCursor(),$("#mode a").removeClass("selected")):this.hideCursor()}},{key:"setRunningMode",value:function(e){var n=this.getDataSource("frame0.k0"),r=n.getCurrentToolObject();if(null!==r&&r.state!==p.CToolObject.state.AfterDraw&&n.delToolObject(),n.getToolObjectCount()>10)this.setNormalMode();else switch(this._drawingTool=e,e===t.DrawingTool.Cursor&&this.showCursor(),e){case t.DrawingTool.Cursor:this._beforeDrawingTool=e;break;case t.DrawingTool.ArrowLine:n.addToolObject(new p.CArrowLineObject("frame0.k0"));break;case t.DrawingTool.BandLine:n.addToolObject(new p.CBandLineObject("frame0.k0"));break;case t.DrawingTool.BiParallelLine:n.addToolObject(new p.CBiParallelLineObject("frame0.k0"));break;case t.DrawingTool.BiParallelRayLine:n.addToolObject(new p.CBiParallelRayLineObject("frame0.k0"));break;case t.DrawingTool.CrossCursor:this._beforeDrawingTool=e;break;case t.DrawingTool.DrawFibFans:n.addToolObject(new p.CFibFansObject("frame0.k0"));break;case t.DrawingTool.DrawFibRetrace:n.addToolObject(new p.CFibRetraceObject("frame0.k0"));break;case t.DrawingTool.DrawLines:n.addToolObject(new p.CStraightLineObject("frame0.k0"));break;case t.DrawingTool.HoriRayLine:n.addToolObject(new p.CHoriRayLineObject("frame0.k0"));break;case t.DrawingTool.HoriSegLine:n.addToolObject(new p.CHoriSegLineObject("frame0.k0"));break;case t.DrawingTool.HoriStraightLine:n.addToolObject(new p.CHoriStraightLineObject("frame0.k0"));break;case t.DrawingTool.PriceLine:n.addToolObject(new p.CPriceLineObject("frame0.k0"));break;case t.DrawingTool.RayLine:n.addToolObject(new p.CRayLineObject("frame0.k0"));break;case t.DrawingTool.SegLine:n.addToolObject(new p.CSegLineObject("frame0.k0"));break;case t.DrawingTool.StraightLine:n.addToolObject(new p.CStraightLineObject("frame0.k0"));break;case t.DrawingTool.TriParallelLine:n.addToolObject(new p.CTriParallelLineObject("frame0.k0"));break;case t.DrawingTool.VertiStraightLine:n.addToolObject(new p.CVertiStraightLineObject("frame0.k0"))}}},{key:"getTitle",value:function(t){return this._titles[t]}},{key:"setTitle",value:function(t,e){this._titles[t]=e}},{key:"setCurrentDataSource",value:function(t,e){var n=this.getCachedDataSource(e);void 0!==n&&null!==n?this.setDataSource(t,n,!0):(n=new l.MainDataSource(e),this.setDataSource(t,n,!0),this.setCachedDataSource(e,n))}},{key:"getDataSource",value:function(t){return this._dataSources[t]}},{key:"setDataSource",value:function(t,e,n){this._dataSources[t]=e,n&&this.updateData(t,null)}},{key:"getCachedDataSource",value:function(t){return this._dataSourceCache[t]}},{key:"setCachedDataSource",value:function(t,e){this._dataSourceCache[t]=e}},{key:"getDataProvider",value:function(t){return this._dataProviders[t]}},{key:"setDataProvider",value:function(t,e){this._dataProviders[t]=e}},{key:"removeDataProvider",value:function(t){delete this._dataProviders[t]}},{key:"getFrame",value:function(t){return this._frames[t]}},{key:"setFrame",value:function(t,e){this._frames[t]=e}},{key:"removeFrame",value:function(t){delete this._frames[t]}},{key:"getArea",value:function(t){return this._areas[t]}},{key:"setArea",value:function(t,e){this._areas[t]=e}},{key:"removeArea",value:function(t){delete this._areas[t]}},{key:"getTimeline",value:function(t){return this._timelines[t]}},{key:"setTimeline",value:function(t,e){this._timelines[t]=e}},{key:"removeTimeline",value:function(t){delete this._timelines[t]}},{key:"getRange",value:function(t){return this._ranges[t]}},{key:"setRange",value:function(t,e){this._ranges[t]=e}},{key:"removeRange",value:function(t){delete this._ranges[t]}},{key:"getPlotter",value:function(t){return this._plotters[t]}},{key:"setPlotter",value:function(t,e){this._plotters[t]=e}},{key:"removePlotter",value:function(t){delete this._plotters[t]}},{key:"getTheme",value:function(t){return this._themes[t]}},{key:"setTheme",value:function(t,e){this._themes[t]=e}},{key:"getFrameMousePos",value:function(t,e){void 0!==this._frameMousePos[t]?(e.x=this._frameMousePos[t].x,e.y=this._frameMousePos[t].y):(e.x=-1,e.y=-1)}},{key:"setFrameMousePos",value:function(t,e,n){this._frameMousePos[t]={x:e,y:n}}},{key:"drawArea",value:function(t,e,n){var r=e.getNameObject().getCompAt(2);if("timeline"===r){if(e.getHeight()<20)return}else if(e.getHeight()<30)return;if(!(e.getWidth()<30)){var a;r=e.getName();var i,o=n.length;for(i=0;i<o;i++)void 0!==(a=this._plotters[r+n[i]])&&a.Draw(t)}}},{key:"drawAreaMain",value:function(t,e){var n;n=this._dataSources[e.getDataSourceName()].getDataCount()<1?[".background"]:[".background",".grid",".main",".secondary"],this.drawArea(t,e,n),e.setChanged(!1)}},{key:"drawAreaOverlay",value:function(t,e){var n;n=this._dataSources[e.getDataSourceName()].getDataCount()<1?[".selection"]:[".decoration",".selection",".info",".tool"],this.drawArea(t,e,n)}},{key:"drawMain",value:function(t,e){var n;for(var r in this._areas)this._areas[r].getFrameName()!==t||g.Util.isInstance(this._areas[r],_.ChartAreaGroup)||this.drawAreaMain(e,this._areas[r]);for(var a in this._timelines)(n=this._timelines[a]).getFrameName()===t&&n.setUpdated(!1);for(var i in this._ranges)(n=this._ranges[i]).getFrameName()===t&&n.setUpdated(!1);for(var o in this._areas)(n=this._areas[o]).getFrameName()===t&&n.setChanged(!1)}},{key:"drawOverlay",value:function(t,e){for(var n in this._areas){var r=this._areas[n];g.Util.isInstance(r,_.ChartAreaGroup)&&r.getFrameName()===t&&r.drawGrid(e)}for(var a in this._areas){var i=this._areas[a];!1===g.Util.isInstance(i,_.ChartAreaGroup)&&i.getFrameName()===t&&this.drawAreaOverlay(e,i)}}},{key:"updateData",value:function(t,e){var n=this.getDataSource(t);if(void 0!==n&&null!==n){if(void 0!==e&&null!==e){if(!n.update(e))return!1;if(n.getUpdateMode()===l.DataSource.UpdateMode.DoNothing)return!0}else n.setUpdateMode(l.DataSource.UpdateMode.Refresh);var r=this.getTimeline(t);if(void 0!==r&&null!==r&&r.update(),n.getDataCount()<1)return!0;var a,i,o=[".main",".secondary"];for(var s in this._areas)if(a=this._areas[s],!g.Util.isInstance(a,_.ChartAreaGroup)&&a.getDataSourceName()===t){i=a.getName();for(var c=0;c<o.length;c++){var u=this.getDataProvider(i+o[c]);void 0!==u&&null!==u&&u.updateData()}}return!0}}},{key:"updateRange",value:function(t){if(!(this.getDataSource(t).getDataCount()<1)){var e,n,r=[".main",".secondary"];for(var a in this._areas)if(e=this._areas[a],!g.Util.isInstance(e,_.ChartAreaGroup)&&e.getDataSourceName()===t){n=e.getName();for(var i=0;i<r.length;i++){var o=this.getDataProvider(n+r[i]);void 0!==o&&null!==o&&o.updateRange()}var s=this.getTimeline(t);if(void 0!==s&&s.getMaxItemCount()>0){var l=this.getRange(n);void 0!==l&&null!==l&&l.update()}}}}},{key:"layout",value:function(t,e,n,r,a,i){var o=this.getFrame(e);for(var s in o.measure(t,a-n,i-r),o.layout(n,r,a,i),this._timelines){var l=this._timelines[s];l.getFrameName()===e&&l.onLayout()}for(var c in this._dataSources)c.substring(0,e.length)===e&&this.updateRange(c)}},{key:"SelectRange",value:function(t,e){for(var n in this._ranges){this._ranges[n].getAreaName()===t.getName()?this._ranges[n].selectAt(e):this._ranges[n].unselect()}}},{key:"scale",value:function(t){if(null!==this._highlightedFrame&&this._highlightedFrame){var e=this._highlightedFrame.getHighlightedArea();if(void 0!==this.getRange(e.getName())){var n=e.getDataSourceName(),r=this.getTimeline(n);null!==r&&(r.scale(t),this.updateRange(n))}}}},{key:"showCursor",value:function(t){void 0===t&&(t="default"),this._mainCanvas.style.cursor=t,this._overlayCanvas.style.cursor=t}},{key:"hideCursor",value:function(){this._mainCanvas.style.cursor="none",this._overlayCanvas.style.cursor="none"}},{key:"showCrossCursor",value:function(t,e,n){var r=this.getRange(t.getName());return!(void 0===r||(r.selectAt(n),void 0===(r=this.getTimeline(t.getDataSourceName()))||!r.selectAt(e)))}},{key:"hideCrossCursor",value:function(t){if(null!==t&&void 0!==t)for(var e in this._timelines){var n=this._timelines[e];n!==t&&n.unselect()}else for(var r in this._timelines)this._timelines[r].unselect();for(var a in this._ranges)this._ranges[a].unselect()}},{key:"clearHighlight",value:function(){null!==this._highlightedFrame&&void 0!==this._highlightedFrame&&(this._highlightedFrame.highlight(null),this._highlightedFrame=null)}},{key:"onToolMouseMove",value:function(t,e,n){var r=!1;for(var a in t+=".",this._dataSources)if(0===a.indexOf(t)){var i=this._dataSources[a];g.Util.isInstance(i,l.MainDataSource)&&i.toolManager.acceptMouseMoveEvent(e,n)&&(r=!0)}return r}},{key:"onToolMouseDown",value:function(t,e,n){var r=!1;for(var a in t+=".",this._dataSources)if(0===a.indexOf(t)){var i=this._dataSources[a];g.Util.isInstance(i,l.MainDataSource)&&i.toolManager.acceptMouseDownEvent(e,n)&&(r=!0)}return r}},{key:"onToolMouseUp",value:function(t,e,n){var r=!1;for(var a in t+=".",this._dataSources)if(0===a.indexOf(t)){var i=this._dataSources[a];g.Util.isInstance(i,l.MainDataSource)&&i.toolManager.acceptMouseUpEvent(e,n)&&(r=!0)}return r}},{key:"onToolMouseDrag",value:function(t,e,n){var r=!1;for(var a in t+=".",this._dataSources)if(0===a.indexOf(t)){var i=this._dataSources[a];g.Util.isInstance(i,l.MainDataSource)&&i.toolManager.acceptMouseDownMoveEvent(e,n)&&(r=!0)}return r}},{key:"onMouseMove",value:function(t,e,n,r){var a=this.getFrame(t);if(void 0!==a)if(this.setFrameMousePos(t,e,n),this.hideCrossCursor(),this._highlightedFrame!==a&&this.clearHighlight(),null===this._capturingMouseArea||void 0===this._capturingMouseArea){var i,o,s=a.contains(e,n);if(null!==s)for(o=s.length-1;o>=0;o--)if(null!==(i=(i=s[o]).onMouseMove(e,n)))return void(g.Util.isInstance(i,_.ChartAreaGroup)||(a.highlight(i),this._highlightedFrame=a))}else this._capturingMouseArea.onMouseMove(e,n)}},{key:"onMouseLeave",value:function(t,e,n,r){void 0!==this.getFrame(t)&&(this.setFrameMousePos(t,e,n),this.hideCrossCursor(),this.clearHighlight(),null!==this._capturingMouseArea&&void 0!==this._capturingMouseArea&&(this._capturingMouseArea.onMouseLeave(e,n),this._capturingMouseArea=null),this._dragStarted=!1)}},{key:"onMouseDown",value:function(t,e,n){var r=this.getFrame(t);if(void 0!==r){var a,i,o=r.contains(e,n);if(null!==o)for(i=o.length-1;i>=0;i--)if(null!==(a=(a=o[i]).onMouseDown(e,n)))return void(this._capturingMouseArea=a)}}},{key:"onMouseUp",value:function(t,e,n){var a=this.getFrame(t);void 0!==a&&this._capturingMouseArea&&(null===this._capturingMouseArea.onMouseUp(e,n)&&!1===this._dragStarted&&(null!==this._selectedFrame&&void 0!==this._selectedFrame&&this._selectedFrame!==a&&this._selectedFrame.select(null),this._capturingMouseArea.isSelected()?(this._captureMouseWheelDirectly||$(this._overlayCanvas).unbind("mousewheel"),a.select(null),this._selectedFrame=null):(this._selectedFrame!==a&&(this._captureMouseWheelDirectly||$(this._overlayCanvas).bind("mousewheel",r.Control.mouseWheel)),a.select(this._capturingMouseArea),this._selectedFrame=a)),this._capturingMouseArea=null,this._dragStarted=!1)}},{key:"deleteToolObject",value:function(){var t=this.getDataSource("frame0.k0");null!==t.getSelectToolObjcet()&&t.delSelectToolObject();var e=t.getCurrentToolObject();null!==e&&e.getState()!==p.CToolObject.state.AfterDraw&&t.delToolObject(),this.setNormalMode()}},{key:"unloadTemplate",value:function(t){if(void 0!==this.getFrame(t)){for(var e in this._dataSources)e.match(t+".")&&delete this._dataSources[e];for(var n in this._dataProviders)this._dataProviders[n].getFrameName()===t&&delete this._dataProviders[n];for(var r in delete this._frames[t],this._areas)this._areas[r].getFrameName()===t&&delete this._areas[r];for(var a in this._timelines)this._timelines[a].getFrameName()===t&&delete this._timelines[a];for(var i in this._ranges)this._ranges[i].getFrameName()===t&&delete this._ranges[i];for(var o in this._plotters)this._plotters[o].getFrameName()===t&&delete this._plotters[o];delete this._themes[t],delete this._frameMousePos[t]}}},{key:"createIndicatorAndRange",value:function(t,e,n){var r,a;switch(e){case"MA":r=new i.MAIndicator,a=new o.PositiveRange(t);break;case"EMA":r=new i.EMAIndicator,a=new o.PositiveRange(t);break;case"VOLUME":r=new i.VOLUMEIndicator,a=new o.ZeroBasedPositiveRange(t);break;case"MACD":r=new i.MACDIndicator,a=new o.ZeroCenteredRange(t);break;case"DMI":r=new i.DMIIndicator,a=new o.PercentageRange(t);break;case"DMA":r=new i.DMAIndicator,a=new o.Range(t);break;case"TRIX":r=new i.TRIXIndicator,a=new o.Range(t);break;case"BRAR":r=new i.BRARIndicator,a=new o.Range(t);break;case"VR":r=new i.VRIndicator,a=new o.Range(t);break;case"OBV":r=new i.OBVIndicator,a=new o.Range(t);break;case"EMV":r=new i.EMVIndicator,a=new o.Range(t);break;case"RSI":r=new i.RSIIndicator,a=new o.PercentageRange(t);break;case"WR":r=new i.WRIndicator,a=new o.PercentageRange(t);break;case"SAR":r=new i.SARIndicator,a=new o.PositiveRange(t);break;case"KDJ":r=new i.KDJIndicator,a=new o.PercentageRange(t);break;case"ROC":r=new i.ROCIndicator,a=new o.Range(t);break;case"MTM":r=new i.MTMIndicator,a=new o.Range(t);break;case"BOLL":r=new i.BOLLIndicator,a=new o.Range(t);break;case"PSY":r=new i.PSYIndicator,a=new o.Range(t);break;case"StochRSI":r=new i.STOCHRSIIndicator,a=new o.PercentageRange(t);break;default:return null}return n||r.setParameters(c.ChartSettings.get().indics[e]),{indic:r,range:a}}},{key:"setMainIndicator",value:function(t,e){var n,r=t+".main",a=this.getDataProvider(r+".main");if(void 0===a||!g.Util.isInstance(a,u.MainDataProvider))return!1;switch(e){case"MA":n=new i.MAIndicator;break;case"EMA":n=new i.EMAIndicator;break;case"BOLL":n=new i.BOLLIndicator;break;case"SAR":n=new i.SARIndicator;break;default:return!1}n.setParameters(c.ChartSettings.get().indics[e]);var o=r+".secondary",s=this.getDataProvider(o);void 0===s&&(s=new u.IndicatorDataProvider(o),this.setDataProvider(s.getName(),s)),s.setIndicator(n);var l=this.getPlotter(o);return void 0===l&&(l=new d.IndicatorPlotter(o),this.setPlotter(l.getName(),l)),this.getArea(r).setChanged(!0),!0}},{key:"setIndicator",value:function(t,e){var n=this.getArea(t);if(null===n||void 0===n||"main"===n.getNameObject().getCompAt(2))return!1;var r=this.getDataProvider(t+".secondary");if(null===r||void 0===r||!g.Util.isInstance(r,u.IndicatorDataProvider))return!1;var a=this.createIndicatorAndRange(t,e);if(null===a||void 0===a)return!1;var o=a.indic,s=a.range;if(this.removeDataProvider(t+".main"),this.removePlotter(t+".main"),this.removeRange(t),this.removePlotter(t+"Range.decoration"),r.setIndicator(o),this.setRange(t,s),s.setPaddingTop(20),s.setPaddingBottom(4),s.setMinInterval(20),g.Util.isInstance(o,i.VOLUMEIndicator)){var l=new d.LastVolumePlotter(t+"Range.decoration");this.setPlotter(l.getName(),l)}else if(g.Util.isInstance(o,i.BOLLIndicator)||g.Util.isInstance(o,i.SARIndicator)){var c=new u.MainDataProvider(t+".main");this.setDataProvider(c.getName(),c),c.updateData();var h=new d.OHLCPlotter(t+".main");this.setPlotter(h.getName(),h)}return!0}},{key:"removeMainIndicator",value:function(t){var e=t+".main",n=e+".secondary",r=this.getDataProvider(n);void 0!==r&&g.Util.isInstance(r,u.IndicatorDataProvider)&&(this.removeDataProvider(n),this.removePlotter(n),this.getArea(e).setChanged(!0))}},{key:"removeIndicator",value:function(t){var e=this.getArea(t);if(void 0!==e&&"main"!==e.getNameObject().getCompAt(2)){var n=this.getDataProvider(t+".secondary");if(void 0!==n&&g.Util.isInstance(n,u.IndicatorDataProvider)){var r=t+"Range",a=this.getArea(r);if(void 0!==a){var i=this.getArea(e.getDataSourceName()+".charts");if(void 0!==i){for(var o in i.removeArea(e),this.removeArea(t),i.removeArea(a),this.removeArea(r),this._dataProviders)this._dataProviders[o].getAreaName()===t&&this.removeDataProvider(o);for(var s in this._ranges)this._ranges[s].getAreaName()===t&&this.removeRange(s);for(var l in this._plotters)this._plotters[l].getAreaName()===t&&this.removePlotter(l);for(var c in this._plotters)this._plotters[c].getAreaName()===r&&this.removePlotter(c)}}}}}},{key:"getIndicatorParameters",value:function(t){var e=this._fakeIndicators[t];if(void 0===e){var n=this.createIndicatorAndRange("",t);if(null===n)return null;this._fakeIndicators[t]=e=n.indic}var r,a=[],i=e.getParameterCount();for(r=0;r<i;r++)a.push(e.getParameterAt(r));return a}},{key:"setIndicatorParameters",value:function(t,e){var n,r;for(n in this._dataProviders){var a=this._dataProviders[n];!1!==g.Util.isInstance(a,u.IndicatorDataProvider)&&((r=a.getIndicator()).getName()===t&&(r.setParameters(e),a.refresh(),this.getArea(a.getAreaName()).setChanged(!0)))}if(void 0===(r=this._fakeIndicators[t])){var i=this.createIndicatorAndRange("",t,!0);if(null===i)return;this._fakeIndicators[t]=r=i.indic}r.setParameters(e)}},{key:"getIndicatorAreaName",value:function(t,e){var n=this.getArea(t+".charts"),r=n.getAreaCount()>>1;return e<0||e>=r?"":n.getAreaAt(e<<1).getName()}}])&&m(e.prototype,n),f&&m(e,f),t}();e.ChartManager=v,v.DrawingTool={Cursor:0,CrossCursor:1,DrawLines:2,DrawFibRetrace:3,DrawFibFans:4,SegLine:5,StraightLine:6,ArrowLine:7,RayLine:8,HoriStraightLine:9,HoriRayLine:10,HoriSegLine:11,VertiStraightLine:12,PriceLine:13,BiParallelLine:14,BiParallelRayLine:15,TriParallelLine:16,BandLine:17},v.created=!1,v.instance=null},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NamedObject=void 0;var r=n(15);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e,this._nameObj=new r.CName(e)}var e,n,i;return e=t,(n=[{key:"getFrameName",value:function(){return this._nameObj.getName(0)}},{key:"getDataSourceName",value:function(){return this._nameObj.getName(1)}},{key:"getAreaName",value:function(){return this._nameObj.getName(2)}},{key:"getName",value:function(){return this._nameObj.getName(-1)}},{key:"getNameObject",value:function(){return this._nameObj}},{key:"getRectCrossPt",value:function(t,e,n){var r={x:-1,y:-1},a={x:-1,y:-1},i=n.x-e.x,o=n.y-e.y;if(Math.abs(i)<2)return[r={x:e.x,y:t.top},a={x:n.x,y:t.bottom}];var s=o/i;return a.x=t.right,a.y=e.y+(t.right-e.x)*s,r.x=t.left,r.y=e.y+(t.left-e.x)*s,[r,a]}}])&&a(e.prototype,n),i&&a(e,i),t}();e.NamedObject=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MainDataSource=e.DataSource=void 0;var r,a=n(1),i=n(23),o=(r=n(3))&&r.__esModule?r:{default:r};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(t){return l(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return d(e,a.NamedObject),u(e,[{key:"getUpdateMode",value:function(){return this._updateMode}},{key:"setUpdateMode",value:function(t){this._updateMode=t}},{key:"getCacheSize",value:function(){return 0}},{key:"getDataCount",value:function(){return 0}},{key:"getDataAt",value:function(t){return this._dataItems[t]}}]),e}();e.DataSource=p,p.UpdateMode={DoNothing:0,Refresh:1,Update:2,Append:3};var _=function(t){function e(t){var n;return l(this,e),(n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._erasedCount=0,n._dataItems=[],n._decimalDigits=0,n.toolManager=new i.CToolManager(t),n}return d(e,p),u(e,[{key:"getCacheSize",value:function(){return this._dataItems.length}},{key:"getDataCount",value:function(){return this._dataItems.length}},{key:"getUpdatedCount",value:function(){return this._updatedCount}},{key:"getAppendedCount",value:function(){return this._appendedCount}},{key:"getErasedCount",value:function(){return this._erasedCount}},{key:"getDecimalDigits",value:function(){return this._decimalDigits}},{key:"calcDecimalDigits",value:function(t){var e=""+t,n=e.indexOf(".");return n<0?0:e.length-1-n}},{key:"getLastDate",value:function(){var t=this.getDataCount();return t<1?-1:this.getDataAt(t-1).date}},{key:"getDataAt",value:function(t){return this._dataItems[t]}},{key:"update",value:function(t){this._updatedCount=0,this._appendedCount=0,this._erasedCount=0;var e=this._dataItems.length;if(e>0){var n,r,a=e-1,i=this._dataItems[a],s=t.length;for(r=0;r<s;r++)if((n=t[r])[0]===i.date){if(i.open===n[1]&&i.high===n[2]&&i.low===n[3]&&i.close===n[4]&&i.volume===n[5]?this.setUpdateMode(p.UpdateMode.DoNothing):(this.setUpdateMode(p.UpdateMode.Update),this._dataItems[a]={date:n[0],open:n[1],high:n[2],low:n[3],close:n[4],volume:n[5]},this._updatedCount++),++r<s)for(this.setUpdateMode(p.UpdateMode.Refresh);r<s;r++,this._appendedCount++)n=t[r],this._dataItems.push({date:n[0],open:n[1],high:n[2],low:n[3],close:n[4],volume:n[5]});return!0}if(s<o.default.instance.limit)return this.setUpdateMode(p.UpdateMode.DoNothing),!1}this.setUpdateMode(p.UpdateMode.Refresh),this._dataItems=[];var l,c,u,h,d=t.length;for(h=0;h<d;h++){for(u=t[h],c=1;c<=4;c++)l=this.calcDecimalDigits(u[c]),this._decimalDigits<l&&(this._decimalDigits=l);this._dataItems.push({date:u[0],open:u[1],high:u[2],low:u[3],close:u[4],volume:u[5]})}return!0}},{key:"select",value:function(t){this.toolManager.selecedObject=t}},{key:"unselect",value:function(){this.toolManager.selecedObject=-1}},{key:"addToolObject",value:function(t){this.toolManager.addToolObject(t)}},{key:"delToolObject",value:function(){this.toolManager.delCurrentObject()}},{key:"getToolObject",value:function(t){return this.toolManager.getToolObject(t)}},{key:"getToolObjectCount",value:function(){return this.toolManager.toolObjects.length}},{key:"getCurrentToolObject",value:function(){return this.toolManager.getCurrentObject()}},{key:"getSelectToolObjcet",value:function(){return this.toolManager.getSelectedObject()}},{key:"delSelectToolObject",value:function(){this.toolManager.delSelectedObject()}}]),e}();e.MainDataSource=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(8),a=n(14),i=n(0),o=n(4),s=n(7);n(32);var l=u(n(48)),c=u(n(20));n(19);function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element="#kline_container",this.chartMgr=null,this.buttonDown=!1,this.init=!1,this.requestParam="",this.data={},this.width=window.innerWidth,this.height=window.innerHeight,this.symbol="",this.symbolName="",this.range=null,this.limit=1e3,this.type="poll",this.subscribePath="",this.sendPath="",this.stompClient=null,this.intervalTime=5e3,this.debug=!0,this.language="zh-cn",this.showLanguageSelect=!1,this.showDrawTool=!1,this.theme="dark",this.ranges=["line","1m","1d","5m","15m","30m","1h","4h","12h","1w"],this.showTrade=!0,this.tradeHeight=44,this.tradeWidth=250,this.onMaximizeWindow=null,this.socketConnected=!1,this.enableSockjs=!0,this.reverseColor=!1,this.isSized=!1,this.paused=!1,this.subscribed=null,this.klineBaseUrl="http://api.bitkk.com/data/v1/kline",this.klineMarketName="market",this.klineTypeName="type",this.klineSizeName="size",this.klineSinceName="since",this.klineSizeValue="1000",this.klineSinceValue=null,this.G_KLINE_HTTP_REQUEST=null,this.klineData={},this.klineTimer=null,this.klineIntervalTime=3e3,this.tradesBaseUrl="http://api.bitkk.com/data/v1/trades",this.tradesMarketName="market",this.G_TRADES_HTTP_REQUEST=null,this.tradesData={},this.tradesTimer=null,this.tradesIntervalTime=8e3,this.depthBaseUrl="http://api.bitkk.com/data/v1/depth",this.depthMarketName="market",this.G_DEPTH_HTTP_REQUEST=null,this.depthData={},this.depthTimer=null,this.depthIntervalTime=8e3,this.chatPeriodToolRanages=[],this.periodMap={"01w":6048e5,"03d":2592e5,"01d":864e5,"12h":432e5,"06h":216e5,"04h":144e5,"02h":72e5,"01h":36e5,"30m":18e5,"15m":9e5,"05m":3e5,"03m":18e4,"01m":6e4,line:6e4},this.tagMapPeriod={"1w":"01w","3d":"03d","1d":"01d","12h":"12h","6h":"06h","4h":"04h","2h":"02h","1h":"01h","30m":"30m","15m":"15m","5m":"05m","3m":"03m","1m":"01m",line:"01m"},this.periodTitle=null,this.periodAreaRanages=null,this.deviceRatio=2,Object.assign(this,e),t.created||(t.instance=this,t.created=!0),t.instance}var e,n,u;return e=t,(n=[{key:"periodsVertDisplayNone",value:function(t){if(t&&t instanceof Array&&t.length>0)for(var e in this.periodAreaRanages=t,this.ranges){var n=this.ranges[e];if(n&&"string"==typeof n&&t.indexOf(n)>=0){var r="#chart_period_"+n+"_v";(0,c.default)(r).attr("style","display:none")}}}},{key:"draw",value:function(){t.trade=new a.KlineTrade,t.chartMgr=new i.ChartManager;var e=c.default.parseHTML(l.default);for(var n in this.ranges){(0,c.default)(e).find('[name="'+this.ranges[n]+'"]').each(function(t,e){(0,c.default)(e).attr("style","display:inline-block")})}(0,c.default)(this.element).html(e),this.registerMouseEvent(),i.ChartManager.instance.bindCanvas("main",document.getElementById("chart_mainCanvas")),i.ChartManager.instance.bindCanvas("overlay",document.getElementById("chart_overlayCanvas")),r.Control.refreshTemplate(),r.Control.onSize(this.width,this.height),r.Control.readCookie(),this.setTheme(this.theme),this.setLanguage(this.language);var s=o.ChartSettings.get().charts.period;if(this.periodAreaRanages instanceof Array&&this.periodAreaRanages.length>0&&-1===this.periodAreaRanages.indexOf(s)){var u=(0,c.default)("#chart_period_"+s+"_v a").text();void 0!=u&&"string"==typeof u&&""!==u&&((0,c.default)(".chart_str_period").addClass("selected"),(0,c.default)(".chart_str_period").text(u))}(0,c.default)(this.element).css({visibility:"visible"})}},{key:"resize",value:function(t,e){this.width=t,this.height=e,r.Control.onSize(this.width,this.height)}},{key:"setSymbol",value:function(t,e){this.symbol=t,this.symbolName=e,r.Control.switchSymbol(t),this.onSymbolChange(t,e)}},{key:"setTheme",value:function(t){this.theme=t,r.Control.switchTheme(t)}},{key:"setLanguage",value:function(t){this.language=t,r.Control.chartSwitchLanguage(t)}},{key:"setShowTrade",value:function(t){this.showTrade=t,t?(0,c.default)(".trade_container").show():(0,c.default)(".trade_container").hide(),r.Control.onSize(this.width,this.height)}},{key:"toggleTrade",value:function(){this.showTrade?(this.showTrade=!1,(0,c.default)(".trade_container").hide()):(this.showTrade=!0,(0,c.default)(".trade_container").show()),r.Control.onSize(this.width,this.height)}},{key:"setIntervalTime",value:function(t){this.intervalTime=t,this.debug&&console.log("DEBUG: interval time changed to "+t)}},{key:"pause",value:function(){this.debug&&console.log("DEBUG: kline paused"),this.paused=!0}},{key:"resend",value:function(){this.debug&&console.log("DEBUG: kline continue"),this.paused=!1,r.Control.requestData(!0)}},{key:"connect",value:function(){"stomp"===this.type?r.Control.socketConnect():this.debug&&console.log("DEBUG: this is for stomp type")}},{key:"disconnect",value:function(){"stomp"===this.type?(this.stompClient&&(this.stompClient.disconnect(),this.socketConnected=!1),this.debug&&console.log("DEBUG: socket disconnected")):this.debug&&console.log("DEBUG: this is for stomp type")}},{key:"onResize",value:function(t,e){this.debug&&console.log("DEBUG: chart resized to width: "+t+" height: "+e)}},{key:"onLangChange",value:function(t){this.debug&&console.log("DEBUG: language changed to "+t)}},{key:"onSymbolChange",value:function(t,e){this.debug&&console.log("DEBUG: symbol changed to "+t+" "+e)}},{key:"onThemeChange",value:function(t){this.debug&&console.log("DEBUG: themes changed to : "+t)}},{key:"onRangeChange",value:function(t){this.debug&&console.log("DEBUG: range changed to "+t)}},{key:"convertCanvasToImage",value:function(t){var e=new Image;return e.src=t.toDataURL("image/png"),e}},{key:"registerMouseEvent",value:function(){(0,c.default)(document).ready(function(){(0,c.default)("#chart_overlayCanvas").bind("contextmenu",function(t){return t.cancelBubble=!0,t.returnValue=!1,t.preventDefault(),t.stopPropagation(),!1}),(0,c.default)(".chart_container .chart_dropdown .chart_dropdown_t").mouseover(function(){var t=(0,c.default)(".chart_container"),e=(0,c.default)(this),n=e.next(),r=t.offset().left,a=e.offset().left,i=t.width(),o=e.width(),s=(n.width()-o)/2<<0;a-s<r+4?s=a-r-4:s+=a+o+s>r+i-4?a+o+s-(r+i-4)+19:4,n.css({"margin-left":-s}),e.addClass("chart_dropdown-hover"),n.addClass("chart_dropdown-hover")}).mouseout(function(){(0,c.default)(this).next().removeClass("chart_dropdown-hover"),(0,c.default)(this).removeClass("chart_dropdown-hover")}),(0,c.default)(".chart_dropdown_data").mouseover(function(){(0,c.default)(this).addClass("chart_dropdown-hover"),(0,c.default)(this).prev().addClass("chart_dropdown-hover")}).mouseout(function(){(0,c.default)(this).prev().removeClass("chart_dropdown-hover"),(0,c.default)(this).removeClass("chart_dropdown-hover")}),(0,c.default)(".chart_container .chart_toolbar_tabgroup a").click(function(){r.Control.switchPeriod((0,c.default)(this).parent().attr("name")),(0,c.default)(".chart_str_period").removeClass("selected"),t.instance.periodTitle&&t.instance.periodTitle.length>0&&(0,c.default)(".chart_str_period").text(t.instance.periodTitle)}),(0,c.default)("#chart_toolbar_periods_vert ul a").click(function(){r.Control.switchPeriod((0,c.default)(this).parent().attr("name"));var t=(0,c.default)(this).text();void 0!=t&&"string"==typeof t&&((0,c.default)(".chart_str_period").text(t),(0,c.default)(".chart_str_period").addClass("selected"))}),(0,c.default)(".market_chooser ul a").click(function(){r.Control.switchSymbol((0,c.default)(this).attr("name"))}),(0,c.default)("#chart_show_indicator").click(function(){(0,c.default)(this).hasClass("selected")?r.Control.switchIndic("off"):r.Control.switchIndic("on")}),(0,c.default)("#chart_tabbar li a").click(function(){(0,c.default)("#chart_tabbar li a").removeClass("selected"),(0,c.default)(this).addClass("selected");var t=(0,c.default)(this).attr("name");o.ChartSettings.get().charts.indics[1]=t,o.ChartSettings.save(),!1===s.Template.displayVolume?i.ChartManager.instance.getChart().setIndicator(1,t):i.ChartManager.instance.getChart().setIndicator(2,t)}),(0,c.default)("#chart_select_chart_style a").click(function(){(0,c.default)("#chart_select_chart_style a").removeClass("selected"),(0,c.default)(this).addClass("selected"),o.ChartSettings.get().charts.chartStyle=(0,c.default)(this)[0].innerHTML,o.ChartSettings.save();var t=i.ChartManager.instance;t.setChartStyle("frame0.k0",(0,c.default)(this).html()),t.redraw()}),(0,c.default)("#chart_dropdown_themes li").click(function(){(0,c.default)("#chart_dropdown_themes li a").removeClass("selected");var t=(0,c.default)(this).attr("name");"chart_themes_dark"===t?r.Control.switchTheme("dark"):"chart_themes_light"===t&&r.Control.switchTheme("light")}),(0,c.default)("#chart_select_main_indicator a").click(function(){(0,c.default)("#chart_select_main_indicator a").removeClass("selected"),(0,c.default)(this).addClass("selected");var t=(0,c.default)(this).attr("name");o.ChartSettings.get().charts.mIndic=t,o.ChartSettings.save();var e=i.ChartManager.instance;e.setMainIndicator("frame0.k0",t)||e.removeMainIndicator("frame0.k0"),e.redraw()}),(0,c.default)("#chart_main_indicator li").click(function(){(0,c.default)("#chart_main_indicator a").removeClass("selected"),(0,c.default)(this).find("a").addClass("selected");var t=(0,c.default)(this).find("a").attr("name");o.ChartSettings.get().charts.mIndic=t,o.ChartSettings.save();var e=i.ChartManager.instance;e.setMainIndicator("frame0.k0",t)||e.removeMainIndicator("frame0.k0"),e.redraw(),(0,c.default)("#chart_main_indicator .chart_dropdown_data").removeClass("chart_dropdown-hover"),(0,c.default)("#chart_main_indicator .chart_dropdown_t").removeClass("chart_dropdown-hover")}),(0,c.default)(document).keyup(function(t){46===t.keyCode&&(i.ChartManager.instance.deleteToolObject(),i.ChartManager.instance.redraw("OverlayCanvas",!1))}),(0,c.default)("#clearCanvas").click(function(){for(var t=i.ChartManager.instance.getDataSource("frame0.k0"),e=t.getToolObjectCount(),n=0;n<e;n++)t.delToolObject();i.ChartManager.instance.redraw("OverlayCanvas",!1)});var e=document.getElementById("chart_overlayCanvas");e.ontouchstart=function(e){t.instance.buttonDown=!0;var n=e.target.getBoundingClientRect(),r=e.touches[0].clientX-n.left,a=e.touches[0].clientY-n.top;i.ChartManager.instance.onMouseDown("frame0",r,a)},e.ontouchmove=function(e){var n=e.target.getBoundingClientRect(),r=e.changedTouches[0].clientX-n.left,a=e.changedTouches[0].clientY-n.top,o=i.ChartManager.instance;!0===t.instance.buttonDown?(o.onMouseMove("frame0",r,a,!0),o.redraw("All",!1)):(o.onMouseMove("frame0",r,a,!1),o.redraw("OverlayCanvas"))},e.ontouchend=function(e){t.instance.buttonDown=!1;var n=e.target.getBoundingClientRect(),r=e.changedTouches[0].clientX-n.left,a=e.changedTouches[0].clientY-n.top,o=i.ChartManager.instance;o.onMouseUp("frame0",r,a),o.redraw("All")},e.ontouchcancel=function(t){var e=t.target.getBoundingClientRect(),n=t.clientX-e.left,r=t.clientY-e.top,a=i.ChartManager.instance;a.onMouseLeave("frame0",n,r,!1),a.redraw("OverlayCanvas")},(0,c.default)("#chart_overlayCanvas").mousemove(function(e){var n=e.target.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,o=i.ChartManager.instance,s=t.instance.deviceRatio;!0===t.instance.buttonDown?(o.onMouseMove("frame0",r*s,a*s,!0),o.redraw("All",!1)):(o.onMouseMove("frame0",r*s,a*s,!1),o.redraw("OverlayCanvas"))}).mouseleave(function(e){var n=e.target.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,o=i.ChartManager.instance,s=t.instance.deviceRatio;o.onMouseLeave("frame0",r*s,a*s,!1),o.redraw("OverlayCanvas")}).mouseup(function(e){if(1===e.which){t.instance.buttonDown=!1;var n=e.target.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,o=i.ChartManager.instance,s=t.instance.deviceRatio;o.onMouseUp("frame0",r*s,a*s),o.redraw("All")}}).mousedown(function(e){if(1!==e.which)return i.ChartManager.instance.deleteToolObject(),void i.ChartManager.instance.redraw("OverlayCanvas",!1);t.instance.buttonDown=!0;var n=e.target.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,o=t.instance.deviceRatio;i.ChartManager.instance.onMouseDown("frame0",r*o,a*o)}),(0,c.default)("#chart_parameter_settings :input").change(function(){var t=(0,c.default)(this).attr("name"),e=0,n=[],r=i.ChartManager.instance;if((0,c.default)("#chart_parameter_settings :input").each(function(){if((0,c.default)(this).attr("name")===t){if(""!==(0,c.default)(this).val()&&null!==(0,c.default)(this).val()&&void 0!==(0,c.default)(this).val()){var r=parseInt((0,c.default)(this).val());n.push(r)}e++}}),0!==n.length){r.setIndicatorParameters(t,n);var a=r.getIndicatorParameters(t),s=[];e=0,(0,c.default)("#chart_parameter_settings :input").each(function(){(0,c.default)(this).attr("name")===t&&(""!==(0,c.default)(this).val()&&null!==(0,c.default)(this).val()&&void 0!==(0,c.default)(this).val()&&((0,c.default)(this).val(a[e].getValue()),s.push(a[e].getValue())),e++)}),o.ChartSettings.get().indics[t]=s,o.ChartSettings.save(),r.redraw("All",!1)}}),(0,c.default)("#chart_parameter_settings button").click(function(){var t=(0,c.default)(this).parents("tr").children("th").html(),e=0,n=i.ChartManager.instance.getIndicatorParameters(t),r=[];(0,c.default)(this).parent().prev().children("input").each(function(){null!==n&&e<n.length&&((0,c.default)(this).val(n[e].getDefaultValue()),r.push(n[e].getDefaultValue())),e++}),i.ChartManager.instance.setIndicatorParameters(t,r),o.ChartSettings.get().indics[t]=r,o.ChartSettings.save(),i.ChartManager.instance.redraw("All",!1)}),(0,c.default)("#kline_container").on("click","#sizeIcon",function(){t.instance.debug&&console.log("onMaximizeWindow"),t.instance.isSized=!t.instance.isSized;var e=(0,c.default)("#chart_container_fullscreen"),n=(0,c.default)(".chart_trade_quotation"),r=(0,c.default)(".chart_container"),a=(0,c.default)(".trade_container");t.instance.isSized?(a.css("display","none"),r.appendTo(e),e.css("display","block"),n.css("display","none")):(n.css("display","block"),r=e.remove(),n.after(r),e.css("display","none"),a.css("display","block"))}),(0,c.default)("body").on("click","#tabList li",function(t){var e=(0,c.default)(t.currentTarget),n=e.data().show;(0,c.default)("#"+n).show(),(0,c.default)("#"+n).siblings("div").hide(),e.addClass("current"),e.siblings().removeClass("current")})})}}])&&h(e.prototype,n),u&&h(e,u),t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChartSettings=void 0;var r=n(0);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"checkVersion",value:function(){if(t._data.ver<2){t._data.ver=2;var e=t._data.charts;e.period_weight={},e.period_weight.line=8,e.period_weight["1min"]=7,e.period_weight["5min"]=6,e.period_weight["15min"]=5,e.period_weight["30min"]=4,e.period_weight["1hour"]=3,e.period_weight["1day"]=2,e.period_weight["1week"]=1,e.period_weight["3min"]=0,e.period_weight["2hour"]=0,e.period_weight["4hour"]=0,e.period_weight["6hour"]=0,e.period_weight["12hour"]=0,e.period_weight["3day"]=0}t._data.ver<3&&(t._data.ver=3,t._data.charts.areaHeight=[])}},{key:"get",value:function(){return void 0===t._data&&(t.init(),t.load(),t.checkVersion()),t._data}},{key:"init",value:function(){for(var e={},n=["MA","EMA","VOLUME","MACD","KDJ","StochRSI","RSI","DMI","OBV","BOLL","DMA","TRIX","BRAR","VR","EMV","WR","ROC","MTM","PSY"],a=0;a<n.length;a++){var i=r.ChartManager.instance.createIndicatorAndRange("",n[a],!0);if(null!==i){e[n[a]]=[];for(var o=i.indic.getParameters(),s=0;s<o.length;s++)e[n[a]].push(o[s])}}var l={chartStyle:"CandleStick",mIndic:"MA",indics:["VOLUME","MACD"],indicsStatus:"open",period:"15m"};t._data={ver:1,charts:l,indics:e,theme:"Dark"},t.checkVersion()}},{key:"load",value:function(){if(!(document.cookie.length<=0)){var e=document.cookie.indexOf("chartSettings=");if(!(e<0)){e+="chartSettings=".length;var n=document.cookie.indexOf(";",e);n<0&&(n=document.cookie.length);var r=unescape(document.cookie.substring(e,n));t._data=JSON.parse(r)}}}},{key:"save",value:function(){var e=new Date;e.setDate(e.getDate()+2),document.cookie="chartSettings="+escape(JSON.stringify(t._data))+";expires="+e.toGMTString()}}],(n=null)&&a(e.prototype,n),i&&a(e,i),t}();e.ChartSettings=i},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,a;return e=t,a=[{key:"fromFloat",value:function(t,e){for(var n=t.toFixed(e),r=n.length-1;r>=0;r--){if("."===n[r])return n.substring(0,r);if("0"!==n[r])return n.substring(0,r+1)}}},{key:"formatTime",value:function(t){return t<10?"0"+t.toString():t.toString()}},{key:"isInstance",value:function(t,e){return null!==t&&void 0!==t&&t instanceof e}}],(n=null)&&r(e.prototype,n),a&&r(e,a),t}();e.Util=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightTheme=e.DarkTheme=e.Theme=void 0;var r,a=(r=n(3))&&r.__esModule?r:{default:r};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(){l(this,t),this.getFont=function(t){return this._fonts[t]}}var e,n,r;return e=t,(n=[{key:"getColor",value:function(t){return this._colors[t]}}])&&c(e.prototype,n),r&&c(e,r),t}();e.Theme=u,u.theme_color_id=0,u.theme_font_id=0,u.Color={Positive:u.theme_color_id++,Negative:u.theme_color_id++,PositiveDark:u.theme_color_id++,NegativeDark:u.theme_color_id++,Unchanged:u.theme_color_id++,Background:u.theme_color_id++,Cursor:u.theme_color_id++,RangeMark:u.theme_color_id++,Indicator0:u.theme_color_id++,Indicator1:u.theme_color_id++,Indicator2:u.theme_color_id++,Indicator3:u.theme_color_id++,Indicator4:u.theme_color_id++,Indicator5:u.theme_color_id++,Grid0:u.theme_color_id++,Grid1:u.theme_color_id++,Grid2:u.theme_color_id++,Grid3:u.theme_color_id++,Grid4:u.theme_color_id++,TextPositive:u.theme_color_id++,TextNegative:u.theme_color_id++,Text0:u.theme_color_id++,Text1:u.theme_color_id++,Text2:u.theme_color_id++,Text3:u.theme_color_id++,Text4:u.theme_color_id++,LineColorNormal:u.theme_color_id++,LineColorSelected:u.theme_color_id++,CircleColorFill:u.theme_color_id++,CircleColorStroke:u.theme_color_id++},u.Font={Default:u.theme_font_id++};var h=function(t){function e(){var t;l(this,e),(t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._colors=[],a.default.instance.reverseColor?(t._colors[u.Color.Positive]="#990e0e",t._colors[u.Color.Negative]="#19b34c",t._colors[u.Color.PositiveDark]="#3b0e08",t._colors[u.Color.NegativeDark]="#004718"):(t._colors[u.Color.Positive]="#19b34c",t._colors[u.Color.Negative]="#990e0e",t._colors[u.Color.PositiveDark]="#004718",t._colors[u.Color.NegativeDark]="#3b0e08"),t._colors[u.Color.Unchanged]="#fff",t._colors[u.Color.Background]="#0a0a0a",t._colors[u.Color.Cursor]="#aaa",t._colors[u.Color.RangeMark]="#f9ee30",t._colors[u.Color.Indicator0]="#ddd",t._colors[u.Color.Indicator1]="#f9ee30",t._colors[u.Color.Indicator2]="#f600ff",t._colors[u.Color.Indicator3]="#6bf",t._colors[u.Color.Indicator4]="#a5cf81",t._colors[u.Color.Indicator5]="#e18b89",t._colors[u.Color.Grid0]="#333",t._colors[u.Color.Grid1]="#444",t._colors[u.Color.Grid2]="#666",t._colors[u.Color.Grid3]="#888",t._colors[u.Color.Grid4]="#aaa",t._colors[u.Color.TextPositive]="#1bd357",t._colors[u.Color.TextNegative]="#ff6f5e",t._colors[u.Color.Text0]="#444",t._colors[u.Color.Text1]="#666",t._colors[u.Color.Text2]="#888",t._colors[u.Color.Text3]="#aaa",t._colors[u.Color.Text4]="#ccc",t._colors[u.Color.LineColorNormal]="#a6a6a6",t._colors[u.Color.LineColorSelected]="#ffffff",t._colors[u.Color.CircleColorFill]="#000000",t._colors[u.Color.CircleColorStroke]="#ffffff",t._fonts=[];var n=10*devicePixelRatio;return t._fonts[u.Font.Default]=n+"px Tahoma",t}return s(e,u),e}();e.DarkTheme=h;var d=function(t){function e(){var t;l(this,e),(t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._colors=[],a.default.instance.reverseColor?(t._colors[u.Color.Positive]="#db5542",t._colors[u.Color.Negative]="#53b37b",t._colors[u.Color.PositiveDark]="#ffadaa",t._colors[u.Color.NegativeDark]="#66d293"):(t._colors[u.Color.Positive]="#53b37b",t._colors[u.Color.Negative]="#db5542",t._colors[u.Color.PositiveDark]="#66d293",t._colors[u.Color.NegativeDark]="#ffadaa"),t._colors[u.Color.Unchanged]="#fff",t._colors[u.Color.Background]="#fff",t._colors[u.Color.Cursor]="#aaa",t._colors[u.Color.RangeMark]="#f27935",t._colors[u.Color.Indicator0]="#2fd2b2",t._colors[u.Color.Indicator1]="#ffb400",t._colors[u.Color.Indicator2]="#e849b9",t._colors[u.Color.Indicator3]="#1478c8",t._colors[u.Color.Grid0]="#eee",t._colors[u.Color.Grid1]="#afb1b3",t._colors[u.Color.Grid2]="#ccc",t._colors[u.Color.Grid3]="#bbb",t._colors[u.Color.Grid4]="#aaa",t._colors[u.Color.TextPositive]="#53b37b",t._colors[u.Color.TextNegative]="#db5542",t._colors[u.Color.Text0]="#ccc",t._colors[u.Color.Text1]="#aaa",t._colors[u.Color.Text2]="#888",t._colors[u.Color.Text3]="#666",t._colors[u.Color.Text4]="#444",t._colors[u.Color.LineColorNormal]="#8c8c8c",t._colors[u.Color.LineColorSelected]="#393c40",t._colors[u.Color.CircleColorFill]="#ffffff",t._colors[u.Color.CircleColorStroke]="#393c40",t._fonts=[];var n=10*window.devicePixelRatio;return t._fonts[u.Font.Default]=n+"px Tahoma",t}return s(e,u),e}();e.LightTheme=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateMeasuringHandler=e.DefaultTemplate=e.Template=void 0;var r=n(0),a=n(4),i=_(n(2)),o=_(n(12)),s=_(n(13)),l=_(n(11)),c=n(24),u=n(15),h=_(n(25)),d=_(n(6)),p=_(n(18));n(19);function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}var b=function(){function t(){m(this,t)}return y(t,null,[{key:"createCandlestickDataSource",value:function(t){return new i.MainDataSource(t)}},{key:"createDataSource",value:function(t,e,n){var a=r.ChartManager.instance;null===a.getCachedDataSource(e)&&a.setCachedDataSource(e,n(e)),a.setCurrentDataSource(t,e),a.updateData(t,null)}},{key:"createTableComps",value:function(t){this.createMainChartComps(t),this.displayVolume&&this.createIndicatorChartComps(t,"VOLUME"),this.createTimelineComps(t)}},{key:"createMainChartComps",value:function(t){var e=r.ChartManager.instance,n=e.getArea(t+".charts"),a=t+".main",i=a+"Range",c=new s.MainArea(a);e.setArea(a,c),n.addArea(c);var u=new s.MainRangeArea(i);e.setArea(i,u),n.addArea(u);var h=new o.MainDataProvider(a+".main");e.setDataProvider(h.getName(),h),e.setMainIndicator(t,"MA");var d=new p.MainRange(a);e.setRange(d.getName(),d),d.setPaddingTop(28),d.setPaddingBottom(12);var _=new l.MainAreaBackgroundPlotter(a+".background");e.setPlotter(_.getName(),_),_=new l.CGridPlotter(a+".grid"),e.setPlotter(_.getName(),_),_=new l.CandlestickPlotter(a+".main"),e.setPlotter(_.getName(),_),_=new l.MinMaxPlotter(a+".decoration"),e.setPlotter(_.getName(),_),_=new l.MainInfoPlotter(a+".info"),e.setPlotter(_.getName(),_),_=new l.SelectionPlotter(a+".selection"),e.setPlotter(_.getName(),_),_=new l.CDynamicLinePlotter(a+".tool"),e.setPlotter(_.getName(),_),_=new l.RangeAreaBackgroundPlotter(a+"Range.background"),e.setPlotter(_.getName(),_),_=new l.RangePlotter(a+"Range.main"),e.setPlotter(_.getName(),_),_=new l.RangeSelectionPlotter(a+"Range.selection"),e.setPlotter(_.getName(),_),_=new l.LastClosePlotter(a+"Range.decoration"),e.setPlotter(_.getName(),_)}},{key:"createIndicatorChartComps",value:function(t,e){var n=r.ChartManager.instance,i=n.getArea(t+".charts"),c=t+".indic"+i.getNextRowId(),u=c+"Range",h=new s.IndicatorArea(c);n.setArea(c,h),i.addArea(h);var d=i.getAreaCount()>>1,p=a.ChartSettings.get().charts.areaHeight;if(p.length>d){var _,g;for(g=0;g<d;g++)(_=i.getAreaAt(g<<1)).setTop(0),_.setBottom(p[g]);h.setTop(0),h.setBottom(p[d])}var f=new s.IndicatorRangeArea(u);n.setArea(u,f),i.addArea(f);var m=new o.IndicatorDataProvider(c+".secondary");if(n.setDataProvider(m.getName(),m),!1!==n.setIndicator(c,e)){var v=new l.MainAreaBackgroundPlotter(c+".background");n.setPlotter(v.getName(),v),v=new l.CGridPlotter(c+".grid"),n.setPlotter(v.getName(),v),v=new l.IndicatorPlotter(c+".secondary"),n.setPlotter(v.getName(),v),v=new l.IndicatorInfoPlotter(c+".info"),n.setPlotter(v.getName(),v),v=new l.SelectionPlotter(c+".selection"),n.setPlotter(v.getName(),v),v=new l.RangeAreaBackgroundPlotter(c+"Range.background"),n.setPlotter(v.getName(),v),v=new l.RangePlotter(c+"Range.main"),n.setPlotter(v.getName(),v),v=new l.RangeSelectionPlotter(c+"Range.selection"),n.setPlotter(v.getName(),v)}else n.removeIndicator(c)}},{key:"createTimelineComps",value:function(t){var e,n=r.ChartManager.instance,a=new c.Timeline(t);n.setTimeline(a.getName(),a),e=new l.TimelineAreaBackgroundPlotter(t+".timeline.background"),n.setPlotter(e.getName(),e),e=new l.TimelineSelectionPlotter(t+".timeline.selection"),n.setPlotter(e.getName(),e)}},{key:"createLiveOrderComps",value:function(t){var e,n=r.ChartManager.instance;e=new l.BackgroundPlotter(t+".main.background"),n.setPlotter(e.getName(),e),e=new l.CLiveOrderPlotter(t+".main.main"),n.setPlotter(e.getName(),e)}},{key:"createLiveTradeComps",value:function(t){var e,n=r.ChartManager.instance;e=new l.BackgroundPlotter(t+".main.background"),n.setPlotter(e.getName(),e),e=new l.CLiveTradePlotter(t+".main.main"),n.setPlotter(e.getName(),e)}}]),t}();e.Template=b,b.displayVolume=!1;var x=function(t){function e(){return m(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,b),y(e,null,[{key:"loadTemplate",value:function(t,e){var n=r.ChartManager.instance,i=a.ChartSettings.get(),o=new u.CName(t).getCompAt(0);n.unloadTemplate(o),this.createDataSource(t,e,this.createCandlestickDataSource);var l=new h.DockableLayout(o);n.setFrame(l.getName(),l),n.setArea(l.getName(),l),l.setGridColor(d.Theme.Color.Grid1);var c=new s.TimelineArea(t+".timeline");n.setArea(c.getName(),c),l.addArea(c),c.setDockStyle(s.ChartArea.DockStyle.Bottom),c.Measuring.addHandler(c,w.onMeasuring);var p=new h.TableLayout(t+".charts");return n.setArea(p.getName(),p),p.setDockStyle(s.ChartArea.DockStyle.Fill),l.addArea(p),this.createTableComps(t),n.setThemeName(o,i.theme),n}}]),e}();e.DefaultTemplate=x;var w=function(){function t(){m(this,t)}return y(t,null,[{key:"onMeasuring",value:function(t,e){var n=e.Width;e.Height;"timeline"===t.getNameObject().getCompAt(2)&&t.setMeasuredDimension(n,22)}}]),t}();e.TemplateMeasuringHandler=w},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Control=void 0;var _kline=_interopRequireDefault(__webpack_require__(3)),_kline_trade=__webpack_require__(14),_chart_manager=__webpack_require__(0),_chart_settings=__webpack_require__(4),_templates=__webpack_require__(7),_mevent=__webpack_require__(17),_jquery=_interopRequireDefault(__webpack_require__(20));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var Control=function(){function Control(){_classCallCheck(this,Control)}return _createClass(Control,null,[{key:"klineAbortRequest",value:function(){"stomp"===_kline.default.instance.type&&_kline.default.instance.stompClient||_kline.default.instance.G_KLINE_HTTP_REQUEST&&4!==_kline.default.instance.G_KLINE_HTTP_REQUEST.readyState&&_kline.default.instance.G_KLINE_HTTP_REQUEST.abort()}},{key:"tradesAbortRequest",value:function(){"stomp"===_kline.default.instance.type&&_kline.default.instance.stompClient||_kline.default.instance.G_TRADES_HTTP_REQUEST&&4!==_kline.default.instance.G_TRADES_HTTP_REQUEST.readyState&&_kline.default.instance.G_TRADES_HTTP_REQUEST.abort()}},{key:"depthAbortRequest",value:function(){"stomp"===_kline.default.instance.type&&_kline.default.instance.stompClient||_kline.default.instance.G_DEPTH_HTTP_REQUEST&&4!==_kline.default.instance.G_DEPTH_HTTP_REQUEST.readyState&&_kline.default.instance.G_DEPTH_HTTP_REQUEST.abort()}},{key:"tradesRequestData",value:function(){Control.tradesAbortRequest(),window.clearTimeout(_kline.default.instance.tradesTimer),_kline.default.instance.paused||("stomp"===_kline.default.instance.type&&_kline.default.instance.stompClient?Control.tradesRequestOverStomp():Control.tradesRequestOverHttp())}},{key:"klineRequestData",value:function(t){Control.klineAbortRequest(),window.clearTimeout(_kline.default.instance.klineTimer),_kline.default.instance.paused||(!0===t&&(0,_jquery.default)("#chart_loading").addClass("activated"),"stomp"===_kline.default.instance.type&&_kline.default.instance.stompClient?Control.klineRequestOverStomp():Control.klineRequestOverHttp())}},{key:"depthRequestData",value:function(t){Control.depthAbortRequest(),window.clearTimeout(_kline.default.instance.depthTimer),_kline.default.instance.paused||("stomp"===_kline.default.instance.type&&_kline.default.instance.stompClient?Control.depthRequestOverStomp():Control.depthRequestOverHttp())}},{key:"klineRequestOverStomp",value:function(){}},{key:"klineRequestOverHttp",value:function(){var t=_chart_settings.ChartSettings.get(),e=_kline.default.instance.tagMapPeriod[t.charts.period];if(e&&_kline.default.instance.symbol){var n={};_kline.default.instance.klineMarketName&&_kline.default.instance.symbol&&(n[_kline.default.instance.klineMarketName]=_kline.default.instance.symbol),_kline.default.instance.klineTypeName&&Control.requestDuration[e]&&(n[_kline.default.instance.klineTypeName]=Control.requestDuration[e]),_kline.default.instance.klineSizeName&&_kline.default.instance.klineSizeValue&&(n[_kline.default.instance.klineSizeName]=_kline.default.instance.klineSizeValue),_kline.default.instance.klineSinceName&&_kline.default.instance.klineSinceValue&&(n[_kline.default.instance.klineSinceName]=_kline.default.instance.klineSinceValue);var r=_kline.default.instance.periodMap[e];(0,_jquery.default)(document).ready(_kline.default.instance.G_KLINE_HTTP_REQUEST=_jquery.default.ajax({type:"GET",url:_kline.default.instance.klineBaseUrl,dataType:"json",data:n,timeout:3e4,created:Date.now(),beforeSend:function(){this.range=_kline.default.instance.range,this.symbol=_kline.default.instance.symbol},success:function(t){_kline.default.instance.G_KLINE_HTTP_REQUEST&&Control.klineRequestSuccessHandler(t,r)},error:function(t,e,n){_kline.default.instance.debug&&console.log(t),200===t.status&&4===t.readyState||(_kline.default.instance.klineTimer=setTimeout(function(){Control.klineRequestData(!0)},_kline.default.instance.klineIntervalTime))},complete:function(){_kline.default.instance.G_KLINE_HTTP_REQUEST=null}}))}}},{key:"klineRequestSuccessHandler",value:function klineRequestSuccessHandler(res,per){if(res&&res.data&&Array.isArray(res.data)){var chart=_chart_manager.ChartManager.instance.getChart();if(chart.getRange()===per){chart.setTitle(),_kline.default.instance.klineData=eval(res.data);var updateDataRes=_kline.default.instance.chartMgr.updateData("frame0.k0",_kline.default.instance.klineData);_kline.default.instance.requestParam=Control.setHttpRequestParam(_kline.default.instance.symbol,_kline.default.instance.range,null,_kline.default.instance.chartMgr.getDataSource("frame0.k0").getLastDate());var intervalTime=_kline.default.instance.klineIntervalTime<_kline.default.instance.range?_kline.default.instance.klineIntervalTime:_kline.default.instance.range;(0,_jquery.default)("#chart_loading").removeClass("activated"),updateDataRes?("poll"===_kline.default.instance.type&&(_kline.default.instance.klineTimer=setTimeout(Control.klineReqOnTwoSecondThread,intervalTime)),_chart_manager.ChartManager.instance.redraw("MainCanvas",!1)):"poll"===_kline.default.instance.type&&(_kline.default.instance.klineTimer=setTimeout(function(){Control.klineRequestData(!0)},intervalTime))}else"poll"===_kline.default.instance.type&&(_kline.default.instance.klineTimer=setTimeout(function(){Control.klineRequestData(!0)},intervalTime))}else"poll"===_kline.default.instance.type&&(_kline.default.instance.klineTimer=setTimeout(function(){Control.klineRequestData(!0)},_kline.default.instance.klineIntervalTime))}},{key:"klineReqOnTwoSecondThread",value:function(){var t=_kline.default.instance.chartMgr.getDataSource("frame0.k0").getLastDate();_kline.default.instance.requestParam=-1===t?Control.setHttpRequestParam(_kline.default.instance.symbol,_kline.default.instance.range,_kline.default.instance.limit,null):Control.setHttpRequestParam(_kline.default.instance.symbol,_kline.default.instance.range,null,t.toString()),Control.klineRequestData()}},{key:"depthRequestOverStomp",value:function(){}},{key:"depthRequestOverHttp",value:function(){var t={};_kline.default.instance.depthMarketName&&_kline.default.instance.symbol&&(t[_kline.default.instance.depthMarketName]=_kline.default.instance.symbol),(0,_jquery.default)(document).ready(_kline.default.instance.G_DEPTH_HTTP_REQUEST=_jquery.default.ajax({type:"GET",url:_kline.default.instance.depthBaseUrl,dataType:"json",data:t,timeout:3e4,created:Date.now(),beforeSend:function(){this.range=_kline.default.instance.range,this.symbol=_kline.default.instance.symbol},success:function(t){_kline.default.instance.G_DEPTH_HTTP_REQUEST&&Control.depthRequestSuccessHandler(t)},error:function(t,e,n){_kline.default.instance.debug&&console.log(t),200===t.status&&4===t.readyState||(_kline.default.instance.depthTimer=setTimeout(function(){Control.depthRequestData(!1)},_kline.default.instance.depthIntervalTime))},complete:function(){_kline.default.instance.G_DEPTH_HTTP_REQUEST=null}}))}},{key:"depthRequestSuccessHandler",value:function depthRequestSuccessHandler(res){if(res&&res.asks&&Array.isArray(res.asks)&&res.bids&&Array.isArray(res.bids)){_kline.default.instance.depthData=eval(res);var intervalTime=_kline.default.instance.depthIntervalTime;_kline.default.instance.depthData&&_kline_trade.KlineTrade.instance.updateDepth(_kline.default.instance.depthData),"poll"===_kline.default.instance.type&&(_kline.default.instance.depthTimer=setTimeout(Control.depthRequestData,intervalTime))}else"poll"===_kline.default.instance.type&&(_kline.default.instance.depthTimer=setTimeout(function(){Control.depthRequestData(!0)},_kline.default.instance.depthIntervalTime))}},{key:"depthTwoSecondThread",value:function(){Control.depthRequestData()}},{key:"tradesRequestOverStomp",value:function(){}},{key:"tradesRequestOverHttp",value:function(){var t={};_kline.default.instance.tradesMarketName&&_kline.default.instance.symbol&&(t[_kline.default.instance.tradesMarketName]=_kline.default.instance.symbol),(0,_jquery.default)(document).ready(_kline.default.instance.G_TRADES_HTTP_REQUEST=_jquery.default.ajax({type:"GET",url:_kline.default.instance.tradesBaseUrl,dataType:"json",data:t,timeout:3e4,created:Date.now(),beforeSend:function(){this.range=_kline.default.instance.range,this.symbol=_kline.default.instance.symbol},success:function(t){_kline.default.instance.G_TRADES_HTTP_REQUEST&&Control.tradesRequestSuccessHandler(t)},error:function(t,e,n){_kline.default.instance.debug&&console.log(t),200===t.status&&4===t.readyState||(_kline.default.instance.tradesTimer=setTimeout(function(){Control.tradesRequestData(!1)},_kline.default.instance.tradesIntervalTime))},complete:function(){_kline.default.instance.G_TRADES_HTTP_REQUEST=null}}))}},{key:"tradesRequestSuccessHandler",value:function(t){if(t&&Array.isArray(t)){var e=_kline.default.instance.tradesIntervalTime;t&&t.length>0&&(_kline_trade.KlineTrade.instance.pushTrades(t),_kline_trade.KlineTrade.instance.klineTradeInit=!0),"poll"===_kline.default.instance.type&&(_kline.default.instance.tradesTimer=setTimeout(Control.tradesRequestData,e))}else"poll"===_kline.default.instance.type&&(_kline.default.instance.tradesTimer=setTimeout(function(){Control.tradesRequestData(!1)},_kline.default.instance.tradesIntervalTime))}},{key:"parseRequestParam",value:function(t){return JSON.parse('{"'+decodeURI(t.replace(/&/g,'","').replace(/=/g,'":"'))+'"}')}},{key:"requestOverStomp",value:function(){_kline.default.instance.socketConnected?_kline.default.instance.stompClient&&1===_kline.default.instance.stompClient.ws.readyState?_kline.default.instance.stompClient.send(_kline.default.instance.sendPath,{},JSON.stringify(Control.parseRequestParam(_kline.default.instance.requestParam))):(_kline.default.instance.debug&&console.log("DEBUG: stomp client is not ready yet ..."),_kline.default.instance.timer=setTimeout(function(){Control.requestData(!0)},1e3)):_kline.default.instance.debug&&console.log("DEBUG: socket is not coonnected")}},{key:"requestOverHttp",value:function(){_kline.default.instance.debug&&console.log("DEBUG: "+_kline.default.instance.requestParam),(0,_jquery.default)(document).ready(_kline.default.instance.G_HTTP_REQUEST=_jquery.default.ajax({type:"GET",url:_kline.default.instance.url,dataType:"json",data:_kline.default.instance.requestParam,timeout:3e4,created:Date.now(),beforeSend:function(){this.range=_kline.default.instance.range,this.symbol=_kline.default.instance.symbol},success:function(t){_kline.default.instance.G_HTTP_REQUEST&&Control.requestSuccessHandler(t)},error:function(t,e,n){_kline.default.instance.debug&&console.log(t),200===t.status&&4===t.readyState||(_kline.default.instance.timer=setTimeout(function(){Control.requestData(!0)},_kline.default.instance.intervalTime))},complete:function(){_kline.default.instance.G_HTTP_REQUEST=null}}))}},{key:"TwoSecondThread",value:function(){var t=_kline.default.instance.chartMgr.getDataSource("frame0.k0").getLastDate();_kline.default.instance.requestParam=-1===t?Control.setHttpRequestParam(_kline.default.instance.symbol,_kline.default.instance.range,_kline.default.instance.limit,null):Control.setHttpRequestParam(_kline.default.instance.symbol,_kline.default.instance.range,null,t.toString()),Control.requestData()}},{key:"readCookie",value:function(){_chart_settings.ChartSettings.get(),_chart_settings.ChartSettings.save();var t=_chart_settings.ChartSettings.get();_chart_manager.ChartManager.instance.setChartStyle("frame0.k0",t.charts.chartStyle);var e=t.charts.symbol;_kline.default.instance.init||(e=_kline.default.instance.symbol,_kline.default.instance.init=!0),_kline.default.instance.symbol=e,Control.switchSymbolSelected(e);var n=t.charts.period;_kline.default.instance.periodTitle=(0,_jquery.default)(".chart_str_period").text(),Control.switchPeriod(n),(0,_jquery.default)("#chart_period_"+n+"_v a").addClass("selected"),(0,_jquery.default)("#chart_period_"+n+"_h a").addClass("selected"),"close"===t.charts.indicsStatus?Control.switchIndic("off"):"open"===t.charts.indicsStatus&&Control.switchIndic("on"),(0,_jquery.default)("#chart_select_main_indicator").find("a").each(function(){(0,_jquery.default)(this).attr("name")===t.charts.mIndic&&(0,_jquery.default)(this).addClass("selected")}),(0,_jquery.default)("#chart_select_chart_style").find("a").each(function(){(0,_jquery.default)(this)[0].innerHTML===t.charts.chartStyle&&(0,_jquery.default)(this).addClass("selected")}),_chart_manager.ChartManager.instance.getChart().setMainIndicator(t.charts.mIndic),_chart_manager.ChartManager.instance.setThemeName("frame0",t.theme),Control.switchTools("off"),"Dark"===t.theme?Control.switchTheme("dark"):"Light"===t.theme&&Control.switchTheme("light"),Control.chartSwitchLanguage(t.language||"zh-cn")}},{key:"setHttpRequestParam",value:function(t,e,n,r){var a="symbol="+t+"&range="+e;return a+=null!==n?"&limit="+n:"&since="+r,0!==_kline_trade.KlineTrade.instance.tradeDate.getTime()&&(a+="&prevTradeTime="+_kline_trade.KlineTrade.instance.tradeDate.getTime()),a}},{key:"refreshTemplate",value:function(){_kline.default.instance.chartMgr=_templates.DefaultTemplate.loadTemplate("frame0.k0",""),_chart_manager.ChartManager.instance.redraw("All",!0)}},{key:"chartSwitchLanguage",value:function(t){var e=t.replace(/-/,"_");(0,_jquery.default)("#chart_language_switch_tmp").find("span").each(function(){var t=(0,_jquery.default)(this).attr("name"),n=(0,_jquery.default)(this).attr(e);t="."+t,(0,_jquery.default)(t)[0]&&(0,_jquery.default)(t).each(function(){(0,_jquery.default)(this)[0].innerHTML=n})}),_chart_manager.ChartManager.instance.setLanguage(t),_chart_manager.ChartManager.instance.getChart().setTitle(),_chart_settings.ChartSettings.get().language=t,_chart_settings.ChartSettings.save(),_kline.default.instance.onLangChange(t)}},{key:"onSize",value:function(t,e){var n=t||window.innerWidth,r=n,a=e||window.innerHeight,i=a;_kline.default.instance.showTrade&&!isNaN(_kline.default.instance.tradeHeight)&&(i-=_kline.default.instance.tradeHeight),(0,_jquery.default)(_kline.default.instance.element).css({width:n+"px",height:i+"px"});var o=(0,_jquery.default)("#chart_toolbar"),s=(0,_jquery.default)("#chart_canvasGroup"),l=(0,_jquery.default)("#chart_container_clone"),c=(0,_jquery.default)("#chart_container_fullscreen"),u=(0,_jquery.default)("#chart_tabbar"),h="block"===u[0].style.display,d={x:0,y:0};d.w=r,d.h=29;var p={x:0};p.y=d.h+1,p.w=0,p.h=a-p.y;var _={};_.w=r,_.h=h?22:-1,_.x=r-_.w,_.y=i-(_.h+1);var g={};g.x=_.x,g.y=p.y,g.w=_.w,g.h=_.y-p.y,o.css({left:d.x+"px",top:d.y+"px",width:d.w+"px",height:d.h+"px"}),s.css({left:g.x+"px",top:d.y+d.h+"px",width:"100%",height:g.h+"px"}),l.css({left:g.x+"px",top:d.y+d.h+"px",width:"100%",height:g.h+"px"}),c.css({left:g.x+"px",top:"0px",width:n+"px",height:a+"px"}),(0,_jquery.default)("#chart_container_image").css({left:g.x+"px",top:d.y+d.h+"px",width:"100%",height:g.h+"px"});var f=(0,_jquery.default)("#chart_mainCanvas")[0],m=(0,_jquery.default)("#chart_overlayCanvas")[0],v=window.devicePixelRatio,y=f.getContext("2d"),b=v/(y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1);_kline.default.instance.deviceRatio=b,f.width=g.w*b,f.height=g.h*b,f.style.width="100%",f.style.height=g.h+"px",m.width=g.w*b,m.height=g.h*b,m.style.width="100%",m.style.height=g.h+"px",h&&u.css({left:_.x+"px",top:_.y+"px",width:_.w+"px",height:_.h+"px"});var x=(0,_jquery.default)("#chart_loading");x.css({left:r-x.width()>>1,top:a-x.height()>>2});(0,_jquery.default)("#chart_dom_elem_cache");var w=(0,_jquery.default)("#chart_toolbar_periods_vert"),C=(0,_jquery.default)("#chart_toolbar_periods_horz")[0],P=(0,_jquery.default)("#chart_show_indicator")[0],k=(0,_jquery.default)("#chart_dropdown_settings"),A=(0,_jquery.default)("#chart_main_indicator")[0];(0,_jquery.default)(P).hide(),(0,_jquery.default)(k).hide();for(var O=[],E=_kline.default.instance.ranges,S=r-A.offsetWidth-4-70,M=E.length,I=M,T=0,D=0;D<M;D++){var R=(0,_jquery.default)("#chart_period_"+E[D]+"_h");R.show(),(T+=R.width())>S-w.width()?(R.hide(),I--):O.push(E[D])}I<E.length?(w.show(),_kline.default.instance.periodsVertDisplayNone(O)):w.hide();var N=w[0].offsetWidth,j=N+C.offsetWidth,L=(P.offsetWidth,k.find(".chart_dropdown_t")[0].offsetWidth+150);N+=L,j+=L,_kline.default.instance.showTrade?(0,_jquery.default)(".trade_container").show():(0,_jquery.default)(".trade_container").hide(),_chart_manager.ChartManager.instance.redraw("All",!0),_kline.default.instance.onResize(n,a)}},{key:"mouseWheel",value:function(t,e){return _chart_manager.ChartManager.instance.scale(e>0?1:-1),_chart_manager.ChartManager.instance.redraw("All",!0),!1}},{key:"switchTheme",value:function(t){if((0,_jquery.default)(".chart_container").attr("class","chart_container "+t),(0,_jquery.default)(".marketName_ a").attr("class",t),"dark"===t)(0,_jquery.default)(".trade_container").addClass("dark").removeClass("light"),_chart_manager.ChartManager.instance.setThemeName("frame0","Dark"),_chart_settings.ChartSettings.get().theme="Dark",_chart_settings.ChartSettings.save();else if("light"===t){(0,_jquery.default)(".trade_container").addClass("light").removeClass("dark"),_chart_manager.ChartManager.instance.setThemeName("frame0","Light"),_chart_settings.ChartSettings.get().theme="Light",_chart_settings.ChartSettings.save()}var e={command:"set current themes"};e.content=t,(0,_jquery.default)("#chart_output_interface_text").val(JSON.stringify(e)),(0,_jquery.default)("#chart_output_interface_submit").submit(),(new _mevent.MEvent).raise(t),_chart_manager.ChartManager.instance.redraw(),_kline.default.instance.onThemeChange(t)}},{key:"switchTools",value:function(t){(0,_jquery.default)(".chart_dropdown_data").removeClass("chart_dropdown-hover"),"on"===t||"off"===t&&(_chart_manager.ChartManager.instance.setRunningMode(_chart_manager.ChartManager.instance._beforeDrawingTool),_chart_manager.ChartManager.instance.redraw("All",!0)),_kline.default.instance.isSized?Control.onSize():Control.onSize(_kline.default.instance.width,_kline.default.instance.height)}},{key:"switchIndic",value:function(t){if("on"===t){(0,_jquery.default)("#chart_show_indicator").addClass("selected");var e=_chart_settings.ChartSettings.get();e.charts.indicsStatus="open",_chart_settings.ChartSettings.save();var n=e.charts.indics[1];_templates.Template.displayVolume,_chart_manager.ChartManager.instance.getChart().setIndicator(2,n),(0,_jquery.default)("#chart_tabbar").find("a").each(function(){(0,_jquery.default)(this).attr("name")===n&&(0,_jquery.default)(this).addClass("selected")}),(0,_jquery.default)("#chart_tabbar")[0].style.display="block"}else if("off"===t){(0,_jquery.default)("#chart_show_indicator").removeClass("selected"),_chart_manager.ChartManager.instance.getChart().setIndicator(2,"NONE"),_chart_settings.ChartSettings.get().charts.indicsStatus="close",_chart_settings.ChartSettings.save(),(0,_jquery.default)("#chart_tabbar")[0].style.display="none",(0,_jquery.default)("#chart_tabbar a").removeClass("selected")}_kline.default.instance.isSized?Control.onSize():Control.onSize(_kline.default.instance.width,_kline.default.instance.height)}},{key:"switchPeriod",value:function(t){if((0,_jquery.default)(".chart_container .chart_toolbar_tabgroup a").removeClass("selected"),(0,_jquery.default)("#chart_toolbar_periods_vert ul a").removeClass("selected"),(0,_jquery.default)(".chart_container .chart_toolbar_tabgroup a").each(function(){(0,_jquery.default)(this).parent().attr("name")===t&&(0,_jquery.default)(this).addClass("selected")}),(0,_jquery.default)("#chart_toolbar_periods_vert ul a").each(function(){(0,_jquery.default)(this).parent().attr("name")===t&&(0,_jquery.default)(this).addClass("selected")}),(0,_jquery.default)("#chart_toolbar_periods_vert .chart_dropdown_t").removeClass("chart_dropdown-hover"),_chart_manager.ChartManager.instance.showCursor(),Control.calcPeriodWeight(t),"line"===t)return _chart_manager.ChartManager.instance.getChart().strIsLine=!0,_chart_manager.ChartManager.instance.setChartStyle("frame0.k0","Line"),_chart_manager.ChartManager.instance.getChart().setCurrentPeriod("line"),_chart_settings.ChartSettings.get().charts.period=t,void _chart_settings.ChartSettings.save();_chart_manager.ChartManager.instance.getChart().strIsLine=!1;var e=_kline.default.instance.tagMapPeriod[t];_chart_manager.ChartManager.instance.setChartStyle("frame0.k0",_chart_settings.ChartSettings.get().charts.chartStyle),_chart_manager.ChartManager.instance.getChart().setCurrentPeriod(e),_chart_settings.ChartSettings.get().charts.period=t,_chart_settings.ChartSettings.save()}},{key:"reset",value:function(t){_kline.default.instance.symbol=t,_kline.default.instance.showTrade&&_kline_trade.KlineTrade.instance.reset(t)}},{key:"switchSymbolSelected",value:function(t){Control.reset(t),(0,_jquery.default)(".market_chooser ul a").removeClass("selected"),(0,_jquery.default)(".market_chooser ul a[name='"+t+"']").addClass("selected"),_chart_manager.ChartManager.instance.getChart()._symbol=t,_chart_settings.ChartSettings.get().charts.symbol=t,_chart_settings.ChartSettings.save()}},{key:"switchSymbol",value:function(t){"stomp"===_kline.default.instance.type&&1===_kline.default.instance.stompClient.ws.readyState&&(_kline.default.instance.subscribed.unsubscribe(),_kline.default.instance.subscribed=_kline.default.instance.stompClient.subscribe(_kline.default.instance.subscribePath+"/"+t+"/"+_kline.default.instance.range,Control.subscribeCallback)),Control.switchSymbolSelected(t),"line"===_chart_settings.ChartSettings.get().charts.period?(_chart_manager.ChartManager.instance.getChart().strIsLine=!0,_chart_manager.ChartManager.instance.setChartStyle("frame0.k0","Line")):(_chart_manager.ChartManager.instance.getChart().strIsLine=!1,_chart_manager.ChartManager.instance.setChartStyle("frame0.k0",_chart_settings.ChartSettings.get().charts.chartStyle)),_chart_manager.ChartManager.instance.getChart().setSymbol(t)}},{key:"calcPeriodWeight",value:function(t){var e=t;"line"!==t&&(e=_kline.default.instance.periodMap[_kline.default.instance.tagMapPeriod[t]]);var n=_chart_settings.ChartSettings.get().charts.period_weight;for(var r in n)n[r]>n[e]&&(n[r]-=1);n[e]=8,_chart_settings.ChartSettings.save()}},{key:"subscribeCallback",value:function(t){Control.requestSuccessHandler(JSON.parse(t.body))}},{key:"socketConnect",value:function(){if(!_kline.default.instance.stompClient||!_kline.default.instance.socketConnected){if(_kline.default.instance.enableSockjs){var t=new SockJS(_kline.default.instance.url);_kline.default.instance.stompClient=Stomp.over(t)}else _kline.default.instance.stompClient=Stomp.client(_kline.default.instance.url);_kline.default.instance.socketConnected=!0}1!==_kline.default.instance.stompClient.ws.readyState?(_kline.default.instance.debug||(_kline.default.instance.stompClient.debug=null),_kline.default.instance.stompClient.connect({},function(){_kline.default.instance.stompClient.subscribe("/user"+_kline.default.instance.subscribePath,Control.subscribeCallback),_kline.default.instance.subscribed=_kline.default.instance.stompClient.subscribe(_kline.default.instance.subscribePath+"/"+_kline.default.instance.symbol+"/"+_kline.default.instance.range,Control.subscribeCallback),Control.requestData(!0)},function(){_kline.default.instance.stompClient.disconnect(),console.log("DEBUG: reconnect in 5 seconds ..."),setTimeout(function(){Control.socketConnect()},5e3)})):console.log("DEBUG: already connected")}}]),Control}();exports.Control=Control,Control.refreshCounter=0,Control.refreshHandler=null,Control.requestDuration={"01d":"1day","01w":"1week","03d":"3day","12h":"12hour","06h":"6hour","04h":"4hour","02h":"2hour","01h":"1hour","30m":"30min","15m":"15min","05m":"5min","03m":"3min","01m":"1min",line:"line"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CPoint=void 0;var r=n(0),a=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(2)),o=n(5);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var u=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).pos={index:-1,value:-1},n.state=e.state.Hide,n}var n,s,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.NamedObject),n=e,(s=[{key:"getChartObjects",value:function(){var t=r.ChartManager.instance,e=t.getDataSource("frame0.k0");if(null===e||!o.Util.isInstance(e,i.MainDataSource))return null;var n=t.getTimeline("frame0.k0");if(null===n)return null;var a=t.getRange("frame0.k0.main");return null===a?null:{pMgr:t,pCDS:e,pTimeline:n,pRange:a}}},{key:"setPosXY",value:function(t,e){var n=this.getChartObjects(),r=n.pTimeline.toIndex(t),a=n.pRange.toValue(e),i=this.snapValue(r,a);null!==i&&(a=i),this.setPosIV(r,a)}},{key:"setPosXYNoSnap",value:function(t,e){var n=this.getChartObjects(),r=n.pTimeline.toIndex(t),a=n.pRange.toValue(e);this.setPosIV(r,a)}},{key:"setPosIV",value:function(t,e){this.pos={index:t,value:e}}},{key:"getPosXY",value:function(){var t=this.getChartObjects();return{x:t.pTimeline.toItemCenter(this.pos.index),y:t.pRange.toY(this.pos.value)}}},{key:"getPosIV",value:function(){return{i:this.pos.index,v:this.pos.value}}},{key:"setState",value:function(t){this.state=t}},{key:"getState",value:function(){return this.state}},{key:"isSelected",value:function(t,n){var r=this.getPosXY();return!(t<r.x-4||t>r.x+4||n<r.y-4||n>r.y+4)&&(this.setState(e.state.Highlight),!0)}},{key:"snapValue",value:function(t,e){var n=this.getChartObjects(),r=null,a=Math.floor(n.pTimeline.getFirstIndex()),i=Math.floor(n.pTimeline.getLastIndex());if(t<a||t>i)return r;var o=n.pRange.toY(e),s=n.pCDS.getDataAt(t);if(null===s||void 0===s)return r;var l=null;l=t>0?n.pCDS.getDataAt(t-1):n.pCDS.getDataAt(t);var c=n.pMgr.getChartStyle(n.pCDS.getFrameName()),u=n.pRange.toY(s.open),h=n.pRange.toY(s.high),d=n.pRange.toY(s.low),p=n.pRange.toY(s.close);"CandleStickHLC"===c&&(u=n.pRange.toY(l.close));var _=Math.abs(u-o),g=Math.abs(h-o),f=Math.abs(d-o),m=Math.abs(p-o);return _<=g&&_<=f&&_<=m&&_<6&&(r=s.open),g<=_&&g<=f&&g<=m&&g<6&&(r=s.high),f<=_&&f<=g&&f<=m&&f<6&&(r=s.low),m<=_&&m<=g&&m<=f&&m<6&&(r=s.close),r}}])&&l(n.prototype,s),u&&l(n,u),e}();e.CPoint=u,u.state={Hide:0,Show:1,Highlight:2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CArrowLineObject=e.CPriceLineObject=e.CVertiStraightLineObject=e.CTriParallelLineObject=e.CStraightLineObject=e.CSegLineObject=e.CRayLineObject=e.CHoriStraightLineObject=e.CHoriSegLineObject=e.CHoriRayLineObject=e.CFibRetraceObject=e.CFibFansObject=e.CBiParallelRayLineObject=e.CBiParallelLineObject=e.CBandLineObject=e.CTriToolObject=e.CBiToolObject=e.CToolObject=void 0;var r=n(0),a=n(1),i=n(9),o=n(5),s=c(n(2)),l=c(n(11));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:h(a,e,n)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(n):void 0}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function g(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=null,n.state=e.state.BeforeDraw,n.points=[],n.step=0,n}return m(e,a.NamedObject),_(e,[{key:"getChartObjects",value:function(){var t=r.ChartManager.instance,e=t.getDataSource("frame0.k0");if(null===e||!o.Util.isInstance(e,s.MainDataSource))return null;var n=t.getTimeline("frame0.k0");if(null===n)return null;var a=t.getArea("frame0.k0.main");if(null===a)return null;var i=t.getRange("frame0.k0.main");return null===i?null:{pMgr:t,pCDS:e,pTimeline:n,pArea:a,pRange:i}}},{key:"isValidMouseXY",value:function(t,e){var n=this.getChartObjects(),r=n.pArea.getLeft(),a=n.pArea.getTop(),i=n.pArea.getRight(),o=n.pArea.getBottom();return!(t<r||t>i||e<a||e>o)}},{key:"getPlotter",value:function(){return this.drawer}},{key:"setState",value:function(t){this.state=t}},{key:"getState",value:function(){return this.state}},{key:"addPoint",value:function(t){this.points.push(t)}},{key:"getPoint",value:function(t){return this.points[t]}},{key:"acceptMouseMoveEvent",value:function(t,n){return!1!==this.isValidMouseXY(t,n)&&(this.state===e.state.BeforeDraw?this.setBeforeDrawPos(t,n):this.state===e.state.Draw?this.setDrawPos(t,n):this.state===e.state.AfterDraw&&this.setAfterDrawPos(t,n),!0)}},{key:"acceptMouseDownEvent",value:function(t,n){return!1!==this.isValidMouseXY(t,n)&&(this.state===e.state.BeforeDraw?(this.setDrawPos(t,n),this.setState(e.state.Draw)):this.state===e.state.Draw?(this.setAfterDrawPos(t,n),0===this.step&&this.setState(e.state.AfterDraw)):this.state===e.state.AfterDraw&&(e.prototype.isSelected(t,n)?(this.setDrawPos(t,n),this.setState(e.state.Draw)):(this.oldx=t,this.oldy=n)),!0)}},{key:"acceptMouseDownMoveEvent",value:function(t,n){if(!1===this.isValidMouseXY(t,n))return!1;if(this.state===e.state.Draw)this.setDrawPos(t,n);else if(this.state===e.state.AfterDraw){var r=this.getChartObjects(),a=r.pTimeline.getItemWidth();r.pRange;if(Math.abs(t-this.oldx)<a&&0===Math.abs(n-this.oldy))return!0;var i=r.pTimeline.toIndex(this.oldx),o=r.pRange.toValue(this.oldy),s=r.pTimeline.toIndex(t),l=r.pRange.toValue(n);this.oldx=t,this.oldy=n;var c=s-i,u=l-o;for(var h in this.points)this.points[h].pos.index+=c,this.points[h].pos.value+=u}return!0}},{key:"acceptMouseUpEvent",value:function(t,n){return!1!==this.isValidMouseXY(t,n)&&(this.state===e.state.Draw&&(this.setAfterDrawPos(t,n),0===this.step&&this.setState(e.state.AfterDraw),!0))}},{key:"setBeforeDrawPos",value:function(t,e){for(var n in this.points)this.points[n].setPosXY(t,e),this.points[n].setState(i.CPoint.state.Show)}},{key:"setDrawPos",value:function(t,e){for(var n in this.points)this.points[n].getState()===i.CPoint.state.Highlight&&this.points[n].setPosXY(t,e)}},{key:"setAfterDrawPos",value:function(t,e){for(var n in 0!==this.step&&(this.step-=1),this.points)this.points[n].setState(i.CPoint.state.Hide);0===this.step&&this.getChartObjects().pMgr.setNormalMode()}},{key:"isSelected",value:function(t,e){var n=!1;for(var r in this.points)if(this.points[r].isSelected(t,e)){this.points[r].setState(i.CPoint.state.Highlight),n=!0;break}return!0===n&&(this.select(),!0)}},{key:"select",value:function(){for(var t in this.points)this.points[t].getState()===i.CPoint.state.Hide&&this.points[t].setState(i.CPoint.state.Show)}},{key:"unselect",value:function(){for(var t in this.points)this.points[t].getState()!==i.CPoint.state.Hide&&this.points[t].setState(i.CPoint.state.Hide)}},{key:"calcDistance",value:function(t,e,n){var r=t.getPosXY().x,a=t.getPosXY().y,i=e.getPosXY().x,o=e.getPosXY().y,s=n.getPosXY().x,l=n.getPosXY().y,c=r-s,u=a-l,h=i-s,d=o-l;return Math.abs(c*d-u*h)/Math.sqrt(Math.pow(i-r,2)+Math.pow(o-a,2))}},{key:"calcGap",value:function(t,e,n){var r=t.sx,a=t.sy,i=t.ex,o=t.ey,s=r-e,l=a-n,c=i-e,u=o-n;return Math.abs(s*u-l*c)/Math.sqrt(Math.pow(i-r,2)+Math.pow(o-a,2))}},{key:"isWithRect",value:function(t,e,n){var r=t.getPosXY().x,a=t.getPosXY().y,i=e.getPosXY().x,o=e.getPosXY().y,s=n.getPosXY().x,l=n.getPosXY().y;return r>i?(r+=4,i-=4):(r-=4,i+=4),a>o?(a+=4,o-=4):(a-=4,o+=4),r<=s&&i>=s&&a<=l&&o>=l||(r>=s&&i<=s&&a<=l&&o>=l||(r<=s&&i>=s&&a>=l&&o<=l||r>=s&&i<=s&&a>=l&&o<=l))}}]),e}();e.CToolObject=v,v.state={BeforeDraw:0,Draw:1,AfterDraw:2};var y=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).addPoint(new i.CPoint(t)),n.addPoint(new i.CPoint(t)),n}return m(e,v),_(e,[{key:"setBeforeDrawPos",value:function(t,n){this.step=1,h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setBeforeDrawPos",this).call(this,t,n),this.getPoint(0).setState(i.CPoint.state.Show),this.getPoint(1).setState(i.CPoint.state.Highlight)}}]),e}();e.CBiToolObject=y;var b=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).addPoint(new i.CPoint(t)),n.addPoint(new i.CPoint(t)),n.addPoint(new i.CPoint(t)),n}return m(e,v),_(e,[{key:"setBeforeDrawPos",value:function(t,n){this.step=2,h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setBeforeDrawPos",this).call(this,t,n),this.getPoint(0).setState(i.CPoint.state.Show),this.getPoint(1).setState(i.CPoint.state.Show),this.getPoint(2).setState(i.CPoint.state.Highlight)}},{key:"setAfterDrawPos",value:function(t,e){if(0!==this.step&&(this.step-=1),0===this.step)for(var n in this.points)this.points[n].setState(i.CPoint.state.Hide);else this.getPoint(0).setState(i.CPoint.state.Show),this.getPoint(1).setState(i.CPoint.state.Highlight),this.getPoint(2).setState(i.CPoint.state.Show);0===this.step&&this.getChartObjects().pMgr.setNormalMode()}}]),e}();e.CTriToolObject=b;var x=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawBandLinesPlotter(t,f(n)),n}return m(e,y),_(e,[{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.CPoint("frame0.k0").setPosXY(t,n);this.getPoint(0).getPosXY().x;for(var r=this.getPoint(0).getPosXY().y,a=(this.getPoint(1).getPosXY().x,this.getPoint(1).getPosXY().y),o=[100,87.5,75,62.5,50,37.5,25,12.5,0],s=0;s<o.length;s++){var l=r+(100-o[s])/100*(a-r);if(l<n+4&&l>n-4)return this.select(),!0}return!1}}]),e}();e.CBandLineObject=x;var w=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawBiParallelLinesPlotter(t,f(n)),n}return m(e,b),_(e,[{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;var r=this.getPoint(0).getPosXY().x,a=this.getPoint(0).getPosXY().y,i=this.getPoint(1).getPosXY().x,o=this.getPoint(1).getPosXY().y,s=this.getPoint(2).getPosXY().x,l=this.getPoint(2).getPosXY().y,c={sx:r,sy:a,ex:s,ey:l},u={sx:i,sy:o,ex:r-(r-i+(r-s)),ey:a-(a-o+(a-l))};return!(this.calcGap(c,t,n)>4&&this.calcGap(u,t,n)>4)}}]),e}();e.CBiParallelLineObject=w;var C=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawBiParallelRayLinesPlotter(t,f(n)),n}return m(e,b),_(e,[{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;var r=this.getPoint(0).getPosXY().x,a=this.getPoint(0).getPosXY().y,i=this.getPoint(1).getPosXY().x,o=this.getPoint(1).getPosXY().y,s=this.getPoint(2).getPosXY().x,l=this.getPoint(2).getPosXY().y,c={sx:r,sy:a,ex:s,ey:l},u={sx:i,sy:o,ex:r-(r-i+(r-s)),ey:a-(a-o+(a-l))};return(c.ex>c.sx&&t>c.sx-4||c.ex<c.sx&&t<c.sx+4||u.ex>u.sx&&t>u.sx-4||u.ex<u.sx&&t<u.sx+4)&&(!(this.calcGap(c,t,n)>4&&this.calcGap(u,t,n)>4)&&(this.select(),!0))}}]),e}();e.CBiParallelRayLineObject=C;var P=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawFibFansPlotter(t,f(n)),n}return m(e,y),_(e,[{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;var r=new i.CPoint("frame0.k0");r.setPosXY(t,n);for(var a=this.getPoint(0).getPosXY().x,o=this.getPoint(0).getPosXY().y,s=this.getPoint(1).getPosXY().x,l=this.getPoint(1).getPosXY().y,c=this.getChartObjects(),u={left:c.pArea.getLeft(),top:c.pArea.getTop(),right:c.pArea.getRight(),bottom:c.pArea.getBottom()},d=[0,38.2,50,61.8],p=0;p<d.length;p++){var _={x:a,y:o},g={x:s,y:o+(100-d[p])/100*(l-o)},f=this.getRectCrossPt(u,_,g),m=Math.pow(f[0].x-a,2)+Math.pow(f[0].y-o,2)>Math.pow(f[0].x-s,2)+Math.pow(f[0].y-l,2)?{x:f[0].x,y:f[0].y}:{x:f[1].x,y:f[1].y};if(!(m.x>a&&t<a)&&!(m.x<a&&t>a)){var v=new i.CPoint("frame0.k0");v.setPosXY(a,o);var y=new i.CPoint("frame0.k0");if(y.setPosXY(m.x,m.y),!(this.calcDistance(v,y,r)>4))return this.select(),!0}}return!1}}]),e}();e.CFibFansObject=P;var k=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawFibRetracePlotter(t,f(n)),n}return m(e,y),_(e,[{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.CPoint("frame0.k0").setPosXY(t,n);this.getPoint(0).getPosXY().x;for(var r=this.getPoint(0).getPosXY().y,a=(this.getPoint(1).getPosXY().x,this.getPoint(1).getPosXY().y),o=[100,78.6,61.8,50,38.2,23.6,0],s=0;s<o.length;s++){var l=r+(100-o[s])/100*(a-r);if(l<n+4&&l>n-4)return this.select(),!0}return!1}}]),e}();e.CFibRetraceObject=k;var A=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawHoriRayLinesPlotter(t,f(n)),n}return m(e,y),_(e,[{key:"setDrawPos",value:function(t,e){if(this.points[0].getState()===i.CPoint.state.Highlight)return this.points[0].setPosXY(t,e),void this.points[1].setPosXYNoSnap(this.points[1].getPosXY().x,this.points[0].getPosXY().y);this.points[1].getState()===i.CPoint.state.Highlight&&(this.points[1].setPosXY(t,e),this.points[0].setPosXYNoSnap(this.points[0].getPosXY().x,this.points[1].getPosXY().y))}},{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.CPoint("frame0.k0").setPosXY(t,n);var r=this.getPoint(0).getPosXY().y,a=this.getPoint(0).getPosXY().x,o=this.getPoint(1).getPosXY().x;return!(n>r+4||n<r-4)&&(!(o>a&&t<a-4)&&(!(o<a&&t>a+4)&&(this.select(),!0)))}}]),e}();e.CHoriRayLineObject=A;var O=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawHoriSegLinesPlotter(t,f(n)),n}return m(e,y),_(e,[{key:"setDrawPos",value:function(t,e){if(this.points[0].getState()===i.CPoint.state.Highlight)return this.points[0].setPosXY(t,e),void this.points[1].setPosXYNoSnap(this.points[1].getPosXY().x,this.points[0].getPosXY().y);this.points[1].getState()===i.CPoint.state.Highlight&&(this.points[1].setPosXY(t,e),this.points[0].setPosXYNoSnap(this.points[0].getPosXY().x,this.points[1].getPosXY().y))}},{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.CPoint("frame0.k0").setPosXY(t,n);var r=this.getPoint(0).getPosXY().y,a=this.getPoint(0).getPosXY().x,o=this.getPoint(1).getPosXY().x;return!(n>r+4||n<r-4)&&(!(a>o&&(t>a+4||t<o-4))&&(!(a<o&&(t<a-4||t>o+4))&&(this.select(),!0)))}}]),e}();e.CHoriSegLineObject=O;var E=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawHoriStraightLinesPlotter(t,f(n)),n}return m(e,y),_(e,[{key:"setDrawPos",value:function(t,e){for(var n in this.points)this.points[n].setPosXY(t,e)}},{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.CPoint("frame0.k0").setPosXY(t,n);var r=this.getPoint(0).getPosXY().y;return!(n>r+4||n<r-4)&&(this.select(),!0)}}]),e}();e.CHoriStraightLineObject=E;var S=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawRayLinesPlotter(t,f(n)),n}return m(e,y),_(e,[{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;var r=new i.CPoint("frame0.k0");r.setPosXY(t,n);var a=this.getPoint(0).getPosXY().x,o=this.getPoint(1).getPosXY().x;return!(o>a&&t<a-4)&&(!(o<a&&t>a+4)&&(this.calcDistance(this.getPoint(0),this.getPoint(1),r)<4&&(this.select(),!0)))}}]),e}();e.CRayLineObject=S;var M=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawSegLinesPlotter(t,f(n)),n}return m(e,y),_(e,[{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;var r=new i.CPoint("frame0.k0");return r.setPosXY(t,n),!1!==this.isWithRect(this.getPoint(0),this.getPoint(1),r)&&(this.calcDistance(this.getPoint(0),this.getPoint(1),r)<4&&(this.select(),!0))}}]),e}();e.CSegLineObject=M;var I=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawStraightLinesPlotter(t,f(n)),n}return m(e,y),_(e,[{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;var r=new i.CPoint("frame0.k0");return r.setPosXY(t,n),this.calcDistance(this.getPoint(0),this.getPoint(1),r)<4&&(this.select(),!0)}}]),e}();e.CStraightLineObject=I;var T=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawTriParallelLinesPlotter(t,f(n)),n}return m(e,b),_(e,[{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;this.getChartObjects();var r=this.getPoint(0).getPosXY().x,a=this.getPoint(0).getPosXY().y,i=this.getPoint(1).getPosXY().x,o=this.getPoint(1).getPosXY().y,s=this.getPoint(2).getPosXY().x,l=this.getPoint(2).getPosXY().y,c=r-(r-i+(r-s)),u=a-(a-o+(a-l)),d={sx:r,sy:a,ex:s,ey:l},p={sx:i,sy:o,ex:c,ey:u},_=i-r,g=o-a,f=c-s,m=u-l,v={sx:Math.abs(_-r),sy:Math.abs(g-a),ex:Math.abs(f-s),ey:Math.abs(m-l)};return!(this.calcGap(d,t,n)>4&&this.calcGap(p,t,n)>4&&this.calcGap(v,t,n)>4)&&(this.select(),!0)}}]),e}();e.CTriParallelLineObject=T;var D=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawVertiStraightLinesPlotter(t,f(n)),n}return m(e,y),_(e,[{key:"setDrawPos",value:function(t,e){for(var n in this.points)this.points[n].setPosXY(t,e)}},{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.CPoint("frame0.k0").setPosXY(t,n);var r=this.getPoint(0).getPosXY().x;return!(t>r+4||t<r-4)&&(this.select(),!0)}}]),e}();e.CVertiStraightLineObject=D;var R=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawPriceLinesPlotter(t,f(n)),n}return m(e,M),_(e,[{key:"setDrawPos",value:function(t,e){for(var n in this.points)this.points[n].setPosXY(t,e)}},{key:"isSelected",value:function(t,n){if(!0===h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.CPoint("frame0.k0").setPosXY(t,n);var r=this.getPoint(0).getPosXY().x,a=this.getPoint(0).getPosXY().y;this.getPoint(1).getPosXY().x,this.getPoint(1).getPosXY().y;return!(t<r-4)&&(!(n>=a+4||n<=a-4)&&(this.select(),!0))}}]),e}();e.CPriceLineObject=R;var N=function(t){function e(t){var n;return d(this,e),(n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).drawer=new l.DrawArrowLinesPlotter(t,f(n)),n}return m(e,M),e}();e.CArrowLineObject=N},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDynamicLinePlotter=e.DrawFibFansPlotter=e.DrawBandLinesPlotter=e.DrawFibRetracePlotter=e.BandLinesPlotter=e.DrawTriParallelLinesPlotter=e.DrawBiParallelRayLinesPlotter=e.DrawBiParallelLinesPlotter=e.ParallelLinesPlotter=e.DrawPriceLinesPlotter=e.DrawVertiStraightLinesPlotter=e.DrawHoriSegLinesPlotter=e.DrawHoriRayLinesPlotter=e.DrawHoriStraightLinesPlotter=e.DrawArrowLinesPlotter=e.DrawRayLinesPlotter=e.DrawSegLinesPlotter=e.DrawStraightLinesPlotter=e.CToolPlotter=e.RangeSelectionPlotter=e.TimelineSelectionPlotter=e.SelectionPlotter=e.LastClosePlotter=e.LastVolumePlotter=e.COrderGraphPlotter=e.RangePlotter=e.TimelinePlotter=e.MinMaxPlotter=e.IndicatorInfoPlotter=e.IndicatorPlotter=e.MainInfoPlotter=e.OHLCPlotter=e.CandlestickHLCPlotter=e.CandlestickPlotter=e.CGridPlotter=e.TimelineAreaBackgroundPlotter=e.RangeAreaBackgroundPlotter=e.MainAreaBackgroundPlotter=e.BackgroundPlotter=e.Plotter=void 0;var r,a=(r=n(3))&&r.__esModule?r:{default:r},i=n(1),o=n(0),s=n(5),l=n(9),c=_(n(16)),u=_(n(6)),h=_(n(12)),d=_(n(2)),p=_(n(10));function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}function y(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,i.NamedObject),v(e,null,[{key:"drawLine",value:function(t,e,n,r,a){t.beginPath(),t.moveTo(.5+(e<<0),.5+(n<<0)),t.lineTo(.5+(r<<0),.5+(a<<0)),t.stroke()}},{key:"drawLines",value:function(t,n){var r,a=n.length;for(t.beginPath(),t.moveTo(n[0].x,n[0].y),r=1;r<a;r++)t.lineTo(n[r].x,n[r].y);if(e.isChrome)for(t.moveTo(n[0].x,n[0].y),r=1;r<a;r++)t.lineTo(n[r].x,n[r].y);t.stroke()}},{key:"drawDashedLine",value:function(t,e,n,r,a,i,o){i<2&&(i=2);var s=r-e,l=a-n;if(t.beginPath(),0===l){for(var c=s/i+.5<<0,u=0;u<c;u++)t.rect(e,n,o,1),e+=i;t.fill()}else{for(var h=Math.sqrt(s*s+l*l)/i+.5<<0,d=(s/=h)*o/i,p=(l/=h)*o/i,_=0;_<h;_++)t.moveTo(e+.5,n+.5),t.lineTo(e+.5+d,n+.5+p),e+=s,n+=l;t.stroke()}}},{key:"createHorzDashedLine",value:function(t,e,n,r,a,i){a<2&&(a=2);for(var o=(n-e)/a+.5<<0,s=0;s<o;s++)t.rect(e,r,i,1),e+=a}},{key:"createRectangles",value:function(t,e){t.beginPath();var n,r,a=e.length;for(r=0;r<a;r++)n=e[r],t.rect(n.x,n.y,n.w,n.h)}},{key:"createPolygon",value:function(t,e){t.beginPath(),t.moveTo(e[0].x+.5,e[0].y+.5);var n,r=e.length;for(n=1;n<r;n++)t.lineTo(e[n].x+.5,e[n].y+.5);t.closePath()}},{key:"drawString",value:function(t,e,n){var r=t.measureText(e).width;return!(n.w<r)&&(t.fillText(e,n.x,n.y),n.x+=r,n.w-=r,!0)}}]),e}();e.Plotter=x,x.isChrome=null!==navigator.userAgent.toLowerCase().match(/chrome/);var w=function(t){function e(t){var n;return f(this,e),(n=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._color=u.Theme.Color.Background,n}return b(e,x),v(e,[{key:"getColor",value:function(){return this._color}},{key:"setColor",value:function(t){this._color=t}},{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=e.getArea(this.getAreaName()),r=e.getTheme(this.getFrameName());t.fillStyle=r.getColor(this._color),t.fillRect(n.getLeft(),n.getTop(),n.getWidth(),n.getHeight())}}]),e}();e.BackgroundPlotter=w;var C=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,w),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=e.getArea(this.getAreaName()),r=e.getTimeline(this.getDataSourceName()),a=e.getRange(this.getAreaName()),i=e.getTheme(this.getFrameName()),s=n.getRect();if(!n.isChanged()&&!r.isUpdated()&&!a.isUpdated()){var l=r.getFirstIndex(),c=r.getLastIndex()-2,u=Math.max(l,c);s.X=r.toColumnLeft(u),s.Width=n.getRight()-s.X}t.fillStyle=i.getColor(this._color),t.fillRect(s.X,s.Y,s.Width,s.Height)}}]),e}();e.MainAreaBackgroundPlotter=C;var P=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,w),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=this.getAreaName(),r=e.getArea(n),a=e.getRange(n.substring(0,n.lastIndexOf("Range")));if("main"===a.getNameObject().getCompAt(2)||r.isChanged()||a.isUpdated()){var i=e.getTheme(this.getFrameName());t.fillStyle=i.getColor(this._color),t.fillRect(r.getLeft(),r.getTop(),r.getWidth(),r.getHeight())}}}]),e}();e.RangeAreaBackgroundPlotter=P;var k=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,w),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=e.getArea(this.getAreaName()),r=e.getTimeline(this.getDataSourceName());if(n.isChanged()||r.isUpdated()){var a=e.getTheme(this.getFrameName());t.fillStyle=a.getColor(this._color),t.fillRect(n.getLeft(),n.getTop(),n.getWidth(),n.getHeight())}}}]),e}();e.TimelineAreaBackgroundPlotter=k;var A=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,i.NamedObject),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=e.getArea(this.getAreaName()),r=e.getTimeline(this.getDataSourceName()),a=e.getRange(this.getAreaName()),i=!1;if(!n.isChanged()&&!r.isUpdated()&&!a.isUpdated()){var s=r.getFirstIndex(),l=r.getLastIndex(),c=Math.max(s,l-2),h=r.toColumnLeft(c);t.save(),t.rect(h,n.getTop(),n.getRight()-h,n.getHeight()),t.clip(),i=!0}var d=e.getTheme(this.getFrameName());t.fillStyle=d.getColor(u.Theme.Color.Grid0),t.beginPath();var p=4,_=1;x.isChrome&&(p=4,_=1);var g=a.getGradations();for(var f in g)x.createHorzDashedLine(t,n.getLeft(),n.getRight(),a.toY(g[f]),p,_);t.fill(),i&&t.restore()}}]),e}();e.CGridPlotter=A;var O=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,i.NamedObject),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=e.getDataSource(this.getDataSourceName());if(!(n.getDataCount()<1)){var r=e.getArea(this.getAreaName()),a=e.getTimeline(this.getDataSourceName()),i=e.getRange(this.getAreaName());if(0!==i.getRange()){var l,c=e.getTheme(this.getFrameName()),h=s.Util.isInstance(c,u.DarkTheme),d=a.getFirstIndex(),p=a.getLastIndex();l=r.isChanged()||a.isUpdated()||i.isUpdated()?d:Math.max(d,p-2);for(var _=a.getColumnWidth(),g=a.getItemWidth(),f=a.toItemLeft(l),m=a.toItemCenter(l),v=[],y=[],b=[],w=[],C=l;C<p;C++){var P=n.getDataAt(C),k=i.toY(P.high),A=i.toY(P.low),O=P.open,E=P.close;if(E>O){var S=i.toY(E),M=i.toY(O),I=Math.max(M-S,1);I>1&&g>1&&h?v.push({x:f+.5,y:S+.5,w:g-1,h:I-1}):y.push({x:f,y:S,w:Math.max(g,1),h:Math.max(I,1)}),P.high>E&&(k=Math.min(k,S-1),y.push({x:m,y:k,w:1,h:S-k})),O>P.low&&(A=Math.max(A,M+1),y.push({x:m,y:M,w:1,h:A-M}))}else if(E===O){var T=i.toY(E);b.push({x:f,y:T,w:Math.max(g,1),h:1}),P.high>E&&(k=Math.min(k,T-1)),O>P.low&&(A=Math.max(A,T+1)),k<A&&b.push({x:m,y:k,w:1,h:A-k})}else{var D=i.toY(O),R=i.toY(E),N=Math.max(R-D,1);w.push({x:f,y:D,w:Math.max(g,1),h:Math.max(N,1)}),P.high>O&&(k=Math.min(k,D-1)),E>P.low&&(A=Math.max(A,R+1)),k<A&&w.push({x:m,y:k,w:1,h:A-k})}f+=_,m+=_}v.length>0&&(t.strokeStyle=c.getColor(u.Theme.Color.Positive),x.createRectangles(t,v),t.stroke()),y.length>0&&(t.fillStyle=c.getColor(u.Theme.Color.Positive),x.createRectangles(t,y),t.fill()),b.length>0&&(t.fillStyle=c.getColor(u.Theme.Color.Negative),x.createRectangles(t,b),t.fill()),w.length>0&&(t.fillStyle=c.getColor(u.Theme.Color.Negative),x.createRectangles(t,w),t.fill())}}}}]),e}();e.CandlestickPlotter=O;var E=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,x),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=e.getDataSource(this.getDataSourceName());if(s.Util.isInstance(n,d.MainDataSource)&&!(n.getDataCount()<1)){var r=e.getArea(this.getAreaName()),a=e.getTimeline(this.getDataSourceName()),i=e.getRange(this.getAreaName());if(0!==i.getRange()){var l,c=e.getTheme(this.getFrameName()),h=s.Util.isInstance(c,u.DarkTheme),p=a.getFirstIndex(),_=a.getLastIndex();l=r.isChanged()||a.isUpdated()||i.isUpdated()?p:Math.max(p,_-2);for(var g=a.getColumnWidth(),f=a.getItemWidth(),m=a.toItemLeft(l),v=a.toItemCenter(l),y=[],b=[],w=[],C=[],P=l;P<_;P++){var k=n.getDataAt(P),A=i.toY(k.high),O=i.toY(k.low),E=k.open;P>0&&(E=n.getDataAt(P-1).close);var S=k.close;if(S>E){var M=i.toY(S),I=i.toY(E),T=Math.max(I-M,1);T>1&&f>1&&h?y.push({x:m+.5,y:M+.5,w:f-1,h:T-1}):b.push({x:m,y:M,w:Math.max(f,1),h:Math.max(T,1)}),k.high>S&&(A=Math.min(A,M-1),b.push({x:v,y:A,w:1,h:M-A})),E>k.low&&(O=Math.max(O,I+1),b.push({x:v,y:I,w:1,h:O-I}))}else if(S===E){var D=i.toY(S);w.push({x:m,y:D,w:Math.max(f,1),h:1}),k.high>S&&(A=Math.min(A,D-1)),E>k.low&&(O=Math.max(O,D+1)),A<O&&w.push({x:v,y:A,w:1,h:O-A})}else{var R=i.toY(E),N=i.toY(S),j=Math.max(N-R,1);C.push({x:m,y:R,w:Math.max(f,1),h:Math.max(j,1)}),k.high>E&&(A=Math.min(A,R-1)),S>k.low&&(O=Math.max(O,N+1)),A<O&&C.push({x:v,y:A,w:1,h:O-A})}m+=g,v+=g}y.length>0&&(t.strokeStyle=c.getColor(u.Theme.Color.Positive),x.createRectangles(t,y),t.stroke()),b.length>0&&(t.fillStyle=c.getColor(u.Theme.Color.Positive),x.createRectangles(t,b),t.fill()),w.length>0&&(t.fillStyle=c.getColor(u.Theme.Color.Negative),x.createRectangles(t,w),t.fill()),C.length>0&&(t.fillStyle=c.getColor(u.Theme.Color.Negative),x.createRectangles(t,C),t.fill())}}}}]),e}();e.CandlestickHLCPlotter=E;var S=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,x),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=e.getDataSource(this.getDataSourceName());if(s.Util.isInstance(n,d.MainDataSource)&&!(n.getDataCount()<1)){var r=e.getArea(this.getAreaName()),a=e.getTimeline(this.getDataSourceName()),i=e.getRange(this.getAreaName());if(0!==i.getRange()){var l,c=e.getTheme(this.getFrameName()),h=a.getFirstIndex(),p=a.getLastIndex();l=r.isChanged()||a.isUpdated()||i.isUpdated()?h:Math.max(h,p-2);for(var _=a.getColumnWidth(),g=a.getItemWidth()>>1,f=a.toItemLeft(l),m=a.toItemCenter(l),v=(a.getItemWidth(),[]),y=[],b=[],w=l;w<p;w++){var C=n.getDataAt(w),P=i.toY(C.high),k=i.toY(C.low),A=Math.max(k-P,1);if(C.close>C.open){var O=i.toY(C.close),E=i.toY(C.open);v.push({x:m,y:P,w:1,h:A}),v.push({x:f,y:O,w:g,h:1}),v.push({x:m,y:E,w:g,h:1})}else if(C.close===C.open){var S=i.toY(C.close);y.push({x:m,y:P,w:1,h:A}),y.push({x:f,y:S,w:g,h:1}),y.push({x:m,y:S,w:g,h:1})}else{var M=i.toY(C.open),I=i.toY(C.close);b.push({x:m,y:P,w:1,h:A}),b.push({x:f,y:M,w:g,h:1}),b.push({x:m,y:I,w:g,h:1})}f+=_,m+=_,_}v.length>0&&(t.fillStyle=c.getColor(u.Theme.Color.Positive),x.createRectangles(t,v),t.fill()),y.length>0&&(t.fillStyle=c.getColor(u.Theme.Color.Negative),x.createRectangles(t,y),t.fill()),b.length>0&&(t.fillStyle=c.getColor(u.Theme.Color.Negative),x.createRectangles(t,b),t.fill())}}}}]),e}();e.OHLCPlotter=S;var M=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,x),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=e.getArea(this.getAreaName()),r=e.getTimeline(this.getDataSourceName()),a=e.getDataSource(this.getDataSourceName()),i=e.getTheme(this.getFrameName());t.font=i.getFont(u.Theme.Font.Default),t.textAlign="left",t.textBaseline="top",t.fillStyle=i.getColor(u.Theme.Color.Text4);var l={x:n.getLeft()+4,y:n.getTop()+2,w:n.getWidth()-2,h:30},c=r.getSelectedIndex();if(!(c<0)){var h,d=a.getDataAt(c),p=a.getDecimalDigits(),_=new Date(d.date),g=(_.getFullYear(),s.Util.formatTime(_.getMonth()+1),s.Util.formatTime(_.getDate()),s.Util.formatTime(_.getHours()),s.Util.formatTime(_.getMinutes()),e.getLanguage());if("zh-cn"===g){if(!x.drawString(t,"  : "+d.open.toFixed(p),l))return;if(!x.drawString(t,"  : "+d.high.toFixed(p),l))return;if(!x.drawString(t,"  : "+d.low.toFixed(p),l))return;if(!x.drawString(t,"  : "+d.close.toFixed(p),l))return}else if("en-us"===g){if(!x.drawString(t,"  O: "+d.open.toFixed(p),l))return;if(!x.drawString(t,"  H: "+d.high.toFixed(p),l))return;if(!x.drawString(t,"  L: "+d.low.toFixed(p),l))return;if(!x.drawString(t,"  C: "+d.close.toFixed(p),l))return}else if("zh-tw"===g){if(!x.drawString(t,"  : "+d.open.toFixed(p),l))return;if(!x.drawString(t,"  : "+d.high.toFixed(p),l))return;if(!x.drawString(t,"  : "+d.low.toFixed(p),l))return;if(!x.drawString(t,"  : "+d.close.toFixed(p),l))return}if(c>0){if("zh-cn"===g){if(!x.drawString(t,"  : ",l))return}else if("en-us"===g){if(!x.drawString(t,"  CHANGE: ",l))return}else if("zh-tw"===g&&!x.drawString(t,"  : ",l))return;var f,m=a.getDataAt(c-1);if((f=(d.close-m.close)/m.close*100?(d.close-m.close)/m.close*100:0)>=0?(f=" "+f.toFixed(2),t.fillStyle=i.getColor(u.Theme.Color.TextPositive)):(f=f.toFixed(2),t.fillStyle=i.getColor(u.Theme.Color.TextNegative)),!x.drawString(t,f,l))return;if(t.fillStyle=i.getColor(u.Theme.Color.Text4),!x.drawString(t," %",l))return}if(h=(d.high-d.low)/d.low*100?(d.high-d.low)/d.low*100:0,"zh-cn"===g){if(!x.drawString(t,"  : "+h.toFixed(2)+" %",l))return}else if("en-us"===g){if(!x.drawString(t,"  AMPLITUDE: "+h.toFixed(2)+" %",l))return}else if("zh-tw"===g&&!x.drawString(t,"  : "+h.toFixed(2)+" %",l))return;var v=e.getDataProvider(this.getAreaName()+".secondary");if(void 0!==v){var y,b=v.getIndicator(),w=b.getOutputCount();for(y=0;y<w;y++){var C=b.getOutputAt(y),P=C.execute(c);if(!isNaN(P)){var k="  "+C.getName()+": "+P.toFixed(p),A=C.getColor();if(void 0===A&&(A=u.Theme.Color.Indicator0+y),t.fillStyle=i.getColor(A),!x.drawString(t,k,l))return}}}}}}]),e}();e.MainInfoPlotter=M;var I=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,i.NamedObject),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=e.getArea(this.getAreaName()),r=e.getTimeline(this.getDataSourceName()),a=e.getRange(this.getAreaName());if(0!==a.getRange()){var i=e.getDataProvider(this.getName());if(s.Util.isInstance(i,h.IndicatorDataProvider)){var l,d=e.getTheme(this.getFrameName()),p=r.getColumnWidth(),_=r.getFirstIndex(),g=r.getLastIndex();l=n.isChanged()||r.isUpdated()||a.isUpdated()?_:Math.max(_,g-2);var f,m,v=i.getIndicator(),y=v.getOutputCount();for(m=0;m<y;m++){var b=(f=v.getOutputAt(m)).getStyle();b===c.OutputExpr.outputStyle.VolumeStick?this.drawVolumeStick(t,d,e.getDataSource(this.getDataSourceName()),l,g,r.toItemLeft(l),p,r.getItemWidth(),a):b===c.OutputExpr.outputStyle.MACDStick?this.drawMACDStick(t,d,f,l,g,r.toItemLeft(l),p,r.getItemWidth(),a):b===c.OutputExpr.outputStyle.SARPoint&&this.drawSARPoint(t,d,f,l,g,r.toItemCenter(l),p,r.getItemWidth(),a)}var w=r.toColumnLeft(l),C=r.toItemCenter(l);for(t.save(),t.rect(w,n.getTop(),n.getRight()-w,n.getHeight()),t.clip(),t.translate(.5,.5),m=0;m<y;m++){var P=C;if((f=v.getOutputAt(m)).getStyle()===c.OutputExpr.outputStyle.Line){var k=void 0,A=[];l>_&&(k=f.execute(l-1),!1===isNaN(k)&&A.push({x:P-p,y:a.toY(k)}));for(var O=l;O<g;O++,P+=p)k=f.execute(O),!1===isNaN(k)&&A.push({x:P,y:a.toY(k)});if(A.length>0){var E=f.getColor();void 0===E&&(E=u.Theme.Color.Indicator0+m),t.strokeStyle=d.getColor(E),x.drawLines(t,A)}}}t.restore()}}}},{key:"drawVolumeStick",value:function(t,e,n,r,a,i,o,l,c){for(var h=s.Util.isInstance(e,u.DarkTheme),d=i,p=(c.toY(0),[]),_=[],g=[],f=r;f<a;f++){var m=n.getDataAt(f),v=c.toY(m.volume),y=c.toHeight(m.volume);m.close>m.open?y>1&&l>1&&h?p.push({x:d+.5,y:v+.5,w:l-1,h:y-1}):_.push({x:d,y:v,w:Math.max(l,1),h:Math.max(y,1)}):m.close===m.open&&f>0&&m.close>=n.getDataAt(f-1).close?y>1&&l>1&&h?p.push({x:d+.5,y:v+.5,w:l-1,h:y-1}):_.push({x:d,y:v,w:Math.max(l,1),h:Math.max(y,1)}):g.push({x:d,y:v,w:Math.max(l,1),h:Math.max(y,1)}),d+=o}p.length>0&&(t.strokeStyle=e.getColor(u.Theme.Color.Positive),x.createRectangles(t,p),t.stroke()),_.length>0&&(t.fillStyle=e.getColor(u.Theme.Color.Positive),x.createRectangles(t,_),t.fill()),g.length>0&&(t.fillStyle=e.getColor(u.Theme.Color.Negative),x.createRectangles(t,g),t.fill())}},{key:"drawMACDStick",value:function(t,e,n,r,a,i,o,s,l){for(var c=i,h=l.toY(0),d=[],p=[],_=[],g=[],f=r>0?n.execute(r-1):NaN,m=r;m<a;m++){var v=n.execute(m);if(v>=0){var y=l.toHeight(v);(0===m||v>=f)&&y>1&&s>1?d.push({x:c+.5,y:h-y+.5,w:s-1,h:y-1}):_.push({x:c,y:h-y,w:Math.max(s,1),h:Math.max(y,1)})}else{var b=l.toHeight(-v);(0===m||v>=f)&&b>1&&s>1?p.push({x:c+.5,y:h+.5,w:s-1,h:b-1}):g.push({x:c,y:h,w:Math.max(s,1),h:Math.max(b,1)})}f=v,c+=o}d.length>0&&(t.strokeStyle=e.getColor(u.Theme.Color.Positive),x.createRectangles(t,d),t.stroke()),p.length>0&&(t.strokeStyle=e.getColor(u.Theme.Color.Negative),x.createRectangles(t,p),t.stroke()),_.length>0&&(t.fillStyle=e.getColor(u.Theme.Color.Positive),x.createRectangles(t,_),t.fill()),g.length>0&&(t.fillStyle=e.getColor(u.Theme.Color.Negative),x.createRectangles(t,g),t.fill())}},{key:"drawSARPoint",value:function(t,e,n,r,a,i,o,s,l){var c=s>>1;c<.5&&(c=.5),c>4&&(c=4);var h=i,d=h+c,p=2*Math.PI;t.save(),t.translate(.5,.5),t.strokeStyle=e.getColor(u.Theme.Color.Indicator3),t.beginPath();for(var _=r;_<a;_++){var g=l.toY(n.execute(_));t.moveTo(d,g),t.arc(h,g,c,0,p),h+=o,d+=o}t.stroke(),t.restore()}}]),e}();e.IndicatorPlotter=I;var T=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,x),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=e.getArea(this.getAreaName()),r=e.getTimeline(this.getDataSourceName()),a=e.getDataProvider(this.getAreaName()+".secondary"),i=e.getTheme(this.getFrameName());t.font=i.getFont(u.Theme.Font.Default),t.textAlign="left",t.textBaseline="top",t.fillStyle=i.getColor(u.Theme.Color.Text4);var s,l={x:n.getLeft()+4,y:n.getTop()+2,w:n.getWidth()-8,h:20},c=a.getIndicator();switch(c.getParameterCount()){case 0:s=c.getName();break;case 1:s=c.getName()+"("+c.getParameterAt(0).getValue()+")";break;case 2:s=c.getName()+"("+c.getParameterAt(0).getValue()+","+c.getParameterAt(1).getValue()+")";break;case 3:s=c.getName()+"("+c.getParameterAt(0).getValue()+","+c.getParameterAt(1).getValue()+","+c.getParameterAt(2).getValue()+")";break;case 4:s=c.getName()+"("+c.getParameterAt(0).getValue()+","+c.getParameterAt(1).getValue()+","+c.getParameterAt(2).getValue()+","+c.getParameterAt(3).getValue()+")";break;default:return}if(x.drawString(t,s,l)){var h=r.getSelectedIndex();if(!(h<0)){var d,p,_,g,f,m=c.getOutputCount();for(f=0;f<m;f++)if(p=(d=c.getOutputAt(f)).execute(h),!isNaN(p)&&(_="  "+d.getName()+": "+p.toFixed(2),void 0===(g=d.getColor())&&(g=u.Theme.Color.Indicator0+f),t.fillStyle=i.getColor(g),!x.drawString(t,_,l)))return}}}}]),e}();e.IndicatorInfoPlotter=T;var D=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,i.NamedObject),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=e.getDataSource(this.getDataSourceName());if(!(n.getDataCount()<1)){var r=e.getTimeline(this.getDataSourceName());if(!(r.getInnerWidth()<r.getColumnWidth())){var a=e.getRange(this.getAreaName());if(0!==a.getRange()){var i=e.getDataProvider(this.getAreaName()+".main"),s=r.getFirstIndex(),l=s+r.getLastIndex()>>1,c=e.getTheme(this.getFrameName());t.font=c.getFont(u.Theme.Font.Default),t.textBaseline="middle",t.fillStyle=c.getColor(u.Theme.Color.Text4),t.strokeStyle=c.getColor(u.Theme.Color.Text4);var h=n.getDecimalDigits();this.drawMark(t,i.getMinValue(),h,a.toY(i.getMinValue()),s,l,i.getMinValueIndex(),r),this.drawMark(t,i.getMaxValue(),h,a.toY(i.getMaxValue()),s,l,i.getMaxValueIndex(),r)}}}}},{key:"drawMark",value:function(t,e,n,r,a,i,o,l){var c,u,h,d;o>i?(t.textAlign="right",h=(c=l.toItemCenter(o)-4)-3,d=(u=c-7)-4):(t.textAlign="left",h=(c=l.toItemCenter(o)+4)+3,d=(u=c+7)+4),x.drawLine(t,c,r,u,r),x.drawLine(t,c,r,h,r+2),x.drawLine(t,c,r,h,r-2),t.fillText(s.Util.fromFloat(e,n),d,r)}}]),e}();e.MinMaxPlotter=D;var R=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,x),v(e,[{key:"Draw",value:function(t){var n=o.ChartManager.instance,r=n.getArea(this.getAreaName()),a=n.getTimeline(this.getDataSourceName());if(r.isChanged()||a.isUpdated()){var i=n.getDataSource(this.getDataSourceName());if(!(i.getDataCount()<2)){var s,l=i.getDataAt(1).date-i.getDataAt(0).date,c=e.TIME_INTERVAL.length;for(s=0;s<c&&!(l<e.TIME_INTERVAL[s]);s++);for(;s<c&&!(e.TIME_INTERVAL[s]%l==0&&e.TIME_INTERVAL[s]/l*a.getColumnWidth()>60);s++);var h=a.getFirstIndex(),d=a.getLastIndex(),p=60*(new Date).getTimezoneOffset()*1e3,_=n.getTheme(this.getFrameName());t.font=_.getFont(u.Theme.Font.Default),t.textAlign="center",t.textBaseline="middle";for(var g=n.getLanguage(),f=[],m=r.getTop(),v=r.getMiddle(),y=h;y<d;y++){var b=i.getDataAt(y).date,w=b-p,C=new Date(b),P=C.getFullYear(),k=C.getMonth()+1,A=C.getDate(),O=C.getHours(),E=C.getMinutes(),S="";if(s<c){if(w%Math.max(e.TP_DAY,e.TIME_INTERVAL[s])==0)"zh-cn"===g?S=k.toString()+""+A.toString()+"":"zh-tw"===g?S=k.toString()+""+A.toString()+"":"en-us"===g&&(S=e.MonthConvert[k]+" "+A.toString()),t.fillStyle=_.getColor(u.Theme.Color.Text4);else if(w%e.TIME_INTERVAL[s]==0){var M=E.toString();E<10&&(M="0"+M),S=O.toString()+":"+M,t.fillStyle=_.getColor(u.Theme.Color.Text2)}}else 1===A&&O<l/e.TP_HOUR&&(1===k?(S=P.toString(),"zh-cn"===g?S+="":"zh-tw"===g&&(S+="")):"zh-cn"===g?S=k.toString()+"":"zh-tw"===g?S=k.toString()+"":"en-us"===g&&(S=e.MonthConvert[k]),t.fillStyle=_.getColor(u.Theme.Color.Text4));if(S.length>0){var I=a.toItemCenter(y);f.push({x:I,y:m,w:1,h:4}),t.fillText(S,I,v)}}f.length>0&&(t.fillStyle=_.getColor(u.Theme.Color.Grid1),x.createRectangles(t,f),t.fill())}}}}]),e}();e.TimelinePlotter=R,R.TP_MINUTE=6e4,R.TP_HOUR=60*R.TP_MINUTE,R.TP_DAY=24*R.TP_HOUR,R.TIME_INTERVAL=[5*R.TP_MINUTE,10*R.TP_MINUTE,15*R.TP_MINUTE,30*R.TP_MINUTE,R.TP_HOUR,2*R.TP_HOUR,3*R.TP_HOUR,6*R.TP_HOUR,12*R.TP_HOUR,R.TP_DAY,2*R.TP_DAY],R.MonthConvert={1:"Jan.",2:"Feb.",3:"Mar.",4:"Apr.",5:"May.",6:"Jun.",7:"Jul.",8:"Aug.",9:"Sep.",10:"Oct.",11:"Nov.",12:"Dec."};var N=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,i.NamedObject),v(e,[{key:"getRequiredWidth",value:function(t,e){var n=o.ChartManager.instance.getTheme(this.getFrameName());return t.font=n.getFont(u.Theme.Font.Default),t.measureText((Math.floor(e)+.88).toString()).width+16}},{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=this.getAreaName(),r=e.getArea(n),a=n.substring(0,n.lastIndexOf("Range")),i=e.getRange(a);if(0!==i.getRange()){if("main"===i.getNameObject().getCompAt(2));else if(!r.isChanged()&&!i.isUpdated())return;var l=i.getGradations();if(0!==l.length){var c=r.getLeft(),h=r.getRight(),d=r.getCenter(),p=e.getTheme(this.getFrameName());t.font=p.getFont(u.Theme.Font.Default),t.textAlign="center",t.textBaseline="middle",t.fillStyle=p.getColor(u.Theme.Color.Text2);var _=[];for(var g in l){var f=i.toY(l[g]);_.push({x:c,y:f,w:6,h:1}),_.push({x:h-6,y:f,w:6,h:1}),t.fillText(s.Util.fromFloat(l[g],2),d,f)}_.length>0&&(t.fillStyle=p.getColor(u.Theme.Color.Grid1),x.createRectangles(t,_),t.fill())}}}}]),e}();e.RangePlotter=N;var j=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,i.NamedObject),v(e,[{key:"Draw",value:function(t){return this._Draw_(t)}},{key:"_Draw_",value:function(t){if(!1!==this.Update()&&!1!==this.updateData()){this.m_top=this.m_pArea.getTop(),this.m_bottom=this.m_pArea.getBottom(),this.m_left=this.m_pArea.getLeft(),this.m_right=this.m_pArea.getRight(),t.save(),t.rect(this.m_left,this.m_top,this.m_right-this.m_left,this.m_bottom-this.m_top),t.clip();var e=o.ChartManager.instance.getChart()._depthData;this.x_offset=0,this.y_offset=0;var n={},r={};n.x=this.m_left+e.array[this.m_ask_si].amounts*this.m_Step,n.y=this.m_pRange.toY(e.array[this.m_ask_si].rate),r.x=this.m_left+e.array[this.m_bid_si].amounts*this.m_Step,r.y=this.m_pRange.toY(e.array[this.m_bid_si].rate),Math.abs(n.y-r.y)<1&&(this.y_offset=1),this.x_offset=1,this.DrawBackground(t),this.UpdatePoints(),this.FillBlack(t),this.DrawGradations(t),this.DrawLine(t),t.restore()}}},{key:"DrawBackground",value:function(t){t.fillStyle=this.m_pTheme.getColor(u.Theme.Color.Background),t.fillRect(this.m_left,this.m_top,this.m_right-this.m_left,this.m_bottom-this.m_top);var e=o.ChartManager.instance.getChart()._depthData;if(0===this.m_mode){var n=this.m_pRange.toY(e.array[this.m_ask_si].rate)-this.y_offset,r=this.m_pRange.toY(e.array[this.m_bid_si].rate)+this.y_offset,a=t.createLinearGradient(this.m_left,0,this.m_right,0);a.addColorStop(0,this.m_pTheme.getColor(u.Theme.Color.Background)),a.addColorStop(1,this.m_pTheme.getColor(u.Theme.Color.PositiveDark)),t.fillStyle=a,t.fillRect(this.m_left,this.m_top,this.m_right-this.m_left,n-this.m_top);var i=t.createLinearGradient(this.m_left,0,this.m_right,0);i.addColorStop(0,this.m_pTheme.getColor(u.Theme.Color.Background)),i.addColorStop(1,this.m_pTheme.getColor(u.Theme.Color.NegativeDark)),t.fillStyle=i,t.fillRect(this.m_left,r,this.m_right-this.m_left,this.m_bottom-r)}else if(1===this.m_mode){var s=t.createLinearGradient(this.m_left,0,this.m_right,0);s.addColorStop(0,this.m_pTheme.getColor(u.Theme.Color.Background)),s.addColorStop(1,this.m_pTheme.getColor(u.Theme.Color.PositiveDark)),t.fillStyle=s,t.fillRect(this.m_left,this.m_top,this.m_right-this.m_left,this.m_bottom-this.m_top)}else if(2===this.m_mode){var l=t.createLinearGradient(this.m_left,0,this.m_right,0);l.addColorStop(0,this.m_pTheme.getColor(u.Theme.Color.Background)),l.addColorStop(1,this.m_pTheme.getColor(u.Theme.Color.NegativeDark)),t.fillStyle=l,t.fillRect(this.m_left,this.m_top,this.m_right-this.m_left,this.m_bottom-this.m_top)}}},{key:"DrawLine",value:function(t){if(0===this.m_mode||1===this.m_mode){t.strokeStyle=this.m_pTheme.getColor(u.Theme.Color.Positive),t.beginPath(),t.moveTo(Math.floor(this.m_ask_points[0].x)+.5,Math.floor(this.m_ask_points[0].y)+.5);for(var e=1;e<this.m_ask_points.length;e++)t.lineTo(Math.floor(this.m_ask_points[e].x)+.5,Math.floor(this.m_ask_points[e].y)+.5);t.stroke()}if(0===this.m_mode||2===this.m_mode){t.strokeStyle=this.m_pTheme.getColor(u.Theme.Color.Negative),t.beginPath(),t.moveTo(this.m_bid_points[0].x+.5,this.m_bid_points[0].y+.5);for(var n=1;n<this.m_bid_points.length;n++)t.lineTo(this.m_bid_points[n].x+.5,this.m_bid_points[n].y+.5);t.stroke()}}},{key:"UpdatePoints",value:function(){var t=o.ChartManager.instance.getChart()._depthData;this.m_ask_points=[];var e={};e.x=Math.floor(this.m_left),e.y=Math.floor(this.m_pRange.toY(t.array[this.m_ask_si].rate)-this.y_offset),this.m_ask_points.push(e);for(var n=0,r=this.m_ask_si;r>=this.m_ask_ei;r--){var a={},i={};r===this.m_ask_si?(a.x=Math.floor(this.m_left+t.array[r].amounts*this.m_Step+this.x_offset),a.y=Math.floor(this.m_pRange.toY(t.array[r].rate)-this.y_offset),this.m_ask_points.push(a),n=1):(a.x=Math.floor(this.m_left+t.array[r].amounts*this.m_Step+this.x_offset),a.y=Math.floor(this.m_ask_points[n].y),i.x=Math.floor(a.x),i.y=Math.floor(this.m_pRange.toY(t.array[r].rate)-this.y_offset),this.m_ask_points.push(a),n++,this.m_ask_points.push(i),n++)}this.m_bid_points=[];var s={};s.x=Math.floor(this.m_left),s.y=Math.ceil(this.m_pRange.toY(t.array[this.m_bid_si].rate)+this.y_offset),this.m_bid_points.push(s);for(var l=0,c=this.m_bid_si;c<=this.m_bid_ei;c++){var u={},h={};c===this.m_bid_si?(u.x=Math.floor(this.m_left+t.array[c].amounts*this.m_Step+this.x_offset),u.y=Math.ceil(this.m_pRange.toY(t.array[c].rate)+this.y_offset),this.m_bid_points.push(u),l=1):(u.x=Math.floor(this.m_left+t.array[c].amounts*this.m_Step+this.x_offset),u.y=Math.ceil(this.m_bid_points[l].y),h.x=Math.floor(u.x),h.y=Math.ceil(this.m_pRange.toY(t.array[c].rate)+this.x_offset),this.m_bid_points.push(u),l++,this.m_bid_points.push(h),l++)}}},{key:"updateData",value:function(){var t=o.ChartManager.instance.getChart()._depthData;if(null===t.array)return!1;if(t.array.length<=50)return!1;var e=this.m_pRange.getOuterMinValue(),n=this.m_pRange.getOuterMaxValue();this.m_ask_si=t.asks_si,this.m_ask_ei=t.asks_si;for(var r=t.asks_si;r>=t.asks_ei&&t.array[r].rate<n;r--)this.m_ask_ei=r;this.m_bid_si=t.bids_si,this.m_bid_ei=t.bids_si;for(var a=t.bids_si;a<=t.bids_ei&&t.array[a].rate>e;a++)this.m_bid_ei=a;return this.m_ask_ei===this.m_ask_si?this.m_mode=2:this.m_bid_ei===this.m_bid_si?this.m_mode=1:this.m_mode=0,this.m_Step=this.m_pArea.getWidth(),0===this.m_mode?this.m_ask_ei===t.asks_ei&&this.m_bid_ei===t.bids_ei?this.m_Step/=Math.min(t.array[this.m_ask_ei].amounts,t.array[this.m_bid_ei].amounts):this.m_ask_ei!==t.asks_ei&&this.m_bid_ei===t.bids_ei?this.m_Step/=t.array[this.m_bid_ei].amounts:this.m_ask_ei===t.asks_ei&&this.m_bid_ei!==t.bids_ei?this.m_Step/=t.array[this.m_ask_ei].amounts:this.m_ask_ei!==t.asks_ei&&this.m_bid_ei!==t.bids_ei&&(this.m_Step/=Math.max(t.array[this.m_ask_ei].amounts,t.array[this.m_bid_ei].amounts)):1===this.m_mode?this.m_Step/=t.array[this.m_ask_ei].amounts:2===this.m_mode&&(this.m_Step/=t.array[this.m_bid_ei].amounts),!0}},{key:"Update",value:function(){this.m_pMgr=o.ChartManager.instance;var t=this.getAreaName();if(this.m_pArea=this.m_pMgr.getArea(t),null===this.m_pArea)return!1;var e=t.substring(0,t.lastIndexOf("Range"));return this.m_pRange=this.m_pMgr.getRange(e),null!==this.m_pRange&&0!==this.m_pRange.getRange()&&(this.m_pTheme=this.m_pMgr.getTheme(this.getFrameName()),null!==this.m_pTheme)}},{key:"DrawGradations",value:function(t){var e=o.ChartManager.instance,n=this.getAreaName(),r=e.getArea(n),a=n.substring(0,n.lastIndexOf("Range")),i=e.getRange(a);if(0!==i.getRange()){var s=i.getGradations();if(0!==s.length){var l=r.getLeft(),c=r.getRight(),h=[];for(var d in s){var p=i.toY(s[d]);h.push({x:l,y:p,w:6,h:1}),h.push({x:c-6,y:p,w:6,h:1})}if(h.length>0){var _=e.getTheme(this.getFrameName());t.fillStyle=_.getColor(u.Theme.Color.Grid1),x.createRectangles(t,h),t.fill()}}}}},{key:"FillBlack",value:function(t){var e=this.m_ask_points,n=this.m_bid_points,r={},a={};r.x=this.m_right,r.y=e[0].y,a.x=this.m_right,a.y=e[e.length-1].y;var i={},o={};i.x=this.m_right,i.y=n[0].y-1,o.x=this.m_right,o.y=n[n.length-1].y,e.unshift(r),e.push(a),n.unshift(i),n.push(o),t.fillStyle=this.m_pTheme.getColor(u.Theme.Color.Background),t.beginPath(),t.moveTo(Math.floor(e[0].x)+.5,Math.floor(e[0].y)+.5);for(var s=1;s<e.length;s++)t.lineTo(Math.floor(e[s].x)+.5,Math.floor(e[s].y)+.5);t.fill(),t.beginPath(),t.moveTo(Math.floor(n[0].x)+.5,Math.floor(n[0].y)+.5);for(var l=1;l<n.length;l++)t.lineTo(Math.floor(n[l].x)+.5,Math.floor(n[l].y)+.5);t.fill(),e.shift(),e.pop(),n.shift(),n.pop()}},{key:"DrawTickerGraph",value:function(t){var e=o.ChartManager.instance.getDataSource(this.getDataSourceName()),n=e._dataItems[e._dataItems.length-1].close;this.m_left,this.m_pRange.toY(n);t.fillStyle=this.m_pTheme.getColor(u.Theme.Color.Mark),t.strokeStyle=this.m_pTheme.getColor(u.Theme.Color.Mark)}}]),e}();e.COrderGraphPlotter=j;var L=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,x),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=(e.getTimeline(this.getDataSourceName()),this.getAreaName()),r=e.getArea(n),a=n.substring(0,n.lastIndexOf("Range")),i=e.getRange(a);if(0!==i.getRange()){var l=e.getDataSource(this.getDataSourceName());if(!(l.getDataCount()<1)){var c=e.getTheme(this.getFrameName());t.font=c.getFont(u.Theme.Font.Default),t.textAlign="left",t.textBaseline="middle",t.fillStyle=c.getColor(u.Theme.Color.RangeMark),t.strokeStyle=c.getColor(u.Theme.Color.RangeMark);var h=l.getDataAt(l.getDataCount()-1).volume,d=i.toY(h),p=r.getLeft()+1;x.drawLine(t,p,d,p+7,d),x.drawLine(t,p,d,p+3,d+2),x.drawLine(t,p,d,p+3,d-2),t.fillText(s.Util.fromFloat(h,2),p+10,d)}}}}]),e}();e.LastVolumePlotter=L;var G=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,x),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=(e.getTimeline(this.getDataSourceName()),this.getAreaName()),r=e.getArea(n),a=n.substring(0,n.lastIndexOf("Range")),i=e.getRange(a);if(0!==i.getRange()){var l=e.getDataSource(this.getDataSourceName());if(!(l.getDataCount()<1)){var c=l._dataItems[l._dataItems.length-1].close;if(!(c<=i.getMinValue()||c>=i.getMaxValue())){var h=e.getTheme(this.getFrameName());t.font=h.getFont(u.Theme.Font.Default),t.textAlign="left",t.textBaseline="middle",t.fillStyle=h.getColor(u.Theme.Color.RangeMark),t.strokeStyle=h.getColor(u.Theme.Color.RangeMark);var d=i.toY(c),p=r.getLeft()+1;x.drawLine(t,p,d,p+7,d),x.drawLine(t,p,d,p+3,d+2),x.drawLine(t,p,d,p+3,d-2),t.fillText(s.Util.fromFloat(c,l.getDecimalDigits()),p+10,d)}}}}}]),e}();e.LastClosePlotter=G;var U=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,x),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance;if(e._drawingTool===o.ChartManager.DrawingTool.CrossCursor){var n=e.getArea(this.getAreaName()),r=e.getTimeline(this.getDataSourceName());if(!(r.getSelectedIndex()<0)){var a=e.getRange(this.getAreaName()),i=e.getTheme(this.getFrameName());t.strokeStyle=i.getColor(u.Theme.Color.Cursor);var s=r.toItemCenter(r.getSelectedIndex());x.drawLine(t,s,n.getTop()-1,s,n.getBottom());var l=a.getSelectedPosition();l>=0&&x.drawLine(t,n.getLeft(),l,n.getRight(),l)}}}}]),e}();e.SelectionPlotter=U;var Y=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,x),v(e,[{key:"Draw",value:function(t){var n=o.ChartManager.instance,r=n.getArea(this.getAreaName()),i=n.getTimeline(this.getDataSourceName());if(!(i.getSelectedIndex()<0)){var l=n.getDataSource(this.getDataSourceName());if(s.Util.isInstance(l,d.MainDataSource)){var c=n.getTheme(this.getFrameName()),h=n.getLanguage(),p=i.toItemCenter(i.getSelectedIndex());t.fillStyle=c.getColor(u.Theme.Color.Background),t.fillRect(p-52.5,r.getTop()+2.5,106,18),t.strokeStyle=c.getColor(u.Theme.Color.Grid3),t.strokeRect(p-52.5,r.getTop()+2.5,106,18),t.font=c.getFont(u.Theme.Font.Default),t.textAlign="center",t.textBaseline="middle",t.fillStyle=c.getColor(u.Theme.Color.Text4);var _=new Date(l.getDataAt(i.getSelectedIndex()).date),g=_.getMonth()+1,f=_.getDate(),m=_.getHours(),v=_.getMinutes(),y=_.getSeconds(),b=g.toString(),x=f.toString(),w=m.toString(),C=v.toString(),P=y.toString();v<10&&(C="0"+C),y<10&&(P="0"+P);var k="";"zh-cn"===h?k=b+""+x+"  "+w+":"+C:"zh-tw"===h?k=b+""+x+"  "+w+":"+C:"en-us"===h&&(k=e.MonthConvert[g]+" "+x+"  "+w+":"+C),a.default.instance.range<6e4&&(k+=":"+P),t.fillText(k,p,r.getMiddle())}}}}]),e}();e.TimelineSelectionPlotter=Y,Y.MonthConvert={1:"Jan.",2:"Feb.",3:"Mar.",4:"Apr.",5:"May.",6:"Jun.",7:"Jul.",8:"Aug.",9:"Sep.",10:"Oct.",11:"Nov.",12:"Dec."};var B=function(t){function e(t){return f(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return b(e,i.NamedObject),v(e,[{key:"Draw",value:function(t){var e=o.ChartManager.instance,n=this.getAreaName(),r=e.getArea(n);if(!(e.getTimeline(this.getDataSourceName()).getSelectedIndex()<0)){var a=n.substring(0,n.lastIndexOf("Range")),i=e.getRange(a);if(!(0===i.getRange()||i.getSelectedPosition()<0)){var l=i.getSelectedValue();if(l!==-Number.MAX_VALUE){var c=i.getSelectedPosition();x.createPolygon(t,[{x:r.getLeft(),y:c},{x:r.getLeft()+5,y:c+10},{x:r.getRight()-3,y:c+10},{x:r.getRight()-3,y:c-10},{x:r.getLeft()+5,y:c-10}]);var h=e.getTheme(this.getFrameName());t.fillStyle=h.getColor(u.Theme.Color.Background),t.fill(),t.strokeStyle=h.getColor(u.Theme.Color.Grid4),t.stroke(),t.font=h.getFont(u.Theme.Font.Default),t.textAlign="center",t.textBaseline="middle",t.fillStyle=h.getColor(u.Theme.Color.Text3);var d=2;"main"===i.getNameObject().getCompAt(2)&&(d=e.getDataSource(this.getDataSourceName()).getDecimalDigits()),t.fillText(s.Util.fromFloat(l,d),r.getCenter(),c)}}}}}]),e}();e.RangeSelectionPlotter=B;var V=function(t){function e(t,n){var r;f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).toolObject=n;var a=o.ChartManager.instance.getArea("frame0.k0.main");return null===a?(r.areaPos={left:0,top:0,right:0,bottom:0},y(r)):(r.areaPos={left:a.getLeft(),top:a.getTop(),right:a.getRight(),bottom:a.getBottom()},r.crossPt={},r.normalSize=4,r.selectedSize=6,r.cursorLen=4,r.cursorGapLen=3,r.theme=o.ChartManager.instance.getTheme(r.getFrameName()),r)}return b(e,i.NamedObject),v(e,[{key:"drawCursor",value:function(t){this.drawCrossCursor(t)}},{key:"drawCrossCursor",value:function(t){t.strokeStyle=this.theme.getColor(u.Theme.Color.LineColorNormal),t.fillStyle=this.theme.getColor(u.Theme.Color.LineColorNormal);var e=this.toolObject.getPoint(0).getPosXY();if(null!==e){var n=e.x,r=e.y,a=this.cursorLen,i=this.cursorGapLen;t.fillRect(n,r,1,1),x.drawLine(t,n-a-i,r,n-i,r),x.drawLine(t,n+a+i,r,n+i,r),x.drawLine(t,n,r-a-i,n,r-i),x.drawLine(t,n,r+a+i,n,r+i)}}},{key:"drawCircle",value:function(t,e,n){var r=e.x,a=e.y;t.beginPath(),t.arc(r,a,n,0,2*Math.PI,!1),t.fillStyle=this.theme.getColor(u.Theme.Color.CircleColorFill),t.fill(),t.stroke()}},{key:"drawCtrlPt",value:function(t){t.strokeStyle=this.theme.getColor(u.Theme.Color.CircleColorStroke);for(var e=0;e<this.ctrlPtsNum;e++)this.drawCircle(t,this.ctrlPts[1][e],this.normalSize)}},{key:"highlightCtrlPt",value:function(t){t.strokeStyle=this.theme.getColor(u.Theme.Color.CircleColorStroke);for(var e=0;e<this.ctrlPtsNum;e++)this.toolObject.getPoint(e).getState()===l.CPoint.state.Highlight&&this.drawCircle(t,this.ctrlPts[1][e],this.selectedSize)}},{key:"drawFibRayLines",value:function(t,e,n){for(var r=0;r<this.fiboFansSequence.length;r++){var a=e.y+(100-this.fiboFansSequence[r])/100*(n.y-e.y),i={x:e.x,y:e.y},o={x:n.x,y:a};this.drawRayLines(t,i,o)}}},{key:"drawRayLines",value:function(t,e,n){this.getAreaPos();var r,a={x:e.x,y:e.y},i={x:n.x,y:n.y},o=this.getRectCrossPt(this.areaPos,a,i);r=n.x===e.x?n.y===e.y?n:n.y>e.y?{x:o[1].x,y:o[1].y}:{x:o[0].x,y:o[0].y}:n.x>e.x?{x:o[1].x,y:o[1].y}:{x:o[0].x,y:o[0].y},x.drawLine(t,e.x,e.y,r.x,r.y)}},{key:"lenBetweenPts",value:function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"getCtrlPts",value:function(){for(var t=0;t<this.ctrlPtsNum;t++)this.ctrlPts[0][t]=this.toolObject.getPoint(t)}},{key:"updateCtrlPtPos",value:function(){for(var t=0;t<this.ctrlPtsNum;t++)this.ctrlPts[1][t]=this.ctrlPts[0][t].getPosXY()}},{key:"getAreaPos",value:function(){var t=o.ChartManager.instance.getArea("frame0.k0.main");this.areaPos=null!==t?{left:Math.floor(t.getLeft()),top:Math.floor(t.getTop()),right:Math.floor(t.getRight()),bottom:Math.floor(t.getBottom())}:{left:0,top:0,right:0,bottom:0}}},{key:"updateDraw",value:function(t){t.strokeStyle=this.theme.getColor(u.Theme.Color.LineColorNormal),this.draw(t),this.drawCtrlPt(t)}},{key:"finishDraw",value:function(t){t.strokeStyle=this.theme.getColor(u.Theme.Color.LineColorNormal),this.draw(t)}},{key:"highlight",value:function(t){t.strokeStyle=this.theme.getColor(u.Theme.Color.LineColorSelected),this.draw(t),this.drawCtrlPt(t),this.highlightCtrlPt(t)}}]),e}();e.CToolPlotter=V;var F=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).toolObject=n,r.ctrlPtsNum=2,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,V),v(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y?x.drawLine(t,this.areaPos.left,this.startPoint.y,this.areaPos.right,this.startPoint.y):(this.crossPt=this.getRectCrossPt(this.areaPos,this.startPoint,this.endPoint),x.drawLine(t,this.crossPt[0].x,this.crossPt[0].y,this.crossPt[1].x,this.crossPt[1].y))}}]),e}();e.DrawStraightLinesPlotter=F;var H=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).toolObject=n,r.ctrlPtsNum=2,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,V),v(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y&&(this.endPoint.x+=1),x.drawLine(t,this.startPoint.x,this.startPoint.y,this.endPoint.x,this.endPoint.y)}}]),e}();e.DrawSegLinesPlotter=H;var z=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).toolObject=n,r.ctrlPtsNum=2,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,V),v(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y&&(this.endPoint.x+=1),this.drawRayLines(t,this.startPoint,this.endPoint)}}]),e}();e.DrawRayLinesPlotter=z;var W=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).toolObject=n,r.arrowSizeRatio=.03,r.arrowSize=4,r.crossPt={x:-1,y:-1},r.ctrlPtsNum=2,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,V),v(e,[{key:"drawArrow",value:function(t,e,n){var r=this.lenBetweenPts(e,n),a=[n.x-e.x,n.y-e.y];this.crossPt.x=e.x+(1-this.arrowSize/r)*a[0],this.crossPt.y=e.y+(1-this.arrowSize/r)*a[1];var i=[-a[1],a[0]],o={x:i[0],y:i[1]},s={x:0,y:0};i[0]=this.arrowSize*o.x/this.lenBetweenPts(o,s),i[1]=this.arrowSize*o.y/this.lenBetweenPts(o,s);var l=[this.crossPt.x+i[0],this.crossPt.y+i[1]];x.drawLine(t,n.x,n.y,l[0],l[1]),l=[this.crossPt.x-i[0],this.crossPt.y-i[1]],x.drawLine(t,n.x,n.y,l[0],l[1])}},{key:"draw",value:function(t){this.updateCtrlPtPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y&&(this.endPoint.x+=1),x.drawLine(t,this.startPoint.x,this.startPoint.y,this.endPoint.x,this.endPoint.y),this.drawArrow(t,this.startPoint,this.endPoint)}}]),e}();e.DrawArrowLinesPlotter=W;var Z=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).toolObject=n,r.ctrlPtsNum=1,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,V),v(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],x.drawLine(t,this.areaPos.left,this.startPoint.y,this.areaPos.right,this.startPoint.y)}}]),e}();e.DrawHoriStraightLinesPlotter=Z;var X=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).toolObject=n,r.ctrlPtsNum=2,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,V),v(e,[{key:"draw",value:function(t){if(this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.startPoint.x===this.endPoint.x)x.drawLine(t,this.startPoint.x,this.startPoint.y,this.areaPos.right,this.startPoint.y);else{var e={x:this.endPoint.x,y:this.startPoint.y};this.drawRayLines(t,this.startPoint,e)}}}]),e}();e.DrawHoriRayLinesPlotter=X;var J=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).toolObject=n,r.ctrlPtsNum=2,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,V),v(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.endPoint.y=this.startPoint.y,this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y?x.drawLine(t,this.startPoint.x,this.startPoint.y,this.endPoint.x+1,this.startPoint.y):x.drawLine(t,this.startPoint.x,this.startPoint.y,this.endPoint.x,this.startPoint.y)}}]),e}();e.DrawHoriSegLinesPlotter=J;var Q=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).toolObject=n,r.ctrlPtsNum=1,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,V),v(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],x.drawLine(t,this.startPoint.x,this.areaPos.top,this.startPoint.x,this.areaPos.bottom)}}]),e}();e.DrawVertiStraightLinesPlotter=Q;var q=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).toolObject=n,r.ctrlPtsNum=1,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,V),v(e,[{key:"draw",value:function(t){var e=10*window.devicePixelRatio;t.font=e+"px Tahoma",t.textAlign="left",t.fillStyle=this.theme.getColor(u.Theme.Color.LineColorNormal),this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0];var n=this.ctrlPts[0][0].getPosIV().v;x.drawLine(t,this.startPoint.x,this.startPoint.y,this.areaPos.right,this.startPoint.y),t.fillText(n.toFixed(2),this.startPoint.x+2,this.startPoint.y-15)}}]),e}();e.DrawPriceLinesPlotter=q;var K=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).toolObject=n,r}return b(e,V),v(e,[{key:"getParaPt",value:function(){var t=[];t[0]=this.endPoint.x-this.startPoint.x,t[1]=this.endPoint.y-this.startPoint.y;var e=[];e[0]=this.paraStartPoint.x-this.startPoint.x,e[1]=this.paraStartPoint.y-this.startPoint.y,this.paraEndPoint={x:-1,y:-1},this.paraEndPoint.x=t[0]+e[0]+this.startPoint.x,this.paraEndPoint.y=t[1]+e[1]+this.startPoint.y}}]),e}();e.ParallelLinesPlotter=K;var $=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).toolObject=n,r.ctrlPtsNum=3,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,K),v(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.paraStartPoint=this.ctrlPts[1][1],this.endPoint=this.ctrlPts[1][2],this.getParaPt(),this.getAreaPos(),this.crossPt0=this.getRectCrossPt(this.areaPos,this.startPoint,this.endPoint),x.drawLine(t,this.crossPt0[0].x,this.crossPt0[0].y,this.crossPt0[1].x,this.crossPt0[1].y),this.crossPt1=this.getRectCrossPt(this.areaPos,this.paraStartPoint,this.paraEndPoint),x.drawLine(t,this.crossPt1[0].x,this.crossPt1[0].y,this.crossPt1[1].x,this.crossPt1[1].y)}}]),e}();e.DrawBiParallelLinesPlotter=$;var tt=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).toolObject=n,r.ctrlPtsNum=3,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,K),v(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.paraStartPoint=this.ctrlPts[1][1],this.endPoint=this.ctrlPts[1][2],this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y&&(this.endPoint.x+=1),this.getParaPt(),this.drawRayLines(t,this.startPoint,this.endPoint),this.drawRayLines(t,this.paraStartPoint,this.paraEndPoint)}}]),e}();e.DrawBiParallelRayLinesPlotter=tt;var et=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).toolObject=n,r.ctrlPtsNum=3,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,K),v(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.paraStartPoint=this.ctrlPts[1][1],this.endPoint=this.ctrlPts[1][2];var e=[];e[0]=this.endPoint.x-this.startPoint.x,e[1]=this.endPoint.y-this.startPoint.y;var n=[];n[0]=this.paraStartPoint.x-this.startPoint.x,n[1]=this.paraStartPoint.y-this.startPoint.y,this.para1EndPoint={x:-1,y:-1},this.para2EndPoint={x:-1,y:-1},this.para2StartPoint={x:-1,y:-1},this.para1EndPoint.x=e[0]+n[0]+this.startPoint.x,this.para1EndPoint.y=e[1]+n[1]+this.startPoint.y,this.para2StartPoint.x=this.startPoint.x-n[0],this.para2StartPoint.y=this.startPoint.y-n[1],this.para2EndPoint.x=this.endPoint.x-n[0],this.para2EndPoint.y=this.endPoint.y-n[1],this.getAreaPos(),this.crossPt0=this.getRectCrossPt(this.areaPos,this.startPoint,this.endPoint),x.drawLine(t,this.crossPt0[0].x,this.crossPt0[0].y,this.crossPt0[1].x,this.crossPt0[1].y),this.crossPt1=this.getRectCrossPt(this.areaPos,this.paraStartPoint,this.para1EndPoint),x.drawLine(t,this.crossPt1[0].x,this.crossPt1[0].y,this.crossPt1[1].x,this.crossPt1[1].y),this.crossPt2=this.getRectCrossPt(this.areaPos,this.para2StartPoint,this.para2EndPoint),x.drawLine(t,this.crossPt2[0].x,this.crossPt2[0].y,this.crossPt2[1].x,this.crossPt2[1].y)}}]),e}();e.DrawTriParallelLinesPlotter=et;var nt=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).toolObject=n,r.ctrlPtsNum=2,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,V),v(e,[{key:"drawLinesAndInfo",value:function(t,e,n){var r,a=10*window.devicePixelRatio;t.font=a+"px Tahoma",t.textAlign="left",t.fillStyle=this.theme.getColor(u.Theme.Color.LineColorNormal),this.toolObject.state===p.CToolObject.state.Draw&&(this.startPtValue=this.toolObject.getPoint(0).getPosIV().v,this.endPtValue=this.toolObject.getPoint(1).getPosIV().v),this.getAreaPos();for(var i=0;i<this.fiboSequence.length;i++){var o=e.y+(100-this.fiboSequence[i])/100*(n.y-e.y);if(!(o>this.areaPos.bottom)){var s=this.startPtValue+(100-this.fiboSequence[i])/100*(this.endPtValue-this.startPtValue);x.drawLine(t,this.areaPos.left,o,this.areaPos.right,o),r=this.fiboSequence[i].toFixed(1)+"% "+s.toFixed(1),t.fillText(r,this.areaPos.left+2,o-15)}}}},{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.drawLinesAndInfo(t,this.startPoint,this.endPoint)}}]),e}();e.BandLinesPlotter=nt;var rt=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).toolObject=n,r.fiboSequence=[100,78.6,61.8,50,38.2,23.6,0],r}return b(e,nt),e}();e.DrawFibRetracePlotter=rt;var at=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).toolObject=n,r.fiboSequence=[0,12.5,25,37.5,50,62.5,75,87.5,100],r}return b(e,nt),e}();e.DrawBandLinesPlotter=at;var it=function(t){function e(t,n){var r;return f(this,e),(r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).toolObject=n,r.fiboFansSequence=[0,38.2,50,61.8],r.ctrlPtsNum=2,r.ctrlPts=[new Array(r.ctrlPtsNum),new Array(2)],r.getCtrlPts(),r}return b(e,V),v(e,[{key:"drawLinesAndInfo",value:function(t,e,n){this.drawFibRayLines(t,e,n)}},{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y&&(this.endPoint.x+=1),this.drawLinesAndInfo(t,this.startPoint,this.endPoint)}}]),e}();e.DrawFibFansPlotter=it;var ot=function(t){function e(t){var n;return f(this,e),(n=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).flag=!0,n.context=o.ChartManager.instance._overlayContext,n}return b(e,i.NamedObject),v(e,[{key:"getAreaPos",value:function(){var t=o.ChartManager.instance.getArea("frame0.k0.main");this.areaPos=null!==t?{left:Math.floor(t.getLeft()),top:Math.floor(t.getTop()),right:Math.floor(t.getRight()),bottom:Math.floor(t.getBottom())}:{left:0,top:0,right:0,bottom:0}}},{key:"Draw",value:function(t){this.getAreaPos();var e=o.ChartManager.instance.getDataSource(this.getDataSourceName());if(null!==e&&s.Util.isInstance(e,d.MainDataSource)){this.context.save(),this.context.rect(this.areaPos.left,this.areaPos.top,this.areaPos.right-this.areaPos.left,this.areaPos.bottom-this.areaPos.top),this.context.clip();for(var n=e.getToolObjectCount(),r=0;r<n;r++){var a=e.getToolObject(r);switch(a.getState()){case p.CToolObject.state.BeforeDraw:a.getPlotter().theme=o.ChartManager.instance.getTheme(this.getFrameName()),a.getPlotter().drawCursor(this.context);break;case p.CToolObject.state.Draw:a.getPlotter().theme=o.ChartManager.instance.getTheme(this.getFrameName()),a.getPlotter().updateDraw(this.context);break;case p.CToolObject.state.AfterDraw:a.getPlotter().theme=o.ChartManager.instance.getTheme(this.getFrameName()),a.getPlotter().finishDraw(this.context)}}var i=e.getSelectToolObjcet();null!==i&&i!==p.CToolObject.state.Draw&&i.getPlotter().highlight(this.context),this.context.restore()}}}]),e}();e.CDynamicLinePlotter=ot},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndicatorDataProvider=e.MainDataProvider=e.DataProvider=void 0;var r=n(1),a=n(0),i=n(5),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(2));function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(t){var n;return l(this,e),(n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._minValue=0,n._maxValue=0,n._minValueIndex=-1,n._maxValueIndex=-1,n}return d(e,r.NamedObject),u(e,[{key:"getMinValue",value:function(){return this._minValue}},{key:"getMaxValue",value:function(){return this._maxValue}},{key:"getMinValueIndex",value:function(){return this._minValueIndex}},{key:"getMaxValueIndex",value:function(){return this._maxValueIndex}},{key:"getMinMaxAt",value:function(t,e){return!0}},{key:"calcRange",value:function(t,e,n,r){for(var a=Number.MAX_VALUE,i=-Number.MAX_VALUE,o=-1,s=-1,l={},c=e-1,u=t.length-1;u>=0;u--){var h=t[u];if(c<h)n[u]={min:a,max:i};else{for(;c>=h;c--)!1!==this.getMinMaxAt(c,l)&&(a>l.min&&(a=l.min,o=c),i<l.max&&(i=l.max,s=c));n[u]={min:a,max:i}}null!==r&&void 0!==r&&(r[u]={minIndex:o,maxIndex:s})}}},{key:"updateRange",value:function(){var t=a.ChartManager.instance.getTimeline(this.getDataSourceName()),e=[t.getFirstIndex()],n=[{}],r=[{}];this.calcRange(e,t.getLastIndex(),n,r),this._minValue=n[0].min,this._maxValue=n[0].max,this._minValueIndex=r[0].minIndex,this._maxValueIndex=r[0].maxIndex}}]),e}();e.DataProvider=p;var _=function(t){function e(t){var n;return l(this,e),(n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._candlestickDS=null,n}return d(e,p),u(e,[{key:"updateData",value:function(){var t=a.ChartManager.instance.getDataSource(this.getDataSourceName());i.Util.isInstance(t,o.MainDataSource)&&(this._candlestickDS=t)}},{key:"getMinMaxAt",value:function(t,e){var n=this._candlestickDS.getDataAt(t);return e.min=n.low,e.max=n.high,!0}}]),e}();e.MainDataProvider=_;var g=function(t){function e(){return l(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,p),u(e,[{key:"getIndicator",value:function(){return this._indicator}},{key:"setIndicator",value:function(t){this._indicator=t,this.refresh()}},{key:"refresh",value:function(){var t=a.ChartManager.instance.getDataSource(this.getDataSourceName());if(!(t.getDataCount()<1)){var e,n=this._indicator,r=t.getDataCount();for(n.clear(),n.reserve(r),e=0;e<r;e++)n.execute(t,e)}}},{key:"updateData",value:function(){var t=a.ChartManager.instance.getDataSource(this.getDataSourceName());if(!(t.getDataCount()<1)){var e=this._indicator;switch(t.getUpdateMode()){case o.DataSource.UpdateMode.Refresh:this.refresh();break;case o.DataSource.UpdateMode.Append:e.reserve(t.getAppendedCount());break;case o.DataSource.UpdateMode.Update:var n,r=t.getDataCount();for(n=r-(t.getUpdatedCount()+t.getAppendedCount());n<r;n++)e.execute(t,n)}}}},{key:"getMinMaxAt",value:function(t,e){e.min=Number.MAX_VALUE,e.max=-Number.MAX_VALUE;var n,r,a=!1,i=this._indicator.getOutputCount();for(r=0;r<i;r++)n=this._indicator.getOutputAt(r).execute(t),!1===isNaN(n)&&(a=!0,e.min>n&&(e.min=n),e.max<n&&(e.max=n));return a}}]),e}();e.IndicatorDataProvider=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChartAreaGroup=e.TimelineArea=e.IndicatorRangeArea=e.MainRangeArea=e.IndicatorArea=e.MainArea=e.ChartArea=void 0;var r=n(1),a=n(0),i=n(17);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(t){var n;return s(this,e),(n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._left=0,n._top=0,n._right=0,n._bottom=0,n._changed=!1,n._highlighted=!1,n._pressed=!1,n._selected=!1,n.Measuring=new i.MEvent,n}return h(e,r.NamedObject),c(e,[{key:"getDockStyle",value:function(){return this._dockStyle}},{key:"setDockStyle",value:function(t){this._dockStyle=t}},{key:"getLeft",value:function(){return this._left}},{key:"getTop",value:function(){return this._top}},{key:"setTop",value:function(t){this._top!==t&&(this._top=t,this._changed=!0)}},{key:"getRight",value:function(){return this._right}},{key:"getBottom",value:function(){return this._bottom}},{key:"setBottom",value:function(t){this._bottom!==t&&(this._bottom=t,this._changed=!0)}},{key:"getCenter",value:function(){return this._left+this._right>>1}},{key:"getMiddle",value:function(){return this._top+this._bottom>>1}},{key:"getWidth",value:function(){return this._right-this._left}},{key:"getHeight",value:function(){return this._bottom-this._top}},{key:"getRect",value:function(){return{X:this._left,Y:this._top,Width:this._right-this._left,Height:this._bottom-this._top}}},{key:"contains",value:function(t,e){return t>=this._left&&t<this._right&&e>=this._top&&e<this._bottom?[this]:null}},{key:"getMeasuredWidth",value:function(){return this._measuredWidth}},{key:"getMeasuredHeight",value:function(){return this._measuredHeight}},{key:"setMeasuredDimension",value:function(t,e){this._measuredWidth=t,this._measuredHeight=e}},{key:"measure",value:function(t,e,n){this._measuredWidth=0,this._measuredHeight=0,this.Measuring.raise(this,{Width:e,Height:n}),0===this._measuredWidth&&0===this._measuredHeight&&this.setMeasuredDimension(e,n)}},{key:"layout",value:function(t,e,n,r,a){t<<=0,this._left!==t&&(this._left=t,this._changed=!0),e<<=0,this._top!==e&&(this._top=e,this._changed=!0),n<<=0,this._right!==n&&(this._right=n,this._changed=!0),r<<=0,this._bottom!==r&&(this._bottom=r,this._changed=!0),a&&(this._changed=!0)}},{key:"isChanged",value:function(){return this._changed}},{key:"setChanged",value:function(t){this._changed=t}},{key:"isHighlighted",value:function(){return this._highlighted}},{key:"getHighlightedArea",value:function(){return this._highlighted?this:null}},{key:"highlight",value:function(t){return this._highlighted=this===t,this._highlighted?this:null}},{key:"isPressed",value:function(){return this._pressed}},{key:"setPressed",value:function(t){this._pressed=t}},{key:"isSelected",value:function(){return this._selected}},{key:"getSelectedArea",value:function(){return this._selected?this:null}},{key:"select",value:function(t){return this._selected=this===t,this._selected?this:null}},{key:"onMouseMove",value:function(t,e){return null}},{key:"onMouseLeave",value:function(t,e){}},{key:"onMouseDown",value:function(t,e){return null}},{key:"onMouseUp",value:function(t,e){return null}}]),e}();e.ChartArea=d,d.DockStyle={Left:0,Top:1,Right:2,Bottom:3,Fill:4};var p=function(t){function e(t){var n;return s(this,e),(n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._dragStarted=!1,n._oldX=0,n._oldY=0,n._passMoveEventToToolManager=!0,n}return h(e,d),c(e,[{key:"onMouseMove",value:function(t,e){var n=a.ChartManager.instance;if(n._capturingMouseArea===this&&!1===this._dragStarted&&(Math.abs(this._oldX-t)>1||Math.abs(this._oldY-e)>1)&&(this._dragStarted=!0),this._dragStarted)return n.hideCursor(),n.onToolMouseDrag(this.getFrameName(),t,e)?this:(n.getTimeline(this.getDataSourceName()).move(t-this._oldX),this);if(this._passMoveEventToToolManager&&n.onToolMouseMove(this.getFrameName(),t,e))return n.hideCursor(),this;switch(n._drawingTool){case a.ChartManager.DrawingTool.Cursor:n.showCursor();break;case a.ChartManager.DrawingTool.CrossCursor:n.showCrossCursor(this,t,e)?n.hideCursor():n.showCursor();break;default:n.hideCursor()}return this}},{key:"onMouseLeave",value:function(t,e){this._dragStarted=!1,this._passMoveEventToToolManager=!0}},{key:"onMouseDown",value:function(t,e){var n=a.ChartManager.instance;return n.getTimeline(this.getDataSourceName()).startMove(),this._oldX=t,this._oldY=e,this._dragStarted=!1,n.onToolMouseDown(this.getFrameName(),t,e)&&(this._passMoveEventToToolManager=!1),this}},{key:"onMouseUp",value:function(t,e){var n=a.ChartManager.instance,r=null;return this._dragStarted&&(this._dragStarted=!1,r=this),n.onToolMouseUp(this.getFrameName(),t,e)&&(r=this),this._passMoveEventToToolManager=!0,r}}]),e}();e.MainArea=p;var _=function(t){function e(t){var n;return s(this,e),(n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._dragStarted=!1,n._oldX=0,n._oldY=0,n}return h(e,d),c(e,[{key:"onMouseMove",value:function(t,e){var n=a.ChartManager.instance;if(n._capturingMouseArea===this&&!1===this._dragStarted&&(this._oldX===t&&this._oldY===e||(this._dragStarted=!0)),this._dragStarted)return n.hideCursor(),n.getTimeline(this.getDataSourceName()).move(t-this._oldX),this;switch(n._drawingTool){case a.ChartManager.DrawingTool.CrossCursor:n.showCrossCursor(this,t,e)?n.hideCursor():n.showCursor();break;default:n.showCursor()}return this}},{key:"onMouseLeave",value:function(t,e){this._dragStarted=!1}},{key:"onMouseDown",value:function(t,e){return a.ChartManager.instance.getTimeline(this.getDataSourceName()).startMove(),this._oldX=t,this._oldY=e,this._dragStarted=!1,this}},{key:"onMouseUp",value:function(t,e){return this._dragStarted?(this._dragStarted=!1,this):null}}]),e}();e.IndicatorArea=_;var g=function(t){function e(t){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return h(e,d),c(e,[{key:"onMouseMove",value:function(t,e){return a.ChartManager.instance.showCursor(),this}}]),e}();e.MainRangeArea=g;var f=function(t){function e(t){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return h(e,d),c(e,[{key:"onMouseMove",value:function(t,e){return a.ChartManager.instance.showCursor(),this}}]),e}();e.IndicatorRangeArea=f;var m=function(t){function e(t){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return h(e,d),c(e,[{key:"onMouseMove",value:function(t,e){return a.ChartManager.instance.showCursor(),this}}]),e}();e.TimelineArea=m;var v=function(t){function e(t){var n;return s(this,e),(n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._areas=[],n._highlightedArea=null,n._selectedArea=null,n}return h(e,d),c(e,[{key:"contains",value:function(t,n){var r,a,i=this._areas.length;for(a=0;a<i;a++)if(null!==(r=this._areas[a].contains(t,n)))return r.push(this),r;return function t(e,n,r){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(void 0===a){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"contains",this).call(this,t,n)}},{key:"getAreaCount",value:function(){return this._areas.length}},{key:"getAreaAt",value:function(t){return t<0||t>=this._areas.length?null:this._areas[t]}},{key:"addArea",value:function(t){this._areas.push(t)}},{key:"removeArea",value:function(t){var e,n=this._areas.length;for(e=0;e<n;e++)if(t===this._areas[e]){this._areas.splice(e),this.setChanged(!0);break}}},{key:"getGridColor",value:function(){return this._gridColor}},{key:"setGridColor",value:function(t){this._gridColor=t}},{key:"getHighlightedArea",value:function(){return null!==this._highlightedArea?this._highlightedArea.getHighlightedArea():null}},{key:"highlight",value:function(t){this._highlightedArea=null;var e,n,r=this._areas.length;for(n=0;n<r;n++)if(null!==(e=this._areas[n].highlight(t)))return this._highlightedArea=e,this;return null}},{key:"getSelectedArea",value:function(){return null!==this._selectedArea?this._selectedArea.getSelectedArea():null}},{key:"select",value:function(t){this._selectedArea=null;var e,n,r=this._areas.length;for(n=0;n<r;n++)if(null!==(e=this._areas[n].select(t)))return this._selectedArea=e,this;return null}},{key:"onMouseLeave",value:function(t,e){var n,r=this._areas.length;for(n=0;n<r;n++)this._areas[n].onMouseLeave(t,e)}},{key:"onMouseUp",value:function(t,e){var n,r,a=this._areas.length;for(r=0;r<a;r++)if(null!==(n=this._areas[r].onMouseUp(t,e)))return n;return null}}]),e}();e.ChartAreaGroup=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KlineTrade=void 0;var r=n(0);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.browerState=0,this.tradeDate=new Date,this.tradesLimit=20,this.lastDepth=null,this.depthShowSize=15,this.priceDecimalDigits=6,this.amountDecimalDigits=4,this.symbol=null,this.curPrice=null,this.title="",Object.assign(this,e),t.created||(t.instance=this,t.created=!0),t.instance}var e,n,i;return e=t,(n=[{key:"reset",value:function(t){this.symbol=t,this.lastDepth=null,this.curPrice=null,this.klineTradeInit=!1,$("#trades .trades_list").empty(),$("#asks .table").empty(),$("#bids .table").empty()}},{key:"pushTrades",value:function(t){for(var e=$("#trades .trades_list"),n="",r=0;r<t.length;r++){var a=t[r];if(r>=t.length-this.tradesLimit){this.tradeDate.setTime(1e3*a.date);var i=this.dateFormatTf(this.tradeDate.getHours())+":"+this.dateFormatTf(this.tradeDate.getMinutes())+":"+this.dateFormatTf(this.tradeDate.getSeconds()),o=(Number(a.amount).toFixed(4)+"").split("."),s=Number(a.price);s>1&&(s=s.toFixed(2)),s<1&&s>1e-5&&(s=s.toFixed(4)),s<1e-5&&(s=s.toFixed(6)),n="<ul><li class='tm'>"+i+"</li><li class='pr-"+("buy"===a.type?"green":"red")+"'>"+s+"</li><li class='vl'>"+o[0]+"<g>"+(o.length>1?"."+o[1]:"")+"</g></li></ul>"+n}}if(t.length>0){var l=Number(t[t.length-1].price);l>1&&(l=l.toFixed(2)),l<1&&l>1e-4&&(l=l.toFixed(4)),l<1e-4&&(l=l.toFixed(6)),this.curPrice=l,$("div#price").attr("class","buy"===t[t.length-1].type?"green":"red").text(l)}this.klineTradeInit?e.prepend(n):e.append(n),n=null,e.find("ul:gt("+(this.tradesLimit-1)+")").remove()}},{key:"updateDepth",value:function(t){if(r.ChartManager.instance.getChart().updateDepth(t),t)if(null===this.lastDepth)this.lastDepth={},this.lastDepth.asks=this.getAsks(t.asks,this.depthShowSize),this.depthInit(this.lastDepth.asks,$("#asks .table")),this.lastDepth.bids=this.getBids(t.bids,this.depthShowSize),this.depthInit(this.lastDepth.bids,$("#bids .table"));else{var e=$("#asks .table");e.find("div.remove").remove(),e.find("div.add").removeClass("add");var n=this.getAsks(t.asks,this.depthShowSize),a=this.lastDepth.asks;this.lastDepth.asks=n,this.asksAndBids(n.slice(0),a,e);var i=$("#bids .table");i.find("div.remove").remove(),i.find("div.add").removeClass("add");var o=this.getBids(t.bids,this.depthShowSize),s=this.lastDepth.bids;this.lastDepth.bids=o,this.asksAndBids(o.slice(0),s,$("#bids .table"))}}},{key:"depthInit",value:function(t,e){if(e.empty(),t&&t.length>0){for(var n,r="",a=0;a<t.length;a++){var i=(t[a][0]+"").split("."),o=this.getPrice(i,n);n=i[0],i=(t[a][1]+"").split(".");var s=this.getAmount(i);r+="<div class='row'><span class='price'>"+o[0]+"<g>"+o[1]+"</g></span> <span class='amount'>"+s[0]+"<g>"+s[1]+"</g></span></div>"}e.append(r),r=null}}},{key:"asksAndBids",value:function(t,e,n){for(var r=0;r<e.length;r++){for(var a=!1,i=0;i<t.length;i++)if(e[r][0]===t[i][0]){if(a=!0,e[r][1]!==t[i][1]){var o=n.find("div:eq("+r+") .amount");o.addClass(e[r][1]>t[i][1]?"red":"green");var s=this.getAmount((t[i][1]+"").split("."));setTimeout(function(t,e){return function(){t.html(e[0]+"<g>"+e[1]+"</g>"),t.removeClass("red").removeClass("green"),t=null,e=null}}(o,s),500)}t.splice(i,1);break}a||(n.find("div:eq("+r+")").addClass("remove"),e[r][2]=-1)}for(var l=0;l<e.length;l++)for(var c=0;c<t.length;c++)if(t[c][0]>e[l][0]){var u=(t[c][1]+"").split("."),h=this.getAmount(u);n.find("div:eq("+l+")").before("<div class='row add'><span class='price'></span> <span class='amount'>"+h[0]+"<g>"+h[1]+"</g></span></div>"),e.splice(l,0,t[c]),t.splice(c,1);break}for(var d,p,_,g="",f=0;f<t.length;f++){e.push(t[f]);var m=(t[f][1]+"").split("."),v=this.getAmount(m);g+="<div class='row add'><span class='price'></span> <span class='amount'>"+v[0]+"<g>"+v[1]+"</g></span></div>"}g.length>0&&n.append(g),g=null;for(var y=0;y<e.length;y++){var b=n.find("div:eq("+y+")");if(!(e[y].length>=3&&-1===e[y][2])){var x=(e[y][0]+"").split("."),w=this.getPrice(x,d);d=x[0],b.find(".price").html(w[0]+"<g>"+w[1]+"</g>")}}t=null,e=null,n.find("div.add").slideDown(800),setTimeout((p=n.find("div.remove"),_=n.find("div.add"),function(){p.slideUp(500,function(){$(this).remove()}),_.removeClass("add")}),1e3)}},{key:"getAsks",value:function(t,e){return t.length>e&&t.splice(0,t.length-e),t}},{key:"getBids",value:function(t,e){return t.length>e&&t.splice(e,t.length-1),t}},{key:"getgview",value:function(t){for(var e,n="",r=0;r<t.length;r++){var a=t[r][0].split(".");1===a.length||a[0]!==e?(n+="<div class='row'><span class='price'>"+t[r][0]+"</span> <span class='amount'>"+t[r][1]+"</span></div>",e=a[0]):n+="<div class='row'><span class='price'><h>"+a[0]+".</h>"+a[1]+"</span> <span class='amount'>"+t[r][1]+"</span></div>"}return n}},{key:"getgasks",value:function(t){if(t.length<2)return[];var e=t[t.length-1][0],n=t[0][0],r=n-e,a=this.getBlock(r,100),i=Math.abs(Number(Math.log(a)/Math.log(10))).toFixed(0);r/a<2&&(a/=2,i++),a>=1&&(i=0),e=parseInt(e/a)*a,n=parseInt(n/a)*a;for(var o=[],s=0,l=t.length-1;l>=0;l--){if(t[l][0]>e){var c=parseInt(s,10);if(c>0&&o.unshift([Number(e).toFixed(i),c]),e>=n)break;e+=a}s+=t[l][1]}return o}},{key:"getgbids",value:function(t){if(t.length<2)return[];var e=t[t.length-1][0],n=t[0][0],r=n-e,a=this.getBlock(r,100),i=Math.abs(Number(Math.log(a)/Math.log(10))).toFixed(0);r/a<2&&(a/=2,i++),a>=1&&(i=0),e=parseInt(e/a)*a,n=parseInt(n/a)*a;for(var o=[],s=0,l=0;l<t.length;l++){if(t[l][0]<n){var c=parseInt(s,10);if(c>0&&o.push([Number(n).toFixed(i),c]),n<=e)break;n-=a}s+=t[l][1]}return o}},{key:"getBlock",value:function(t,e){return t>e||t<=0?e:(e/=10,this.getBlock(t,e))}},{key:"getZeros",value:function(t){for(var e="";t>0;)t--,e+="0";return e}},{key:"getPrice",value:function(t,e){var n=t[0];e===n?n="<h>"+n+".</h>":n+=".";var r="";return 1===t.length?(n+="0",r=this.getZeros(this.priceDecimalDigits-1)):(n+=t[1],r=this.getZeros(this.priceDecimalDigits-t[1].length)),[n,r]}},{key:"getAmount",value:function(t){var e=t[0],n="",r=this.amountDecimalDigits-e.length+1;return r>0&&(n=".",1===t.length?n+=this.getZeros(r):r>t[1].length?n+=t[1]+this.getZeros(r-t[1].length):r===t[1].length?n+=t[1]:n+=t[1].substring(0,r)),[e,n]}},{key:"dateFormatTf",value:function(t){return(t<10?"0":"")+t}}])&&a(e.prototype,n),i&&a(e,i),t}();e.KlineTrade=i,i.created=!1,i.instance=null},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.CName=void 0;var a=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._names=[],this._comps=[],e instanceof t)this._names=e._names,this._comps=e._comps;else{var n=e.split("."),r=n.length-1;if(r>0){this._comps=n,this._names.push(n[0]);for(var a=1;a<=r;a++)this._names.push(this._names[a-1]+"."+n[a])}else this._comps.push(e),this._names.push(e)}}var e,n,a;return e=t,(n=[{key:"getCompAt",value:function(t){return t>=0&&t<this._comps.length?this._comps[t]:""}},{key:"getName",value:function(t){if(t<0){if(this._names.length>0)return this._names[this._names.length-1]}else if(t<this._names.length)return this._names[t];return""}}])&&r(e.prototype,n),a&&r(e,a),t}();e.CName=a},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:a(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.SarExpr=e.SmaExpr=e.ExpmemaExpr=e.EmaExpr=e.MaExpr=e.StdExpr=e.SumExpr=e.CountExpr=e.LlvExpr=e.HhvExpr=e.RangeExpr=e.RangeOutputExpr=e.OutputExpr=e.AssignExpr=e.IfExpr=e.OrExpr=e.AndExpr=e.RefExpr=e.AbsExpr=e.MaxExpr=e.EqExpr=e.LeExpr=e.LtExpr=e.GeExpr=e.GtExpr=e.DivExpr=e.MulExpr=e.SubExpr=e.AddExpr=e.NegExpr=e.OpABCDExpr=e.OpABCExpr=e.OpABExpr=e.OpAExpr=e.ParameterExpr=e.ConstExpr=e.VolumeExpr=e.CloseExpr=e.LowExpr=e.HighExpr=e.OpenExpr=e.Expr=e.ExprEnv=void 0;var u=function(){function t(){s(this,t),this._ds=null,this._firstIndex=null}return c(t,[{key:"getDataSource",value:function(){return this._ds}},{key:"setDataSource",value:function(t){return this._ds=t}},{key:"getFirstIndex",value:function(){return this._firstIndex}},{key:"setFirstIndex",value:function(t){return this._firstIndex=t}}],[{key:"get",value:function(){return this.inst}},{key:"set",value:function(t){this.inst=t}}]),t}();e.ExprEnv=u,u.inst=null;var h=function(){function t(){s(this,t),this._rid=0}return c(t,[{key:"execute",value:function(t){}},{key:"reserve",value:function(t,e){}},{key:"clear",value:function(){}}]),t}();e.Expr=h;var d=function(t){function e(){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,h),c(e,[{key:"execute",value:function(t){return u.get()._ds.getDataAt(t).open}}]),e}();e.OpenExpr=d;var p=function(t){function e(){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,h),c(e,[{key:"execute",value:function(t){return u.get()._ds.getDataAt(t).high}}]),e}();e.HighExpr=p;var _=function(t){function e(){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,h),c(e,[{key:"execute",value:function(t){return u.get()._ds.getDataAt(t).low}}]),e}();e.LowExpr=_;var g=function(t){function e(){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,h),c(e,[{key:"execute",value:function(t){return u.get()._ds.getDataAt(t).close}}]),e}();e.CloseExpr=g;var f=function(t){function e(){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,h),c(e,[{key:"execute",value:function(t){return u.get()._ds.getDataAt(t).volume}}]),e}();e.VolumeExpr=f;var m=function(t){function e(t){var n;return s(this,e),(n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._value=t,n}return o(e,h),c(e,[{key:"execute",value:function(t){return this._value}}]),e}();e.ConstExpr=m;var v=function(t){function e(t,n,r,a){var o;return s(this,e),(o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._name=t,o._minValue=n,o._maxValue=r,o._value=o._defaultValue=a,o}return o(e,h),c(e,[{key:"execute",value:function(t){return this._value}},{key:"getMinValue",value:function(){return this._minValue}},{key:"getMaxValue",value:function(){return this._maxValue}},{key:"getDefaultValue",value:function(){return this._defaultValue}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(t){0===t?this._value=0:t<this._minValue?this._value=this._minValue:t>this._maxValue?this._value=this._maxValue:this._value=t}}]),e}();e.ParameterExpr=v;var y=function(t){function e(t){var n;return s(this,e),(n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._exprA=t,n}return o(e,h),c(e,[{key:"reserve",value:function(t,e){this._rid<t&&(this._rid=t,this._exprA.reserve(t,e))}},{key:"clear",value:function(){this._exprA.clear()}}]),e}();e.OpAExpr=y;var b=function(t){function e(t,n){var r;return s(this,e),(r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._exprA=t,r._exprB=n,r}return o(e,h),c(e,[{key:"reserve",value:function(t,e){this._rid<t&&(this._rid=t,this._exprA.reserve(t,e),this._exprB.reserve(t,e))}},{key:"clear",value:function(){this._exprA.clear(),this._exprB.clear()}}]),e}();e.OpABExpr=b;var x=function(t){function e(t,n,r){var a;return s(this,e),(a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._exprA=t,a._exprB=n,a._exprC=r,a}return o(e,h),c(e,[{key:"reserve",value:function(t,e){this._rid<t&&(this._rid=t,this._exprA.reserve(t,e),this._exprB.reserve(t,e),this._exprC.reserve(t,e))}},{key:"clear",value:function(){this._exprA.clear(),this._exprB.clear(),this._exprC.clear()}}]),e}();e.OpABCExpr=x;var w=function(t){function e(t,n,r,a){var o;return s(this,e),(o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)))._exprA=t,o._exprB=n,o._exprC=r,o._exprD=a,o}return o(e,h),c(e,[{key:"reserve",value:function(t,e){this._rid<t&&(this._rid=t,this._exprA.reserve(t,e),this._exprB.reserve(t,e),this._exprC.reserve(t,e),this._exprD.reserve(t,e))}},{key:"clear",value:function(){this._exprA.clear(),this._exprB.clear(),this._exprC.clear(),this._exprD.clear()}}]),e}();e.OpABCDExpr=w;var C=function(t){function e(t){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,y),c(e,[{key:"execute",value:function(t){return-this._exprA.execute(t)}}]),e}();e.NegExpr=C;var P=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){return this._exprA.execute(t)+this._exprB.execute(t)}}]),e}();e.AddExpr=P;var k=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){return this._exprA.execute(t)-this._exprB.execute(t)}}]),e}();e.SubExpr=k;var A=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){return this._exprA.execute(t)*this._exprB.execute(t)}}]),e}();e.MulExpr=A;var O=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){var e=this._exprA.execute(t),n=this._exprB.execute(t);return 0===e?e:0===n?e>0?1e6:-1e6:e/n}}]),e}();e.DivExpr=O;var E=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){return this._exprA.execute(t)>this._exprB.execute(t)?1:0}}]),e}();e.GtExpr=E;var S=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){return this._exprA.execute(t)>=this._exprB.execute(t)?1:0}}]),e}();e.GeExpr=S;var M=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){return this._exprA.execute(t)<this._exprB.execute(t)?1:0}}]),e}();e.LtExpr=M;var I=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){return this._exprA.execute(t)<=this._exprB.execute(t)?1:0}}]),e}();e.LeExpr=I;var T=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){return this._exprA.execute(t)===this._exprB.execute(t)?1:0}}]),e}();e.EqExpr=T;var D=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){return Math.max(this._exprA.execute(t),this._exprB.execute(t))}}]),e}();e.MaxExpr=D;var R=function(t){function e(t){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,y),c(e,[{key:"execute",value:function(t){return Math.abs(this._exprA.execute(t))}}]),e}();e.AbsExpr=R;var N=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){if((void 0===this._offset||this._offset<0)&&(this._offset=this._exprB.execute(t),this._offset<0))throw"offset < 0";if((t-=this._offset)<0)throw"index < 0";var e=this._exprA.execute(t);if(isNaN(e))throw"NaN";return e}}]),e}();e.RefExpr=N;var j=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){return 0!==this._exprA.execute(t)&&0!==this._exprB.execute(t)?1:0}}]),e}();e.AndExpr=j;var L=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,b),c(e,[{key:"execute",value:function(t){return 0!==this._exprA.execute(t)||0!==this._exprB.execute(t)?1:0}}]),e}();e.OrExpr=L;var G=function(t){function e(t,n,r){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r))}return o(e,x),c(e,[{key:"execute",value:function(t){return 0!==this._exprA.execute(t)?this._exprB.execute(t):this._exprC.execute(t)}}]),e}();e.IfExpr=G;var U=function(t){function e(t,n){var r;return s(this,e),(r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)))._name=t,r._buf=[],r}return o(e,y),c(e,[{key:"getName",value:function(){return this._name}},{key:"execute",value:function(t){return this._buf[t]}},{key:"assign",value:function(t){if(this._buf[t]=this._exprA.execute(t),u.get()._firstIndex>=0&&isNaN(this._buf[t])&&!isNaN(this._buf[t-1]))throw this._name+".assign("+t+"): NaN"}},{key:"reserve",value:function(t,n){if(this._rid<t)for(var r=n;r>0;r--)this._buf.push(NaN);a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"reserve",this).call(this,t,n)}},{key:"clear",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clear",this).call(this),this._buf=[]}}]),e}();e.AssignExpr=U;var Y=function(t){function e(t,n,r,a){var o;return s(this,e),(o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)))._style=void 0===r?e.outputStyle.Line:r,o._color=a,o}return o(e,U),c(e,[{key:"getStyle",value:function(){return this._style}},{key:"getColor",value:function(){return this._color}}]),e}();e.OutputExpr=Y,Y.outputStyle={None:0,Line:1,VolumeStick:2,MACDStick:3,SARPoint:4};var B=function(t){function e(t,n,r,a){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r,a))}return o(e,Y),c(e,[{key:"getName",value:function(){return this._name+this._exprA.getRange()}}]),e}();e.RangeOutputExpr=B;var V=function(t){function e(t,n){var r;return s(this,e),(r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)))._range=-1,r._buf=[],r}return o(e,b),c(e,[{key:"getRange",value:function(){return this._range}},{key:"initRange",value:function(){this._range=this._exprB.execute(0)}},{key:"execute",value:function(t){this._range<0&&this.initRange();var e=this._buf[t].resultA=this._exprA.execute(t);return this._buf[t].result=this.calcResult(t,e)}},{key:"reserve",value:function(t,n){if(this._rid<t)for(var r=n;r>0;r--)this._buf.push({resultA:NaN,result:NaN});a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"reserve",this).call(this,t,n)}},{key:"clear",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clear",this).call(this),this._range=-1,this._buf=[]}}]),e}();e.RangeExpr=V;var F=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,V),c(e,[{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=u.get()._firstIndex;if(n<0)return e;if(t>n){for(var r=e,a=t-this._range+1,i=Math.max(n,a);i<t;i++){var o=this._buf[i];r<o.resultA&&(r=o.resultA)}return r}return e}}]),e}();e.HhvExpr=F;var H=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,V),c(e,[{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=u.get()._firstIndex;if(n<0)return e;if(t>n){for(var r=e,a=t-this._range+1,i=Math.max(n,a);i<t;i++){var o=this._buf[i];r>o.resultA&&(r=o.resultA)}return r}return e}}]),e}();e.LlvExpr=H;var z=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,V),c(e,[{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=u.get()._firstIndex;if(n<0)return 0;if(t>=n){var r=this._range-1;r>t-n&&(r=t-n);for(var a=0;r>=0;r--)0!==this._buf[t-r].resultA&&a++;return a}return 0}}]),e}();e.CountExpr=z;var W=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,V),c(e,[{key:"calcResult",value:function(t,e){var n=u.get()._firstIndex;if(n<0)return e;if(t>n){var r=this._range;return 0===r||r>=t+1-n?this._buf[t-1].result+e:this._buf[t-1].result+e-this._buf[t-r].resultA}return e}}]),e}();e.SumExpr=W;var Z=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,V),c(e,[{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=this._stdBuf[t],r=u.get()._firstIndex;if(r<0)return n.resultMA=e,0;if(t>r){var a=this._range;a>=t+1-r?(a=t+1-r,n.resultMA=this._stdBuf[t-1].resultMA*(1-1/a)+e/a):n.resultMA=this._stdBuf[t-1].resultMA+(e-this._buf[t-a].resultA)/a;for(var i=0,o=t-a+1;o<=t;o++)i+=Math.pow(this._buf[o].resultA-n.resultMA,2);return Math.sqrt(i/a)}return n.resultMA=e,0}},{key:"reserve",value:function(t,n){if(this._rid<t)for(var r=n;r>0;r--)this._stdBuf.push({resultMA:NaN});a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"reserve",this).call(this,t,n)}},{key:"clear",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clear",this).call(this),this._stdBuf=[]}}]),e}();e.StdExpr=Z;var X=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,V),c(e,[{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=u.get()._firstIndex;if(n<0)return e;if(t>n){var r=this._range;return r>=t+1-n?(r=t+1-n,this._buf[t-1].result*(1-1/r)+e/r):this._buf[t-1].result+(e-this._buf[t-r].resultA)/r}return e}}]),e}();e.MaExpr=X;var J=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,V),c(e,[{key:"initRange",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initRange",this).call(this),this._alpha=2/(this._range+1)}},{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=u.get()._firstIndex;if(n<0)return e;if(t>n){var r=this._buf[t-1];return this._alpha*(e-r.result)+r.result}return e}}]),e}();e.EmaExpr=J;var Q=function(t){function e(t,n){return s(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return o(e,J),c(e,[{key:"calcResult",value:function(t,e){var n=u.get()._firstIndex;if(n<0)return e;if(t>n){var r=this._range,a=this._buf[t-1];return r>=t+1-n?(r=t+1-n,a.result*(1-1/r)+e/r):this._alpha*(e-a.result)+a.result}return e}}]),e}();e.ExpmemaExpr=Q;var q=function(t){function e(t,n,r){var a;return s(this,e),(a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)))._exprC=r,a._mul=null,a}return o(e,V),c(e,[{key:"initRange",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initRange",this).call(this),this._mul=this._exprC.execute(0)}},{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=u.get()._firstIndex;if(n<0)return e;if(t>n){var r=this._range;return r>t+1-n&&(r=t+1-n),((r-1)*this._buf[t-1].result+e*this._mul)/r}return e}}]),e}();e.SmaExpr=q;var K=function(t){function e(t,n,r,a){var o;return s(this,e),(o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r,a)))._buf=[],o._range=-1,o._min=null,o._step=null,o._max=null,o}return o(e,w),c(e,[{key:"execute",value:function(t){this._range<0&&(this._range=this._exprA.execute(0),this._min=this._exprB.execute(0)/100,this._step=this._exprC.execute(0)/100,this._max=this._exprD.execute(0)/100);var e=this._buf[t],n=u.get(),r=n._firstIndex;if(r<0)e.longPos=!0,e.sar=n._ds.getDataAt(t).low,e.ep=n._ds.getDataAt(t).high,e.af=.02;else{var a=n._ds.getDataAt(t).high,i=n._ds.getDataAt(t).low,o=this._buf[t-1];if(e.sar=o.sar+o.af*(o.ep-o.sar),o.longPos){if(e.longPos=!0,a>o.ep?(e.ep=a,e.af=Math.min(o.af+this._step,this._max)):(e.ep=o.ep,e.af=o.af),e.sar>i){e.longPos=!1;var s=t-this._range+1;for(s=Math.max(s,r);s<t;s++){var l=n._ds.getDataAt(s).high;a<l&&(a=l)}e.sar=a,e.ep=i,e.af=.02}}else if(e.longPos=!1,i<o.ep?(e.ep=i,e.af=Math.min(o.af+this._step,this._max)):(e.ep=o.ep,e.af=o.af),e.sar<a){e.longPos=!0;var c=t-this._range+1;for(c=Math.max(c,r);c<t;c++){var h=n._ds.getDataAt(c).low;i>h&&(i=h)}e.sar=i,e.ep=a,e.af=.02}}return e.sar}},{key:"reserve",value:function(t,n){if(this._rid<t)for(var r=n;r>0;r--)this._buf.push({longPos:!0,sar:NaN,ep:NaN,af:NaN});a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"reserve",this).call(this,t,n)}},{key:"clear",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clear",this).call(this),this._range=-1}}]),e}();e.SarExpr=K},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.MEvent=void 0;var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._handlers=[]}var e,n,a;return e=t,(n=[{key:"addHandler",value:function(t,e){this.indexOf(t,e)<0&&this._handlers.push({obj:t,func:e})}},{key:"removeHandler",value:function(t,e){var n=this.indexOf(t,e);n>=0&&this._handlers.splice(n,1)}},{key:"raise",value:function(t,e){var n,r=this._handlers,a=r.length;for(n=0;n<a;n++)r[n].func(t,e)}},{key:"indexOf",value:function(t,e){var n,r,a=this._handlers,i=a.length;for(r=0;r<i;r++)if(t===(n=a[r]).obj&&e===n.func)return r;return-1}}])&&r(e.prototype,n),a&&r(e,a),t}();e.MEvent=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PercentageRange=e.ZeroCenteredRange=e.MainRange=e.ZeroBasedPositiveRange=e.PositiveRange=e.Range=void 0;var r=n(1),a=n(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(t){var n;return o(this,e),(n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._updated=!0,n._minValue=Number.MAX_VALUE,n._maxValue=-Number.MAX_VALUE,n._outerMinValue=Number.MAX_VALUE,n._outerMaxValue=-Number.MAX_VALUE,n._ratio=0,n._top=0,n._bottom=0,n._paddingTop=0,n._paddingBottom=0,n._minInterval=36,n._selectedPosition=-1,n._selectedValue=-Number.MAX_VALUE,n._gradations=[],n}return u(e,r.NamedObject),l(e,[{key:"isUpdated",value:function(){return this._updated}},{key:"setUpdated",value:function(t){this._updated=t}},{key:"getMinValue",value:function(){return this._minValue}},{key:"getMaxValue",value:function(){return this._maxValue}},{key:"getRange",value:function(){return this._maxValue-this._minValue}},{key:"getOuterMinValue",value:function(){return this._outerMinValue}},{key:"getOuterMaxValue",value:function(){return this._outerMaxValue}},{key:"getOuterRange",value:function(){return this._outerMaxValue-this._outerMinValue}},{key:"getHeight",value:function(){return Math.max(0,this._bottom-this._top)}},{key:"getGradations",value:function(){return this._gradations}},{key:"getMinInterval",value:function(){return this._minInterval}},{key:"setMinInterval",value:function(t){this._minInterval=t}},{key:"getSelectedPosition",value:function(){return this._selectedPosition>=0?this._selectedPosition:this._selectedValue>-Number.MAX_VALUE?this.toY(this._selectedValue):-1}},{key:"getSelectedValue",value:function(){if(this._selectedValue>-Number.MAX_VALUE)return this._selectedValue;var t=a.ChartManager.instance.getArea(this.getAreaName());return null===t?-Number.MAX_VALUE:this._selectedPosition<t.getTop()+12||this._selectedPosition>=t.getBottom()-4?-Number.MAX_VALUE:this.toValue(this._selectedPosition)}},{key:"setPaddingTop",value:function(t){this._paddingTop=t}},{key:"setPaddingBottom",value:function(t){this._paddingBottom=t}},{key:"toValue",value:function(t){return this._maxValue-(t-this._top)/this._ratio}},{key:"toY",value:function(t){return this._ratio>0?this._top+Math.floor((this._maxValue-t)*this._ratio+.5):this._top}},{key:"toHeight",value:function(t){return Math.floor(t*this._ratio+1.5)}},{key:"update",value:function(){for(var t,e=Number.MAX_VALUE,n=-Number.MAX_VALUE,r=a.ChartManager.instance,i=[".main",".secondary"],o=0;o<i.length;o++)null!==(t=r.getDataProvider(this.getName()+i[o]))&&void 0!==t&&(e=Math.min(e,t.getMinValue()),n=Math.max(n,t.getMaxValue()));var s={min:e,max:n};this.preSetRange(s),this.setRange(s.min,s.max)}},{key:"select",value:function(t){this._selectedValue=t,this._selectedPosition=-1}},{key:"selectAt",value:function(t){this._selectedPosition=t,this._selectedValue=-Number.MAX_VALUE}},{key:"unselect",value:function(){this._selectedPosition=-1,this._selectedValue=-Number.MAX_VALUE}},{key:"preSetRange",value:function(t){t.min===t.max&&(t.min=-1,t.max=1)}},{key:"setRange",value:function(t,e){var n=a.ChartManager.instance.getArea(this.getAreaName());if(this._minValue!==t||this._maxValue!==e||n.isChanged()){this._updated=!0,this._minValue=t,this._maxValue=e,this._gradations=[];var r=n.getTop()+this._paddingTop,i=n.getBottom()-(this._paddingBottom+1);r>=i?this._minValue=this._maxValue:(this._top=r,this._bottom=i,this._maxValue>this._minValue?this._ratio=(i-r)/(this._maxValue-this._minValue):this._ratio=1,this._outerMinValue=this.toValue(n.getBottom()),this._outerMaxValue=this.toValue(n.getTop()),this.updateGradations())}}},{key:"calcInterval",value:function(){var t=this.getHeight(),e=this.getMinInterval();t/e<=1&&(e=t>>1);for(var n,r,a=this.getRange(),i=0;i>-2&&Math.floor(a)<a;)a*=10,i--;for(;(n=r=Math.pow(10,i),!(this.toHeight(n)>e))&&(n=2*r,!(this.toHeight(n)>e))&&(n=5*r,!(this.toHeight(n)>e));i++);return n}},{key:"updateGradations",value:function(){this._gradations=[];var t=this.calcInterval();if(!(t<=0)){var e=Math.floor(this.getMaxValue()/t)*t;do{this._gradations.push(e),e-=t}while(e>this.getMinValue())}}}]),e}();e.Range=h;var d=function(t){function e(t){return o(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,h),l(e,[{key:"preSetRange",value:function(t){t.min<0&&(t.min=0),t.max<0&&(t.max=0)}}]),e}();e.PositiveRange=d;var p=function(t){function e(t){return o(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,h),l(e,[{key:"preSetRange",value:function(t){t.min=0,t.max<0&&(t.max=0)}}]),e}();e.ZeroBasedPositiveRange=p;var _=function(t){function e(t){return o(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,h),l(e,[{key:"preSetRange",value:function(t){var e=a.ChartManager.instance,n=e.getTimeline(this.getDataSourceName()),r=n.getMaxIndex()-n.getLastIndex();if(r<25){var i=e.getDataSource(this.getDataSourceName()),o=i.getDataAt(i.getDataCount()-1),s=(t.max-t.min)/4*(1-r/25);t.min=Math.min(t.min,Math.max(o.low-s,0)),t.max=Math.max(t.max,o.high+s)}if(t.min>0){var l=t.max/t.min;if(l<1.016){var c=(t.max+t.min)/2,u=1.5*(l-1);t.max=c*(1+u),t.min=c*(1-u)}else if(l<1.048){var h=(t.max+t.min)/2;t.max=1.024*h,t.min=.976*h}}t.min<0&&(t.min=0),t.max<0&&(t.max=0)}}]),e}();e.MainRange=_;var g=function(t){function e(t){return o(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,h),l(e,[{key:"calcInterval",value:function(t){var e=this.getMinInterval();if(t.getHeight()/e<2)return 0;var n,r=this.getRange();for(n=3;!(this.toHeight(r/n)<=e);n+=2);return r/(n-=2)}},{key:"updateGradations",value:function(){this._gradations=[];var t=a.ChartManager.instance.getArea(this.getAreaName()),e=this.calcInterval(t);if(!(e<=0)){var n=e/2;do{this._gradations.push(n),this._gradations.push(-n),n+=e}while(n<=this.getMaxValue())}}},{key:"preSetRange",value:function(t){var e=Math.max(Math.abs(t.min),Math.abs(t.max));t.min=-e,t.max=e}}]),e}();e.ZeroCenteredRange=g;var f=function(t){function e(t){return o(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,h),l(e,[{key:"updateGradations",value:function(){this._gradations=[];var t=a.ChartManager.instance.getArea(this.getAreaName()),e=Math.floor(this.toHeight(10));if(!(e<<2>t.getHeight())){var n=10*Math.ceil(this.getMinValue()/10);if(0===n&&(n=0),e<<2<24){if(e<<1<8)return;do{20!==n&&80!==n||this._gradations.push(n),n+=10}while(n<this.getMaxValue())}else do{e<8?20!==n&&50!==n&&80!==n||this._gradations.push(n):0!==n&&20!==n&&50!==n&&80!==n&&100!==n||this._gradations.push(n),n+=10}while(n<this.getMaxValue())}}}]),e}();e.PercentageRange=f},function(t,e,n){(function(t,r){var a=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(t).replace(a,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),l=r[n];n<i;l=r[++n])g(l)||!b(l)?o+=" "+l:o+=" "+s(l);return o},e.deprecate=function(n,a){if(v(t.process))return function(){return e.deprecate(n,a).apply(this,arguments)};if(!0===r.noDeprecation)return n;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(a);r.traceDeprecation?console.trace(a):console.error(a),i=!0}return n.apply(this,arguments)}};var i,o={};function s(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),_(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),u(r,t,r.depth)}function l(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function c(t,e){return t}function u(t,n,r){if(t.customInspect&&n&&C(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var a=n.inspect(r,t);return m(a)||(a=u(t,a,r)),a}var i=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(f(e))return t.stylize(""+e,"number");if(_(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,n);if(i)return i;var o=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),w(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(n);if(0===o.length){if(C(n)){var l=n.name?": "+n.name:"";return t.stylize("[Function"+l+"]","special")}if(y(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return h(n)}var c,b="",P=!1,k=["{","}"];(p(n)&&(P=!0,k=["[","]"]),C(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(b=" "+RegExp.prototype.toString.call(n)),x(n)&&(b=" "+Date.prototype.toUTCString.call(n)),w(n)&&(b=" "+h(n)),0!==o.length||P&&0!=n.length?r<0?y(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=P?function(t,e,n,r,a){for(var i=[],o=0,s=e.length;o<s;++o)O(e,String(o))?i.push(d(t,e,n,r,String(o),!0)):i.push("");return a.forEach(function(a){a.match(/^\d+$/)||i.push(d(t,e,n,r,a,!0))}),i}(t,n,r,s,o):o.map(function(e){return d(t,n,r,s,e,P)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,b,k)):k[0]+b+k[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,n,r,a,i){var o,s,l;if((l=Object.getOwnPropertyDescriptor(e,a)||{value:e[a]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),O(r,a)||(o="["+a+"]"),s||(t.seen.indexOf(l.value)<0?(s=g(n)?u(t,l.value,null):u(t,l.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),v(o)){if(i&&a.match(/^\d+$/))return s;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function p(t){return Array.isArray(t)}function _(t){return"boolean"==typeof t}function g(t){return null===t}function f(t){return"number"==typeof t}function m(t){return"string"==typeof t}function v(t){return void 0===t}function y(t){return b(t)&&"[object RegExp]"===P(t)}function b(t){return"object"==typeof t&&null!==t}function x(t){return b(t)&&"[object Date]"===P(t)}function w(t){return b(t)&&("[object Error]"===P(t)||t instanceof Error)}function C(t){return"function"==typeof t}function P(t){return Object.prototype.toString.call(t)}function k(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(v(i)&&(i=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=r.pid;o[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else o[t]=function(){};return o[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=_,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=f,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=y,e.isObject=b,e.isDate=x,e.isError=w,e.isFunction=C,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(28);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":"),[t.getDate(),A[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(29),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(26),n(27))},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE_20__},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,a=(r=n(3))&&r.__esModule?r:{default:r};window.Kline=a.default;var i=a.default;e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Chart=void 0;var r,a=n(0),i=n(8),o=(r=n(3))&&r.__esModule?r:{default:r},s=n(7);n(30);function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=null,this._charStyle="CandleStick",this._depthData={array:null,asks_count:0,bids_count:0,asks_si:0,asks_ei:0,bids_si:0,bids_ei:0},this.strIsLine=!1,this._range=o.default.instance.range,this._symbol=o.default.instance.symbol}var e,n,r;return e=t,(n=[{key:"setTitle",value:function(){var e,n=a.ChartManager.instance.getLanguage(),r=o.default.instance.symbolName;for(var i in r+=" ",o.default.instance.periodMap)if(o.default.instance.periodMap[i]===this._range){e=i;break}r+=this.strIsLine?t.strPeriod[n].line:e,a.ChartManager.instance.setTitle("frame0.k0",r)}},{key:"setSymbol",value:function(t){this._symbol=t,this.updateDataAndDisplay()}},{key:"updateDataAndDisplay",value:function(){o.default.instance.symbol=this._symbol,o.default.instance.range=this._range,a.ChartManager.instance.setCurrentDataSource("frame0.k0",this._symbol+"."+this._range),a.ChartManager.instance.setNormalMode();var t=o.default.instance.chartMgr.getDataSource("frame0.k0").getLastDate();$(".symbol-title>a").text(o.default.instance.symbolName),o.default.instance.requestParam=-1===t?i.Control.setHttpRequestParam(o.default.instance.symbol,o.default.instance.range,o.default.instance.limit,null):i.Control.setHttpRequestParam(o.default.instance.symbol,o.default.instance.range,null,t.toString()),i.Control.klineRequestData(!0),i.Control.tradesRequestData(),i.Control.depthRequestData(),a.ChartManager.instance.redraw("All",!1)}},{key:"setCurrentContractUnit",value:function(t){this._contract_unit=t,this.updateDataAndDisplay()}},{key:"setCurrentMoneyType",value:function(t){this._money_type=t,this.updateDataAndDisplay()}},{key:"setCurrentPeriod",value:function(t){this._range=o.default.instance.periodMap[t],"stomp"===o.default.instance.type&&1===o.default.instance.stompClient.ws.readyState&&(o.default.instance.subscribed.unsubscribe(),o.default.instance.subscribed=o.default.instance.stompClient.subscribe(o.default.instance.subscribePath+"/"+o.default.instance.symbol+"/"+this._range,i.Control.subscribeCallback)),this.updateDataAndDisplay(),o.default.instance.onRangeChange(this._range)}},{key:"updateDataSource",value:function(t){this._data=t,a.ChartManager.instance.updateData("frame0.k0",this._data)}},{key:"updateDepth",value:function(t){if(null===t)return this._depthData.array=[],void a.ChartManager.instance.redraw("All",!1);if(t.asks&&t.bids&&""!==t.asks&&""!==t.bids){var e=this._depthData;e.array=[];for(var n=0;n<t.asks.length;n++){var r={};r.rate=t.asks[n][0],r.amount=t.asks[n][1],e.array.push(r)}for(var i=0;i<t.bids.length;i++){var o={};o.rate=t.bids[i][0],o.amount=t.bids[i][1],e.array.push(o)}e.asks_count=t.asks.length,e.bids_count=t.bids.length,e.asks_si=e.asks_count-1,e.asks_ei=0,e.bids_si=e.asks_count-1,e.bids_ei=e.asks_count+e.bids_count-2;for(var s=e.asks_si;s>=e.asks_ei;s--)s===e.asks_si&&void 0!==e.array[s]?e.array[s].amounts=e.array[s].amount:void 0!==e.array[s+1]&&(e.array[s].amounts=e.array[s+1].amounts+e.array[s].amount);for(var l=e.bids_si;l<=e.bids_ei;l++)l===e.bids_si&&void 0!==e.array[l]?e.array[l].amounts=e.array[l].amount:void 0!==e.array[l-1]&&(e.array[l].amounts=e.array[l-1].amounts+e.array[l].amount);a.ChartManager.instance.redraw("All",!1)}}},{key:"setMainIndicator",value:function(t){this._mainIndicator=t,"NONE"===t?a.ChartManager.instance.removeMainIndicator("frame0.k0"):a.ChartManager.instance.setMainIndicator("frame0.k0",t),a.ChartManager.instance.redraw("All",!0)}},{key:"setIndicator",value:function(t,e){if("NONE"===e){var n=2;!1===s.Template.displayVolume&&(n=1);var r=a.ChartManager.instance.getIndicatorAreaName("frame0.k0",n);""!==r&&a.ChartManager.instance.removeIndicator(r)}else{var i=2;!1===s.Template.displayVolume&&(i=1);var o=a.ChartManager.instance.getIndicatorAreaName("frame0.k0",i);""===o?s.Template.createIndicatorChartComps("frame0.k0",e):a.ChartManager.instance.setIndicator(o,e)}a.ChartManager.instance.redraw("All",!0)}},{key:"addIndicator",value:function(t){a.ChartManager.instance.addIndicator(t),a.ChartManager.instance.redraw("All",!0)}},{key:"removeIndicator",value:function(t){var e=a.ChartManager.instance.getIndicatorAreaName(2);a.ChartManager.instance.removeIndicator(e),a.ChartManager.instance.redraw("All",!0)}},{key:"getRange",value:function(){return this._range}}])&&l(e.prototype,n),r&&l(e,r),t}();e.Chart=c,c.strPeriod={"zh-cn":{line:"()","1min":"(1)","5min":"(5)","15min":"(15)","30min":"(30)","1hour":"(1)","1day":"()","1week":"()","3min":"(3)","2hour":"(2)","4hour":"(4)","6hour":"(6)","12hour":"(12)","3day":"(3)"},"en-us":{line:"(Line)","1min":"(1m)","5min":"(5m)","15min":"(15m)","30min":"(30m)","1hour":"(1h)","1day":"(1d)","1week":"(1w)","3min":"(3m)","2hour":"(2h)","4hour":"(4h)","6hour":"(6h)","12hour":"(12h)","3day":"(3d)"},"zh-tw":{line:"()","1min":"(1)","5min":"(5)","15min":"(15)","30min":"(30)","1hour":"(1)","1day":"()","1week":"()","3min":"(3)","2hour":"(2)","4hour":"(4)","6hour":"(6)","12hour":"(12)","3day":"(3)"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CToolManager=void 0;var r=n(1),a=n(9),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(10));function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var c=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).selectedObject=-1,n.toolObjects=[],n}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.NamedObject),n=e,(o=[{key:"getToolObjectCount",value:function(){return this.toolObjects.length}},{key:"addToolObject",value:function(t){this.toolObjects.push(t)}},{key:"getToolObject",value:function(t){return t<this.toolObjects.length&&t>=0?this.toolObjects[t]:null}},{key:"getCurrentObject",value:function(){return this.getToolObject(this.getToolObjectCount()-1)}},{key:"getSelectedObject",value:function(){return this.getToolObject(this.selectedObject)}},{key:"delCurrentObject",value:function(){this.toolObjects.splice(this.getToolObjectCount()-1,1)}},{key:"delSelectedObject",value:function(){this.toolObjects.splice(this.selectedObject,1),this.selectedObject=-1}},{key:"acceptMouseMoveEvent",value:function(t,e){if(-1===this.selectedObject){var n=this.toolObjects[this.getToolObjectCount()-1];if(null!==n&&void 0!==n&&n.getState()!==i.CToolObject.state.AfterDraw)return n.acceptMouseMoveEvent(t,e)}else{var r=this.toolObjects[this.selectedObject];if(r.getState()===i.CToolObject.state.Draw)return r.acceptMouseMoveEvent(t,e);r.unselect(),this.selectedObject=-1}for(var a in this.toolObjects)if(this.toolObjects[a].isSelected(t,e))return this.selectedObject=a,!1;return!1}},{key:"acceptMouseDownEvent",value:function(t,e){if(this.mouseDownMove=!1,-1===this.selectedObject){var n=this.toolObjects[this.getToolObjectCount()-1];if(null!==n&&void 0!==n&&n.getState()!==i.CToolObject.state.AfterDraw)return n.acceptMouseDownEvent(t,e)}else{var r=this.toolObjects[this.selectedObject];if(r.getState()!==i.CToolObject.state.BeforeDraw)return r.acceptMouseDownEvent(t,e)}return!1}},{key:"acceptMouseDownMoveEvent",value:function(t,e){if(this.mouseDownMove=!0,-1===this.selectedObject){var n=this.toolObjects[this.getToolObjectCount()-1];return null!==n&&void 0!==n&&n.getState()===i.CToolObject.state.Draw&&n.acceptMouseDownMoveEvent(t,e)}var r=this.toolObjects[this.selectedObject];if(r.getState()!==i.CToolObject.state.BeforeDraw){if(!0===r.acceptMouseDownMoveEvent(t,e))for(var o=this.toolObjects[this.selectedObject].points,s=0;s<o.length;s++)if(o[s].state===a.CPoint.state.Highlight||o[s].state===a.CPoint.state.Show)return!0;return!0}}},{key:"acceptMouseUpEvent",value:function(t,e){if(!0===this.mouseDownMove){if(-1===this.selectedObject){var n=this.toolObjects[this.getToolObjectCount()-1];return null===n||void 0===n||n.getState()!==i.CToolObject.state.Draw||n.acceptMouseUpEvent(t,e)}var r=this.toolObjects[this.selectedObject];if(r.getState()!==i.CToolObject.state.BeforeDraw)return r.acceptMouseUpEvent(t,e)}if(-1!==this.selectedObject)return!0;var a=this.toolObjects[this.getToolObjectCount()-1];if(null!==a&&void 0!==a){if(a.getState()===i.CToolObject.state.Draw)return!0;if(!a.isValidMouseXY(t,e))return!1;if(a.isSelected(t,e))return!0}return!1}}])&&s(n.prototype,o),c&&s(n,c),e}();e.CToolManager=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timeline=void 0;var r=n(1),a=n(0),i=n(2);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var c=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._updated=!1,n._innerLeft=0,n._innerWidth=0,n._firstColumnLeft=0,n._scale=3,n._lastScale=-1,n._maxItemCount=0,n._maxIndex=0,n._firstIndex=-1,n._selectedIndex=-1,n._savedFirstIndex=-1,n}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.NamedObject),n=e,(o=[{key:"isLatestShown",value:function(){return this.getLastIndex()===this._maxIndex}},{key:"isUpdated",value:function(){return this._updated}},{key:"setUpdated",value:function(t){this._updated=t}},{key:"getItemWidth",value:function(){return e.itemWidth[this._scale]}},{key:"getSpaceWidth",value:function(){return e.spaceWidth[this._scale]}},{key:"getColumnWidth",value:function(){return this.getSpaceWidth()+this.getItemWidth()}},{key:"getInnerWidth",value:function(){return this._innerWidth}},{key:"getItemLeftOffset",value:function(){return this.getSpaceWidth()}},{key:"getItemCenterOffset",value:function(){return this.getSpaceWidth()+(this.getItemWidth()>>1)}},{key:"getFirstColumnLeft",value:function(){return this._firstColumnLeft}},{key:"getMaxItemCount",value:function(){return this._maxItemCount}},{key:"getFirstIndex",value:function(){return this._firstIndex}},{key:"getLastIndex",value:function(){return Math.min(this._firstIndex+this._maxItemCount,this._maxIndex)}},{key:"getSelectedIndex",value:function(){return this._selectedIndex}},{key:"getMaxIndex",value:function(){return this._maxIndex}},{key:"calcColumnCount",value:function(t){return Math.floor(t/this.getColumnWidth())<<0}},{key:"calcFirstColumnLeft",value:function(t){return this._innerLeft+this._innerWidth-this.getColumnWidth()*t}},{key:"calcFirstIndexAlignRight",value:function(t,e,n){return Math.max(0,t+Math.max(e,1)-Math.max(n,1))}},{key:"calcFirstIndex",value:function(t){return this.validateFirstIndex(this.calcFirstIndexAlignRight(this._firstIndex,this._maxItemCount,t),t)}},{key:"updateMaxItemCount",value:function(){var t,e=this.calcColumnCount(this._innerWidth);if(this._maxItemCount<1)t=this.calcFirstIndex(e);else if(this._lastScale===this._scale)t=this.validateFirstIndex(this._firstIndex-(e-this._maxItemCount));else{var n=this._selectedIndex>=0?this._selectedIndex:this.getLastIndex()-1;t=this.validateFirstIndex(n-Math.round((n-this._firstIndex)*e/this._maxItemCount))}this._lastScale=this._scale,this._firstIndex!==t&&(this._selectedIndex===this._firstIndex&&(this._selectedIndex=t),this._firstIndex=t,this._updated=!0),this._maxItemCount!==e&&(this._maxItemCount=e,this._updated=!0),this._firstColumnLeft=this.calcFirstColumnLeft(e)}},{key:"validateFirstIndex",value:function(t,e){if(this._maxIndex<1)return-1;if(t<0)return 0;var n=Math.max(0,this._maxIndex-1);return t>n?n:t}},{key:"validateSelectedIndex",value:function(){this._selectedIndex<this._firstIndex?this._selectedIndex=-1:this._selectedIndex>=this.getLastIndex()&&(this._selectedIndex=-1)}},{key:"onLayout",value:function(){var t=a.ChartManager.instance.getArea(this.getDataSourceName()+".main");if(null!==t){this._innerLeft=t.getLeft()+e.PADDING_LEFT;var n=Math.max(0,t.getWidth()-(e.PADDING_LEFT+e.PADDING_RIGHT));this._innerWidth!==n&&(this._innerWidth=n,this.updateMaxItemCount())}}},{key:"toIndex",value:function(t){return this._firstIndex+this.calcColumnCount(t-this._firstColumnLeft)}},{key:"toColumnLeft",value:function(t){return this._firstColumnLeft+this.getColumnWidth()*(t-this._firstIndex)}},{key:"toItemLeft",value:function(t){return this.toColumnLeft(t)+this.getItemLeftOffset()}},{key:"toItemCenter",value:function(t){return this.toColumnLeft(t)+this.getItemCenterOffset()}},{key:"selectAt",value:function(t){return this._selectedIndex=this.toIndex(t),this.validateSelectedIndex(),this._selectedIndex>=0}},{key:"unselect",value:function(){this._selectedIndex=-1}},{key:"update",value:function(){var t=a.ChartManager.instance.getDataSource(this.getDataSourceName()),e=this._maxIndex;switch(this._maxIndex=t.getDataCount(),t.getUpdateMode()){case i.DataSource.UpdateMode.Refresh:this._maxIndex<1?this._firstIndex=-1:this._firstIndex=Math.max(this._maxIndex-this._maxItemCount,0),this._selectedIndex=-1,this._updated=!0;break;case i.DataSource.UpdateMode.Append:var n=this.getLastIndex(),r=t.getErasedCount();n<e?r>0&&(this._firstIndex=Math.max(this._firstIndex-r,0),this._selectedIndex>=0&&(this._selectedIndex-=r,this.validateSelectedIndex()),this._updated=!0):n===e&&(this._firstIndex+=this._maxIndex-e,this._selectedIndex>=0&&(this._selectedIndex-=r,this.validateSelectedIndex()),this._updated=!0)}}},{key:"move",value:function(t){this.isLatestShown()&&a.ChartManager.instance.getArea(this.getDataSourceName()+".mainRange").setChanged(!0),this._firstIndex=this.validateFirstIndex(this._savedFirstIndex-this.calcColumnCount(t),this._maxItemCount),this._updated=!0,this._selectedIndex>=0&&this.validateSelectedIndex()}},{key:"startMove",value:function(){this._savedFirstIndex=this._firstIndex}},{key:"scale",value:function(t){this._scale+=t,this._scale<0?this._scale=0:this._scale>=e.itemWidth.length&&(this._scale=e.itemWidth.length-1),this.updateMaxItemCount(),this._selectedIndex>=0&&this.validateSelectedIndex()}}])&&s(n.prototype,o),c&&s(n,c),e}();e.Timeline=c,c.devicePixelRatio=window.devicePixelRatio||1,c.itemWidth=[1*devicePixelRatio,3*devicePixelRatio,3*devicePixelRatio,5*devicePixelRatio,5*devicePixelRatio,7*devicePixelRatio,9*devicePixelRatio,11*devicePixelRatio,13*devicePixelRatio,15*devicePixelRatio,17*devicePixelRatio,19*devicePixelRatio,21*devicePixelRatio,23*devicePixelRatio,25*devicePixelRatio,27*devicePixelRatio,29*devicePixelRatio],c.spaceWidth=[1*devicePixelRatio,1*devicePixelRatio,2*devicePixelRatio,2*devicePixelRatio,3*devicePixelRatio,3*devicePixelRatio,3*devicePixelRatio,3*devicePixelRatio,3*devicePixelRatio,3*devicePixelRatio,5*devicePixelRatio,5*devicePixelRatio,5*devicePixelRatio,5*devicePixelRatio,7*devicePixelRatio,7*devicePixelRatio,7*devicePixelRatio],c.PADDING_LEFT=4,c.PADDING_RIGHT=8},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DockableLayout=e.TableLayout=void 0;var r=s(n(13)),a=n(0),i=s(n(6)),o=n(4);function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function d(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:p(a,e,n)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(n):void 0}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(t){var n;return c(this,e),(n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._nextRowId=0,n._focusedRowIndex=-1,n}return _(e,r.ChartAreaGroup),h(e,[{key:"getNextRowId",value:function(){return this._nextRowId++}},{key:"measure",value:function(t,e,n){this.setMeasuredDimension(e,n);var r,i,o,s,l=0,c=0,u=[],h=this._areas.length;for(s=0;s<h;s+=2){if(0===(r=this._areas[s].getHeight())){if(0===s){var d=n/(2*(o=h+1>>1)+5)*2<<0;for(i=n,s=o-1;s>0;s--)u.unshift(d),i-=d;u.unshift(i);break}r=2===s?l/3:l}c+=r,l=r,u.push(r)}if(c>0){var p=n/c;for(i=n,s=(o=h+1>>1)-1;s>0;s--)u[s]*=p,i-=u[s];u[0]=i}var _=Math.min(240,e>>1),g=76,f=a.ChartManager.instance,m=f.getTimeline(this.getDataSourceName());if(m.getFirstIndex()>=0){var v=[];for(g=76;g<_;g+=8)v.push(m.calcFirstIndex(m.calcColumnCount(e-g)));var y,b,x=m.getLastIndex(),w=[".main",".secondary"],C=new Array(v.length);for(y=0,b=0,g=76;y<this._areas.length&&b<v.length;y+=2){var P=this._areas[y],k=f.getPlotter(P.getName()+"Range.main");for(var A in w){var O=f.getDataProvider(P.getName()+w[A]);if(void 0!==O)for(O.calcRange(v,x,C,null);b<v.length;){var E=k.getRequiredWidth(t,C[b].min),S=k.getRequiredWidth(t,C[b].max);if(Math.max(E,S)<g)break;b++,g+=8}}}}for(s=1;s<this._areas.length;s+=2)this._areas[s].measure(t,g,u[s>>1]);var M=e-g;for(s=0;s<this._areas.length;s+=2)this._areas[s].measure(t,M,u[s>>1])}},{key:"layout",value:function(t,n,r,a,i){if(p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"layout",this).call(this,t,n,r,a,i),!(this._areas.length<1)){var o,s,l=t+this._areas[0].getMeasuredWidth(),c=n;i||(i=this.isChanged());var u,h=this._areas.length;for(u=0;u<h;u++)s=c+(o=this._areas[u]).getMeasuredHeight(),o.layout(t,c,l,s,i),u++,(o=this._areas[u]).layout(l,c,this.getRight(),s,i),c=s;this.setChanged(!1)}}},{key:"drawGrid",value:function(t){if(!(this._areas.length<1)){var e=a.ChartManager.instance,n=e.getTheme(this.getFrameName());t.fillStyle=n.getColor(i.Theme.Color.Grid1),t.fillRect(this._areas[0].getRight(),this.getTop(),1,this.getHeight());var r,o=this._areas.length-2;for(r=0;r<o;r+=2)t.fillRect(this.getLeft(),this._areas[r].getBottom(),this.getWidth(),1);if(!e.getCaptureMouseWheelDirectly())for(r=0,o+=2;r<o;r+=2)if(this._areas[r].isSelected()){t.strokeStyle=n.getColor(i.Theme.Color.Indicator1),t.strokeRect(this.getLeft()+.5,this.getTop()+.5,this.getWidth()-1,this.getHeight()-1);break}}}},{key:"highlight",value:function(t){this._highlightedArea=null;var e,n,r=this._areas.length;for(n=0;n<r;n++)(e=this._areas[n])===t?(n&=-2,(e=this._areas[n]).highlight(e),this._highlightedArea=e,n++,(e=this._areas[n]).highlight(null),e.highlight(e)):e.highlight(null);return null!==this._highlightedArea?this:null}},{key:"select",value:function(t){this._selectedArea=null;var e,n,r=this._areas.length;for(n=0;n<r;n++)(e=this._areas[n])===t?(n&=-2,(e=this._areas[n]).select(e),this._selectedArea=e,n++,(e=this._areas[n]).select(e)):e.select(null);return null!==this._selectedArea?this:null}},{key:"onMouseMove",value:function(t,e){if(this._focusedRowIndex>=0){var n=this._areas[this._focusedRowIndex],r=this._areas[this._focusedRowIndex+2],i=e-this._oldY;if(0===i)return this;var o=this._oldUpperBottom+i,s=this._oldLowerTop+i;return o-n.getTop()>=60&&r.getBottom()-s>=60&&(n.setBottom(o),r.setTop(s)),this}var l,c=this._areas.length-2;for(l=0;l<c;l+=2){var u=this._areas[l].getBottom();if(e>=u-4&&e<u+4)return a.ChartManager.instance.showCursor("n-resize"),this}return null}},{key:"onMouseLeave",value:function(t,e){this._focusedRowIndex=-1}},{key:"onMouseDown",value:function(t,e){var n,r=this._areas.length-2;for(n=0;n<r;n+=2){var a=this._areas[n].getBottom();if(e>=a-4&&e<a+4)return this._focusedRowIndex=n,this._oldY=e,this._oldUpperBottom=a,this._oldLowerTop=this._areas[n+2].getTop(),this}return null}},{key:"onMouseUp",value:function(t,e){if(this._focusedRowIndex>=0){this._focusedRowIndex=-1;var n,r=this._areas.length,a=[];for(n=0;n<r;n+=2)a.push(this._areas[n].getHeight());o.ChartSettings.get().charts.areaHeight=a,o.ChartSettings.save()}return this}}]),e}();e.TableLayout=g;var f=function(t){function e(t){return c(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return _(e,r.ChartAreaGroup),h(e,[{key:"measure",value:function(t,n,a){for(var i in p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"measure",this).call(this,t,n,a),n=this.getMeasuredWidth(),a=this.getMeasuredHeight(),this._areas){var o=this._areas[i];switch(o.measure(t,n,a),o.getDockStyle()){case r.ChartArea.DockStyle.left:case r.ChartArea.DockStyle.Right:n-=o.getMeasuredWidth();break;case r.ChartArea.DockStyle.Top:case r.ChartArea.DockStyle.Bottom:a-=o.getMeasuredHeight();break;case r.ChartArea.DockStyle.Fill:n=0,a=0}}}},{key:"layout",value:function(t,n,a,i,o){var s,l;for(var c in p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"layout",this).call(this,t,n,a,i,o),t=this.getLeft(),n=this.getTop(),a=this.getRight(),i=this.getBottom(),o||(o=this.isChanged()),this._areas){var u=this._areas[c];switch(u.getDockStyle()){case r.ChartArea.DockStyle.left:s=u.getMeasuredWidth(),u.layout(t,n,t+s,i,o),t+=s;break;case r.ChartArea.DockStyle.Top:l=u.getMeasuredHeight(),u.layout(t,n,a,n+l,o),n+=l;break;case r.ChartArea.DockStyle.Right:s=u.getMeasuredWidth(),u.layout(a-s,n,a,i,o),a-=s;break;case r.ChartArea.DockStyle.Bottom:l=u.getMeasuredHeight(),u.layout(t,i-l,a,i,o),i-=l;break;case r.ChartArea.DockStyle.Fill:u.layout(t,n,a,i,o),t=a,n=i}}this.setChanged(!1)}},{key:"drawGrid",value:function(t){var e=a.ChartManager.instance.getTheme(this.getFrameName()),n=this.getLeft(),i=this.getTop(),o=this.getRight(),s=this.getBottom();for(var l in t.fillStyle=e.getColor(this._gridColor),this._areas){var c=this._areas[l];switch(c.getDockStyle()){case r.ChartArea.DockStyle.Left:t.fillRect(c.getRight(),i,1,s-i),n+=c.getWidth();break;case r.ChartArea.DockStyle.Top:t.fillRect(n,c.getBottom(),o-n,1),i+=c.getHeight();break;case r.ChartArea.DockStyle.Right:t.fillRect(c.getLeft(),i,1,s-i),o-=c.getWidth();break;case r.ChartArea.DockStyle.Bottom:t.fillRect(n,c.getTop(),o-n,1),s-=c.getHeight()}}}}]),e}();e.DockableLayout=f},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n,r,a=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var t=s(d);u=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function g(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new _(t,e)),1!==c.length||u||s(p)},_.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STOCHRSIIndicator=e.PSYIndicator=e.BOLLIndicator=e.MTMIndicator=e.ROCIndicator=e.KDJIndicator=e.SARIndicator=e.WRIndicator=e.RSIIndicator=e.EMVIndicator=e.OBVIndicator=e.VRIndicator=e.BRARIndicator=e.TRIXIndicator=e.DMAIndicator=e.DMIIndicator=e.MACDIndicator=e.VOLUMEIndicator=e.EMAIndicator=e.MAIndicator=e.HLCIndicator=e.Indicator=void 0;var r=i(n(16)),a=i(n(6));function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}var d=function(){function t(){c(this,t),this._exprEnv=new r.ExprEnv,this._rid=0,this._params=[],this._assigns=[],this._outputs=[]}return h(t,[{key:"addParameter",value:function(t){this._params.push(t)}},{key:"addAssign",value:function(t){this._assigns.push(t)}},{key:"addOutput",value:function(t){this._outputs.push(t)}},{key:"getParameterCount",value:function(){return this._params.length}},{key:"getParameterAt",value:function(t){return this._params[t]}},{key:"getOutputCount",value:function(){return this._outputs.length}},{key:"getOutputAt",value:function(t){return this._outputs[t]}},{key:"clear",value:function(){var t,e;for(this._exprEnv.setFirstIndex(-1),e=this._assigns.length,t=0;t<e;t++)this._assigns[t].clear();for(e=this._outputs.length,t=0;t<e;t++)this._outputs[t].clear()}},{key:"reserve",value:function(t){var e,n;for(this._rid++,n=this._assigns.length,e=0;e<n;e++)this._assigns[e].reserve(this._rid,t);for(n=this._outputs.length,e=0;e<n;e++)this._outputs[e].reserve(this._rid,t)}},{key:"execute",value:function(t,e){if(!(e<0)){this._exprEnv.setDataSource(t),r.ExprEnv.set(this._exprEnv);try{var n,a;for(a=this._assigns.length,n=0;n<a;n++)this._assigns[n].assign(e);for(a=this._outputs.length,n=0;n<a;n++)this._outputs[n].assign(e);this._exprEnv.getFirstIndex()<0&&this._exprEnv.setFirstIndex(e)}catch(t){if(this._exprEnv.getFirstIndex()>=0)throw alert(t),t}}}},{key:"getParameters",value:function(){var t,e=[],n=this._params.length;for(t=0;t<n;t++)e.push(this._params[t].getValue());return e}},{key:"setParameters",value:function(t){if(t instanceof Array&&t.length===this._params.length)for(var e in this._params)this._params[e].setValue(t[e])}}]),t}();e.Indicator=d;var p=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("M1",2,1e3,60);return t.addParameter(n),t.addOutput(new r.OutputExpr("HIGH",new r.HighExpr,r.OutputExpr.outputStyle.None)),t.addOutput(new r.OutputExpr("LOW",new r.LowExpr,r.OutputExpr.outputStyle.None)),t.addOutput(new r.OutputExpr("CLOSE",new r.CloseExpr,r.OutputExpr.outputStyle.Line,a.Theme.Color.Indicator0)),t.addOutput(new r.RangeOutputExpr("MA",new r.MaExpr(new r.CloseExpr,n),r.OutputExpr.outputStyle.Line,a.Theme.Color.Indicator1)),t}return l(e,d),h(e,[{key:"getName",value:function(){return"CLOSE"}}]),e}();e.HLCIndicator=p;var _=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("M1",2,1e3,7),a=new r.ParameterExpr("M2",2,1e3,30),i=new r.ParameterExpr("M3",2,1e3,0),o=new r.ParameterExpr("M4",2,1e3,0),l=new r.ParameterExpr("M5",2,1e3,0),u=new r.ParameterExpr("M6",2,1e3,0);return t.addParameter(n),t.addParameter(a),t.addParameter(i),t.addParameter(o),t.addParameter(l),t.addParameter(u),t.addOutput(new r.RangeOutputExpr("MA",new r.MaExpr(new r.CloseExpr,n))),t.addOutput(new r.RangeOutputExpr("MA",new r.MaExpr(new r.CloseExpr,a))),t.addOutput(new r.RangeOutputExpr("MA",new r.MaExpr(new r.CloseExpr,i))),t.addOutput(new r.RangeOutputExpr("MA",new r.MaExpr(new r.CloseExpr,o))),t.addOutput(new r.RangeOutputExpr("MA",new r.MaExpr(new r.CloseExpr,l))),t.addOutput(new r.RangeOutputExpr("MA",new r.MaExpr(new r.CloseExpr,u))),t}return l(e,d),h(e,[{key:"getName",value:function(){return"MA"}}]),e}();e.MAIndicator=_;var g=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("M1",2,1e3,7),a=new r.ParameterExpr("M2",2,1e3,30),i=new r.ParameterExpr("M3",2,1e3,0),o=new r.ParameterExpr("M4",2,1e3,0),l=new r.ParameterExpr("M5",2,1e3,0),u=new r.ParameterExpr("M6",2,1e3,0);return t.addParameter(n),t.addParameter(a),t.addParameter(i),t.addParameter(o),t.addParameter(l),t.addParameter(u),t.addOutput(new r.RangeOutputExpr("EMA",new r.EmaExpr(new r.CloseExpr,n))),t.addOutput(new r.RangeOutputExpr("EMA",new r.EmaExpr(new r.CloseExpr,a))),t.addOutput(new r.RangeOutputExpr("EMA",new r.EmaExpr(new r.CloseExpr,i))),t.addOutput(new r.RangeOutputExpr("EMA",new r.EmaExpr(new r.CloseExpr,o))),t.addOutput(new r.RangeOutputExpr("EMA",new r.EmaExpr(new r.CloseExpr,l))),t.addOutput(new r.RangeOutputExpr("EMA",new r.EmaExpr(new r.CloseExpr,u))),t}return l(e,d),h(e,[{key:"getName",value:function(){return"EMA"}}]),e}();e.EMAIndicator=g;var f=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("M1",2,500,5),i=new r.ParameterExpr("M2",2,500,10);t.addParameter(n),t.addParameter(i);var o=new r.OutputExpr("VOLUME",new r.VolumeExpr,r.OutputExpr.outputStyle.VolumeStick,a.Theme.Color.Text4);return t.addOutput(o),t.addOutput(new r.RangeOutputExpr("MA",new r.MaExpr(o,n),r.OutputExpr.outputStyle.Line,a.Theme.Color.Indicator0)),t.addOutput(new r.RangeOutputExpr("MA",new r.MaExpr(o,i),r.OutputExpr.outputStyle.Line,a.Theme.Color.Indicator1)),t}return l(e,d),h(e,[{key:"getName",value:function(){return"VOLUME"}}]),e}();e.VOLUMEIndicator=f;var m=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("SHORT",2,200,12),a=new r.ParameterExpr("LONG",2,200,26),i=new r.ParameterExpr("MID",2,200,9);t.addParameter(n),t.addParameter(a),t.addParameter(i);var o=new r.OutputExpr("DIF",new r.SubExpr(new r.EmaExpr(new r.CloseExpr,n),new r.EmaExpr(new r.CloseExpr,a)));t.addOutput(o);var l=new r.OutputExpr("DEA",new r.EmaExpr(o,i));t.addOutput(l);var u=new r.OutputExpr("MACD",new r.MulExpr(new r.SubExpr(o,l),new r.ConstExpr(2)),r.OutputExpr.outputStyle.MACDStick);return t.addOutput(u),t}return l(e,d),h(e,[{key:"getName",value:function(){return"MACD"}}]),e}();e.MACDIndicator=m;var v=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N",2,90,14),a=new r.ParameterExpr("MM",2,60,6);t.addParameter(n),t.addParameter(a);var i=new r.AssignExpr("MTR",new r.ExpmemaExpr(new r.MaxExpr(new r.MaxExpr(new r.SubExpr(new r.HighExpr,new r.LowExpr),new r.AbsExpr(new r.SubExpr(new r.HighExpr,new r.RefExpr(new r.CloseExpr,new r.ConstExpr(1))))),new r.AbsExpr(new r.SubExpr(new r.RefExpr(new r.CloseExpr,new r.ConstExpr(1)),new r.LowExpr))),n));t.addAssign(i);var o=new r.AssignExpr("HD",new r.SubExpr(new r.HighExpr,new r.RefExpr(new r.HighExpr,new r.ConstExpr(1))));t.addAssign(o);var l=new r.AssignExpr("LD",new r.SubExpr(new r.RefExpr(new r.LowExpr,new r.ConstExpr(1)),new r.LowExpr));t.addAssign(l);var u=new r.AssignExpr("DMP",new r.ExpmemaExpr(new r.IfExpr(new r.AndExpr(new r.GtExpr(o,new r.ConstExpr(0)),new r.GtExpr(o,l)),o,new r.ConstExpr(0)),n));t.addAssign(u);var h=new r.AssignExpr("DMM",new r.ExpmemaExpr(new r.IfExpr(new r.AndExpr(new r.GtExpr(l,new r.ConstExpr(0)),new r.GtExpr(l,o)),l,new r.ConstExpr(0)),n));t.addAssign(h);var d=new r.OutputExpr("PDI",new r.MulExpr(new r.DivExpr(u,i),new r.ConstExpr(100)));t.addOutput(d);var p=new r.OutputExpr("MDI",new r.MulExpr(new r.DivExpr(h,i),new r.ConstExpr(100)));t.addOutput(p);var _=new r.OutputExpr("ADX",new r.ExpmemaExpr(new r.MulExpr(new r.DivExpr(new r.AbsExpr(new r.SubExpr(p,d)),new r.AddExpr(p,d)),new r.ConstExpr(100)),a));t.addOutput(_);var g=new r.OutputExpr("ADXR",new r.ExpmemaExpr(_,a));return t.addOutput(g),t}return l(e,d),h(e,[{key:"getName",value:function(){return"DMI"}}]),e}();e.DMIIndicator=v;var y=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N1",2,60,10),a=new r.ParameterExpr("N2",2,250,50),i=new r.ParameterExpr("M",2,100,10);t.addParameter(n),t.addParameter(a),t.addParameter(i);var o=new r.OutputExpr("DIF",new r.SubExpr(new r.MaExpr(new r.CloseExpr,n),new r.MaExpr(new r.CloseExpr,a)));t.addOutput(o);var l=new r.OutputExpr("DIFMA",new r.MaExpr(o,i));return t.addOutput(l),t}return l(e,d),h(e,[{key:"getName",value:function(){return"DMA"}}]),e}();e.DMAIndicator=y;var b=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N",2,100,12),a=new r.ParameterExpr("M",2,100,9);t.addParameter(n),t.addParameter(a);var i=new r.AssignExpr("MTR",new r.EmaExpr(new r.EmaExpr(new r.EmaExpr(new r.CloseExpr,n),n),n));t.addAssign(i);var o=new r.OutputExpr("TRIX",new r.MulExpr(new r.DivExpr(new r.SubExpr(i,new r.RefExpr(i,new r.ConstExpr(1))),new r.RefExpr(i,new r.ConstExpr(1))),new r.ConstExpr(100)));t.addOutput(o);var l=new r.OutputExpr("MATRIX",new r.MaExpr(o,a));return t.addOutput(l),t}return l(e,d),h(e,[{key:"getName",value:function(){return"TRIX"}}]),e}();e.TRIXIndicator=b;var x=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N",2,120,26);t.addParameter(n);var a=new r.AssignExpr("REF_CLOSE_1",new r.RefExpr(new r.CloseExpr,new r.ConstExpr(1)));t.addAssign(a);var i=new r.OutputExpr("BR",new r.MulExpr(new r.DivExpr(new r.SumExpr(new r.MaxExpr(new r.ConstExpr(0),new r.SubExpr(new r.HighExpr,a)),n),new r.SumExpr(new r.MaxExpr(new r.ConstExpr(0),new r.SubExpr(a,new r.LowExpr)),n)),new r.ConstExpr(100)));t.addOutput(i);var o=new r.OutputExpr("AR",new r.MulExpr(new r.DivExpr(new r.SumExpr(new r.SubExpr(new r.HighExpr,new r.OpenExpr),n),new r.SumExpr(new r.SubExpr(new r.OpenExpr,new r.LowExpr),n)),new r.ConstExpr(100)));return t.addOutput(o),t}return l(e,d),h(e,[{key:"getName",value:function(){return"BRAR"}}]),e}();e.BRARIndicator=x;var w=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N",2,100,26),a=new r.ParameterExpr("M",2,100,6);t.addParameter(n),t.addParameter(a);var i=new r.AssignExpr("REF_CLOSE_1",new r.RefExpr(new r.CloseExpr,new r.ConstExpr(1)));t.addAssign(i);var o=new r.AssignExpr("TH",new r.SumExpr(new r.IfExpr(new r.GtExpr(new r.CloseExpr,i),new r.VolumeExpr,new r.ConstExpr(0)),n));t.addAssign(o);var l=new r.AssignExpr("TL",new r.SumExpr(new r.IfExpr(new r.LtExpr(new r.CloseExpr,i),new r.VolumeExpr,new r.ConstExpr(0)),n));t.addAssign(l);var u=new r.AssignExpr("TQ",new r.SumExpr(new r.IfExpr(new r.EqExpr(new r.CloseExpr,i),new r.VolumeExpr,new r.ConstExpr(0)),n));t.addAssign(u);var h=new r.OutputExpr("VR",new r.MulExpr(new r.DivExpr(new r.AddExpr(new r.MulExpr(o,new r.ConstExpr(2)),u),new r.AddExpr(new r.MulExpr(l,new r.ConstExpr(2)),u)),new r.ConstExpr(100)));t.addOutput(h);var d=new r.OutputExpr("MAVR",new r.MaExpr(h,a));return t.addOutput(d),t}return l(e,d),h(e,[{key:"getName",value:function(){return"VR"}}]),e}();e.VRIndicator=w;var C=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("M",2,100,30);t.addParameter(n);var a=new r.AssignExpr("REF_CLOSE_1",new r.RefExpr(new r.CloseExpr,new r.ConstExpr(1)));t.addAssign(a);var i=new r.AssignExpr("VA",new r.IfExpr(new r.GtExpr(new r.CloseExpr,a),new r.VolumeExpr,new r.NegExpr(new r.VolumeExpr)));t.addAssign(i);var o=new r.OutputExpr("OBV",new r.SumExpr(new r.IfExpr(new r.EqExpr(new r.CloseExpr,a),new r.ConstExpr(0),i),new r.ConstExpr(0)));t.addOutput(o);var l=new r.OutputExpr("MAOBV",new r.MaExpr(o,n));return t.addOutput(l),t}return l(e,d),h(e,[{key:"getName",value:function(){return"OBV"}}]),e}();e.OBVIndicator=C;var P=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N",2,90,14),a=new r.ParameterExpr("M",2,60,9);t.addParameter(n),t.addParameter(a);var i=new r.AssignExpr("VOLUME",new r.DivExpr(new r.MaExpr(new r.VolumeExpr,n),new r.VolumeExpr));t.addAssign(i);var o=new r.AssignExpr("MID",new r.MulExpr(new r.DivExpr(new r.SubExpr(new r.AddExpr(new r.HighExpr,new r.LowExpr),new r.RefExpr(new r.AddExpr(new r.HighExpr,new r.LowExpr),new r.ConstExpr(1))),new r.AddExpr(new r.HighExpr,new r.LowExpr)),new r.ConstExpr(100)));t.addAssign(o);var l=new r.OutputExpr("EMV",new r.MaExpr(new r.DivExpr(new r.MulExpr(o,new r.MulExpr(i,new r.SubExpr(new r.HighExpr,new r.LowExpr))),new r.MaExpr(new r.SubExpr(new r.HighExpr,new r.LowExpr),n)),n));t.addOutput(l);var u=new r.OutputExpr("MAEMV",new r.MaExpr(l,a));return t.addOutput(u),t}return l(e,d),h(e,[{key:"getName",value:function(){return"EMV"}}]),e}();e.EMVIndicator=P;var k=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N1",2,120,6),a=new r.ParameterExpr("N2",2,250,12),i=new r.ParameterExpr("N3",2,500,24);t.addParameter(n),t.addParameter(a),t.addParameter(i);var o=new r.AssignExpr("LC",new r.RefExpr(new r.CloseExpr,new r.ConstExpr(1)));t.addAssign(o);var l=new r.AssignExpr("CLOSE_LC",new r.SubExpr(new r.CloseExpr,o));return t.addAssign(l),t.addOutput(new r.OutputExpr("RSI1",new r.MulExpr(new r.DivExpr(new r.SmaExpr(new r.MaxExpr(l,new r.ConstExpr(0)),n,new r.ConstExpr(1)),new r.SmaExpr(new r.AbsExpr(l),n,new r.ConstExpr(1))),new r.ConstExpr(100)))),t.addOutput(new r.OutputExpr("RSI2",new r.MulExpr(new r.DivExpr(new r.SmaExpr(new r.MaxExpr(l,new r.ConstExpr(0)),a,new r.ConstExpr(1)),new r.SmaExpr(new r.AbsExpr(l),a,new r.ConstExpr(1))),new r.ConstExpr(100)))),t.addOutput(new r.OutputExpr("RSI3",new r.MulExpr(new r.DivExpr(new r.SmaExpr(new r.MaxExpr(l,new r.ConstExpr(0)),i,new r.ConstExpr(1)),new r.SmaExpr(new r.AbsExpr(l),i,new r.ConstExpr(1))),new r.ConstExpr(100)))),t}return l(e,d),h(e,[{key:"getName",value:function(){return"RSI"}}]),e}();e.RSIIndicator=k;var A=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N",2,100,10),a=new r.ParameterExpr("N1",2,100,6);t.addParameter(n),t.addParameter(a);var i=new r.AssignExpr("HHV",new r.HhvExpr(new r.HighExpr,n));t.addAssign(i);var o=new r.AssignExpr("HHV1",new r.HhvExpr(new r.HighExpr,a));t.addAssign(o);var l=new r.AssignExpr("LLV",new r.LlvExpr(new r.LowExpr,n));t.addAssign(l);var u=new r.AssignExpr("LLV1",new r.LlvExpr(new r.LowExpr,a));t.addAssign(u);var h=new r.OutputExpr("WR1",new r.MulExpr(new r.DivExpr(new r.SubExpr(i,new r.CloseExpr),new r.SubExpr(i,l)),new r.ConstExpr(100)));t.addOutput(h);var d=new r.OutputExpr("WR2",new r.MulExpr(new r.DivExpr(new r.SubExpr(o,new r.CloseExpr),new r.SubExpr(o,u)),new r.ConstExpr(100)));return t.addOutput(d),t}return l(e,d),h(e,[{key:"getName",value:function(){return"WR"}}]),e}();e.WRIndicator=A;var O=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ConstExpr(4),a=new r.ConstExpr(2),i=new r.ConstExpr(2),o=new r.ConstExpr(20);return t.addOutput(new r.OutputExpr("SAR",new r.SarExpr(n,a,i,o),r.OutputExpr.outputStyle.SARPoint)),t}return l(e,d),h(e,[{key:"getName",value:function(){return"SAR"}}]),e}();e.SARIndicator=O;var E=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N",2,90,9),a=new r.ParameterExpr("M1",2,30,3),i=new r.ParameterExpr("M2",2,30,3);t.addParameter(n),t.addParameter(a),t.addParameter(i);var o=new r.AssignExpr("HHV",new r.HhvExpr(new r.HighExpr,n));t.addAssign(o);var l=new r.AssignExpr("LLV",new r.LlvExpr(new r.LowExpr,n));t.addAssign(l);var u=new r.AssignExpr("RSV",new r.MulExpr(new r.DivExpr(new r.SubExpr(new r.CloseExpr,l),new r.SubExpr(o,l)),new r.ConstExpr(100)));t.addAssign(u);var h=new r.OutputExpr("K",new r.SmaExpr(u,a,new r.ConstExpr(1)));t.addOutput(h);var d=new r.OutputExpr("D",new r.SmaExpr(h,i,new r.ConstExpr(1)));t.addOutput(d);var p=new r.OutputExpr("J",new r.SubExpr(new r.MulExpr(h,new r.ConstExpr(3)),new r.MulExpr(d,new r.ConstExpr(2))));return t.addOutput(p),t}return l(e,d),h(e,[{key:"getName",value:function(){return"KDJ"}}]),e}();e.KDJIndicator=E;var S=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N",2,120,12),a=new r.ParameterExpr("M",2,60,6);t.addParameter(n),t.addParameter(a);var i=new r.AssignExpr("REF_CLOSE_N",new r.RefExpr(new r.CloseExpr,n));t.addAssign(i);var o=new r.OutputExpr("ROC",new r.MulExpr(new r.DivExpr(new r.SubExpr(new r.CloseExpr,i),i),new r.ConstExpr(100)));t.addOutput(o);var l=new r.OutputExpr("MAROC",new r.MaExpr(o,a));return t.addOutput(l),t}return l(e,d),h(e,[{key:"getName",value:function(){return"ROC"}}]),e}();e.ROCIndicator=S;var M=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N",2,120,12),a=new r.ParameterExpr("M",2,60,6);t.addParameter(n),t.addParameter(a);var i=new r.OutputExpr("MTM",new r.SubExpr(new r.CloseExpr,new r.RefExpr(new r.CloseExpr,n)));t.addOutput(i);var o=new r.OutputExpr("MTMMA",new r.MaExpr(i,a));return t.addOutput(o),t}return l(e,d),h(e,[{key:"getName",value:function(){return"MTM"}}]),e}();e.MTMIndicator=M;var I=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N",2,120,20);t.addParameter(n);var a=new r.AssignExpr("STD_CLOSE_N",new r.StdExpr(new r.CloseExpr,n));t.addAssign(a);var i=new r.OutputExpr("BOLL",new r.MaExpr(new r.CloseExpr,n));t.addOutput(i);var o=new r.OutputExpr("UB",new r.AddExpr(i,new r.MulExpr(new r.ConstExpr(2),a)));t.addOutput(o);var l=new r.OutputExpr("LB",new r.SubExpr(i,new r.MulExpr(new r.ConstExpr(2),a)));return t.addOutput(l),t}return l(e,d),h(e,[{key:"getName",value:function(){return"BOLL"}}]),e}();e.BOLLIndicator=I;var T=function(t){function e(){var t;c(this,e),t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));var n=new r.ParameterExpr("N",2,100,12),a=new r.ParameterExpr("M",2,100,6);t.addParameter(n),t.addParameter(a);var i=new r.OutputExpr("PSY",new r.MulExpr(new r.DivExpr(new r.CountExpr(new r.GtExpr(new r.CloseExpr,new r.RefExpr(new r.CloseExpr,new r.ConstExpr(1))),n),n),new r.ConstExpr(100)));t.addOutput(i);var o=new r.OutputExpr("PSYMA",new r.MaExpr(i,a));return t.addOutput(o),t}return l(e,d),h(e,[{key:"getName",value:function(){return"PSY"}}]),e}();e.PSYIndicator=T;var D=function(t){function e(){var t;c(this,e),(t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))).getName=function(){return"StochRSI"};var n=new r.ParameterExpr("N",3,100,14),a=new r.ParameterExpr("M",3,100,14),i=new r.ParameterExpr("P1",2,50,3),o=new r.ParameterExpr("P2",2,50,3);t.addParameter(n),t.addParameter(a),t.addParameter(i),t.addParameter(o);var l=new r.AssignExpr("LC",new r.RefExpr(new r.CloseExpr,new r.ConstExpr(1)));t.addAssign(l);var u=new r.AssignExpr("CLOSE_LC",new r.SubExpr(new r.CloseExpr,l));t.addAssign(u);var h=new r.AssignExpr("RSI",new r.MulExpr(new r.DivExpr(new r.SmaExpr(new r.MaxExpr(u,new r.ConstExpr(0)),n,new r.ConstExpr(1)),new r.SmaExpr(new r.AbsExpr(u),n,new r.ConstExpr(1))),new r.ConstExpr(100)));t.addAssign(h);var d=new r.OutputExpr("STOCHRSI",new r.MulExpr(new r.DivExpr(new r.MaExpr(new r.SubExpr(h,new r.LlvExpr(h,a)),i),new r.MaExpr(new r.SubExpr(new r.HhvExpr(h,a),new r.LlvExpr(h,a)),i)),new r.ConstExpr(100)));return t.addOutput(d),t.addOutput(new r.RangeOutputExpr("MA",new r.MaExpr(d,o))),t}return l(e,d),e}();e.STOCHRSIIndicator=D},function(t,e,n){var r=n(33);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0};n(46)(r,a);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(34);(t.exports=n(35)(!1)).push([t.i,"html, body {\n    min-height: 100%;\n    margin: 0;\n    min-width: 100%\n}\n\n.kline {  \n    -webkit-overflow-scrolling:touch;\n  }\n\nul, li {\n    padding: 0;\n    margin: 0;\n}\n\nli {\n    list-style: none;\n}\n\n.chart_container {\n    cursor: default;\n    font-family: arial, sans, serif;\n    font-size: 12px;\n    height: 100%;\n    position: relative;\n    width: 100%;\n    overflow:auto;\n}\n\n.chart_container div, .chart_container ul, .chart_container form {\n    margin: 0;\n    padding: 0\n}\n\n.chart_container a:hover {\n    text-decoration: none\n}\n\n.chart_container ul {\n    list-style: none;\n    border: 0;\n    margin: 0;\n    padding: 0\n}\n\n.chart_container button {\n    cursor: pointer\n}\n\n#chart_dom_elem_cache {\n    *font-weight: bold;\n    position: absolute;\n    visibility: hidden;\n    z-index: -1\n}\n\n#chart_toolbar {\n    border-bottom: 1px solid;\n    *font-weight: bold;\n    height: 29px;\n    position: absolute;\n    z-index: 3\n}\n\n.chart_container.dark #chart_toolbar {\n    background-color: #0a0a0a;\n    border-bottom-color: #404040\n}\n\n.chart_container.light #chart_toolbar {\n    background-color: #fff;\n    border-bottom-color: #afb1b3\n}\n\n.chart_container .chart_toolbar_sep {\n    float: left;\n    height: 100%;\n    width: 16px\n}\n\n.chart_container .chart_toolbar_minisep {\n    float: left;\n    height: 100%;\n    width: 4px\n}\n\n.chart_container .chart_dropdown {\n    display: inline-block;\n    float: left;\n    position: relative;\n    z-index: 100\n}\n\n.chart_container .chart_dropdown_t {\n    background-origin: content-box;\n    background-repeat: no-repeat;\n    border: 1px solid;\n    border-bottom-width: 0;\n    margin-top: 3px;\n    padding-right: 10px;\n    z-index: 101;\n    position: relative\n}\n\n.chart_container .chart_dropdown_t a {\n    display: inline-block;\n    padding: 3px 12px 5px 10px\n}\n\n.chart_container .chart_dropdown_data {\n    border: 1px solid;\n    display: none;\n    position: absolute;\n    padding: 6px 8px 6px 8px;\n    margin-top: -1px;\n    z-index: 100\n}\n\n.chart_container .chart_dropdown_data table {\n    border-collapse: collapse;\n    font-weight: normal;\n    white-space: nowrap\n}\n\n.chart_container .chart_dropdown_data td {\n    border-bottom: 1px solid;\n    padding: 8px 6px;\n    vertical-align: top\n}\n\n.market_chooser .chart_dropdown_data {\n    width: 370px\n}\n\n.market_chooser .chart_dropdown_data td {\n    border-bottom: 1px solid;\n    padding: 1px 6px !important;\n    vertical-align: top;\n    line-height: 24px\n}\n\n.market_chooser li {\n    float: left;\n    width: 80px;\n    height: 24px;\n    line-height: 24px\n}\n\n.chart_container .chart_dropdown_data td.marketName_ a.dark {\n    color: #fff\n}\n\n.chart_container .chart_dropdown_data td.marketName_ a.light {\n    color: #000\n}\n\n.chart_container .chart_dropdown_data table tr:last-child td {\n    border-bottom: 0\n}\n\n.chart_container .chart_dropdown_data li {\n    white-space: nowrap;\n    display: inline-block\n}\n\n.chart_container .chart_dropdown_data a {\n    text-decoration: none;\n    cursor: pointer;\n    padding: 5px 6px 5px 6px\n}\n\n.chart_container .chart_dropdown-hover.chart_dropdown_data {\n    display: block\n}\n\n#chart_dropdown_symbols .chart_dropdown_data td {\n    padding: 8px 6px 0 6px\n}\n\n#chart_dropdown_symbols .chart_dropdown_data li {\n    display: block;\n    height: 26px\n}\n\n#chart_dropdown_symbols .chart_dropdown_data a {\n    cursor: pointer\n}\n\n#chart_dropdown_themes .chart_dropdown_data td:first-child {\n    padding: 6px 1px 7px 6px\n}\n\n.chart_container.dark .chart_dropdown_t {\n    background-image: url("+r(n(36))+");\n    background-position: right 9px;\n    border-color: #0a0a0a;\n    color: #e5e5e5\n}\n\n.chart_container.dark .chart_dropdown-hover.chart_dropdown_t {\n    background-color: #131E32;\n    background-image: url("+r(n(37))+");\n    background-position: right 8px;\n    border-color: #606060;\n    color: #fff\n}\n\n.chart_container.dark .chart_dropdown_data {\n    background-color: rgba(10, 10, 10, 0.8);\n    border-color: #606060\n}\n\n.chart_container.dark .chart_dropdown_data td {\n    border-bottom-color: #404040;\n    color: #e5e5e5\n}\n\n.chart_container.dark .chart_dropdown_data li a {\n    color: #1987da\n}\n\n.chart_container.dark .chart_dropdown_data li a:hover {\n    background-color: #383838\n}\n\n#chart_toolbar_periods_vert div a.selected {\n    color: #ffac00\n}\n\n.chart_container.dark .chart_dropdown_data li a.selected {\n    color: #ffac00\n}\n\n.chart_container.light .chart_dropdown_t {\n    background-image: url("+r(n(38))+");\n    background-position: right 10px;\n    border-color: #fff;\n    color: #393c40\n}\n\n.chart_container.light .chart_dropdown-hover.chart_dropdown_t {\n    background-color: #fff;\n    background-image: url("+r(n(39))+");\n    background-position: right 9px;\n    border-color: #4c4f53;\n    color: #393c40\n}\n\n.chart_container.light .chart_dropdown_data {\n    background-color: #fff;\n    border-color: #4c4f53\n}\n\n.chart_container.light .chart_dropdown_data td {\n    border-bottom-color: #e4e5e6;\n    color: #393c40\n}\n\n.chart_container.light .chart_dropdown_data li a {\n    color: #1478c8\n}\n\n.chart_container.light .chart_dropdown_data a:hover {\n    background-color: #f4f4f4\n}\n\n.chart_container.light .chart_dropdown_data a.selected {\n    color: #f27935\n}\n\n.chart_container .chart_toolbar_label {\n    cursor: default;\n    display: inline-block;\n    float: left;\n    padding: 7px 4px\n}\n\n.chart_container.dark .chart_toolbar_label {\n    border-color: #232323;\n    color: #e5e5e5\n}\n\n.chart_container.light .chart_toolbar_label {\n    border-color: #fff;\n    color: #393c40\n}\n\n.chart_container .chart_toolbar_button {\n    border: 1px solid;\n    cursor: pointer;\n    float: left;\n    margin: 3px 2px;\n    padding: 3px 10px;\n    position: relative;\n    z-index: 100\n}\n\n.chart_container.dark .chart_toolbar_button {\n    border-color: #404040;\n    color: #e5e5e5\n}\n\n.chart_container.dark .chart_toolbar_button:hover {\n    background-color: #383838;\n    border-color: #606060;\n    color: #fff\n}\n\n.chart_container.dark .chart_toolbar_button.selected {\n    background-color: #383838;\n    border-color: #606060;\n    color: #ffac00\n}\n\n.chart_container.dark .chart_toolbar_button.selected:hover {\n    background-color: #474747;\n    border-color: #808080;\n    color: #ffac00\n}\n\n.chart_container.light .chart_toolbar_button {\n    border-color: #ccc;\n    color: #393c40\n}\n\n.chart_container.light .chart_toolbar_button:hover {\n    background-color: #f4f4f4;\n    color: #393c40\n}\n\n.chart_container.light .chart_toolbar_button.selected {\n    background-color: #f4f4f4;\n    border-color: #f27935;\n    color: #f27935\n}\n\n.chart_container .chart_toolbar_tabgroup {\n    float: left\n}\n\n.chart_container .chart_toolbar_tabgroup li {\n    display: inline-block;\n    padding: 4px 0;\n    margin: 3px 0\n}\n\n.chart_container .chart_toolbar_tabgroup li a {\n    cursor: pointer;\n    padding: 4px 4px\n}\n\n.chart_container .chart_toolbar_tabgroup li a:hover {\n    text-decoration: none\n}\n\n.chart_container.dark .chart_toolbar_tabgroup li a {\n    color: #1987da\n}\n\n.chart_container.dark .chart_toolbar_tabgroup li a:hover {\n    background-color: #383838\n}\n\n.chart_container.dark .chart_toolbar_tabgroup li a.selected {\n    color: #ffac00\n}\n\n.chart_container.light .chart_toolbar_tabgroup li a {\n    color: #1478c8\n}\n\n.chart_container.light .chart_toolbar_tabgroup li a:hover {\n    background-color: #f4f4f4\n}\n\n.chart_container.light .chart_toolbar_tabgroup li a.selected {\n    color: #f27935\n}\n\n#chart_toolbar_periods_horz {\n    display: inline-block;\n    float: left;\n    position: relative;\n    z-index: 100\n}\n\n#chart_toolbar_periods_vert {\n    float: left\n}\n\n.chart_container a.chart_icon {\n    border: 1px solid;\n    height: 16px;\n    padding: 0;\n    width: 16px\n}\n\n.chart_container a.chart_icon:hover {\n    border-width: 2px;\n    height: 14px;\n    width: 14px\n}\n\n.chart_container .chart_dropdown_data a.chart_icon {\n    display: inline-block;\n    magin: 0 6px 0 6px\n}\n\n.chart_container a.chart_icon_theme_dark, .chart_container .chart_dropdown_data li a.chart_icon_theme_dark:hover {\n    background-color: #000\n}\n\n.chart_container a.chart_icon_theme_light, .chart_container .chart_dropdown_data li a.chart_icon_theme_light:hover {\n    background-color: #fff\n}\n\n/* .chart_container #chart_toolbar_theme {\n    float: left;\n    padding: 0 8px;\n    display: none;\n}\n\n.chart_container #chart_toolbar_theme a.chart_icon {\n    cursor: pointer;\n    float: left;\n    margin: 6px 4px\n}\n\n.chart_container #chart_select_theme td:last-child {\n    padding: 6px 6px 0 8px\n}\n\n.chart_container #chart_select_theme li {\n    padding: 0 4px 0 4px\n} */\n\n.chart_container.dark a.chart_icon {\n    border-color: #aaa\n}\n\n.chart_container.dark a.chart_icon:hover {\n    border-color: #1987da\n}\n\n.chart_container.dark a.chart_icon.selected {\n    border-color: #ffac00\n}\n\n.chart_container.light a.chart_icon {\n    border-color: #aaa\n}\n\n.chart_container.light a.chart_icon.selected {\n    border-color: #f27935\n}\n\n.chart_container #chart_updated_time {\n    float: right;\n    margin: 4px 3px;\n    padding: 3px 5px\n}\n\n.chart_container.dark #chart_updated_time {\n    color: #e5e5e5\n}\n\n.chart_container.light #chart_updated_time {\n    color: #393c40\n}\n\n#chart_toolpanel {\n    border-right: 1px solid;\n    display: none;\n    position: absolute;\n    width: 32px;\n    z-index: 2\n}\n\n#chart_toolpanel .chart_toolpanel_separator {\n    position: relative;\n    height: 4px\n}\n\n#chart_toolpanel .chart_toolpanel_button {\n    position: relative;\n    z-index: 100\n}\n\n#chart_toolpanel .chart_toolpanel_icon {\n    background-origin: content-box;\n    background-repeat: no-repeat;\n    border: 1px solid;\n    cursor: pointer;\n    height: 16px;\n    margin: 1px 4px 1px 4px;\n    padding: 3px;\n    position: relative;\n    width: 16px;\n    z-index: 101\n}\n\n#chart_toolpanel .chart_toolpanel_tip {\n    border-radius: 4px;\n    border: 1px solid;\n    display: none;\n    *font-weight: bold;\n    position: absolute;\n    padding: 3px 6px 4px 6px;\n    margin-left: 36px;\n    margin-top: -25px;\n    white-space: nowrap;\n    z-index: 100\n}\n\n#chart_toolpanel .chart_toolpanel_button:hover .chart_toolpanel_tip {\n    display: block\n}\n\n.chart_container.dark #chart_toolpanel {\n    background-color: #0a0a0a;\n    border-right-color: #404040\n}\n\n.chart_container.dark .chart_toolpanel_icon {\n    background-color: #0a0a0a;\n    border-color: #0a0a0a\n}\n\n.chart_container.dark .chart_toolpanel_button:hover .chart_toolpanel_icon {\n    background-color: #404040;\n    border-color: #666\n}\n\n.chart_container.dark .chart_toolpanel_button.selected .chart_toolpanel_icon {\n    background-color: #080808;\n    border-color: #666\n}\n\n.chart_container.dark .chart_toolpanel_tip {\n    background-color: #ffac00;\n    border-color: #ffac00;\n    color: #0a0a0a\n}\n\n.chart_container.light #chart_toolpanel {\n    background-color: #fff;\n    border-right-color: #afb1b3\n}\n\n.chart_container.light .chart_toolpanel_icon {\n    background-color: #fff;\n    border-color: #fff\n}\n\n.chart_container.light .chart_toolpanel_button:hover .chart_toolpanel_icon {\n    background-color: #eee;\n    border-color: #afb1b3\n}\n\n.chart_container.light .chart_toolpanel_button.selected .chart_toolpanel_icon {\n    background-color: #f4f4f4;\n    border-color: #afb1b3\n}\n\n.chart_container.light .chart_toolpanel_tip {\n    background-color: #f27938;\n    border-color: #f27938;\n    color: #eee\n}\n\n.chart_container.dark #chart_toolpanel .chart_toolpanel_button .chart_toolpanel_icon {\n    background-image: url("+r(n(40))+")\n}\n\n.chart_container.dark #chart_toolpanel .chart_toolpanel_button.selected .chart_toolpanel_icon {\n    background-image: url("+r(n(41))+")\n}\n\n.chart_container.dark #chart_toolbar .chart_BoxSize {\n    background: url("+r(n(42))+") no-repeat;\n}\n\n.chart_container.light #chart_toolpanel .chart_toolpanel_button .chart_toolpanel_icon {\n    background-image: url("+r(n(43))+")\n}\n\n.chart_container.light #chart_toolpanel .chart_toolpanel_button.selected .chart_toolpanel_icon {\n    background-image: url("+r(n(44))+")\n}\n\n.chart_container.light #chart_toolbar .chart_BoxSize {\n    background: url("+r(n(45))+') no-repeat;\n}\n\n.chart_container #chart_toolpanel #chart_SegLine {\n    background-position: 0 -40px\n}\n\n.chart_container #chart_toolpanel #chart_StraightLine {\n    background-position: 0 -60px\n}\n\n.chart_container #chart_toolpanel #chart_RayLine {\n    background-position: 0 -100px\n}\n\n.chart_container #chart_toolpanel #chart_ArrowLine {\n    background-position: 0 -80px\n}\n\n.chart_container #chart_toolpanel #chart_HoriSegLine {\n    background-position: 0 -160px\n}\n\n.chart_container #chart_toolpanel #chart_HoriStraightLine {\n    background-position: 0 -120px\n}\n\n.chart_container #chart_toolpanel #chart_HoriRayLine {\n    background-position: 0 -140px\n}\n\n.chart_container #chart_toolpanel #chart_VertiStraightLine {\n    background-position: 0 -180px\n}\n\n.chart_container #chart_toolpanel #chart_PriceLine {\n    background-position: 0 -200px\n}\n\n.chart_container #chart_toolpanel #chart_TriParallelLine {\n    background-position: 0 -220px\n}\n\n.chart_container #chart_toolpanel #chart_BiParallelLine {\n    background-position: 0 -240px\n}\n\n.chart_container #chart_toolpanel #chart_BiParallelRayLine {\n    background-position: 0 -260px\n}\n\n.chart_container .chart_toolpanel_button #chart_DrawFibRetrace {\n    background-position: 0 -280px\n}\n\n.chart_container #chart_toolpanel #chart_DrawFibFans {\n    background-position: 0 -300px\n}\n\n#chart_tabbar {\n    border-top: 1px solid;\n    cursor: default;\n    display: none;\n    *font-weight: bold;\n    height: 22px;\n    overflow: hidden;\n    position: absolute;\n    z-index: 1\n}\n\n#chart_tabbar ul {\n    height: 100%;\n    list-style: none;\n    padding: 0 0 0 4px\n}\n\n#chart_tabbar li {\n    display: inline-block;\n    height: 100%;\n    margin: 0\n}\n\n#chart_tabbar a {\n    cursor: pointer;\n    display: inline-block;\n    height: 100%;\n    margin: 0;\n    padding: 3px 4px 0 4px;\n    overflow: hidden\n}\n\n#chart_tabbar a:hover {\n    text-decoration: none\n}\n\n.chart_container.dark #chart_tabbar {\n    background-color: #0a0a0a;\n    border-top-color: #404040\n}\n\n.chart_container.dark #chart_tabbar a {\n    color: #e5e5e5\n}\n\n.chart_container.dark #chart_tabbar a:hover {\n    background-color: #383838;\n    color: #fff\n}\n\n.chart_container.dark #chart_tabbar a.selected {\n    color: #ffac00\n}\n\n.chart_container.light #chart_tabbar {\n    background-color: #fff;\n    border-top-color: #afb1b3\n}\n\n.chart_container.light #chart_tabbar a {\n    color: #393c40\n}\n\n.chart_container.light #chart_tabbar a:hover {\n    background-color: #f4f4f4;\n    color: #393c40\n}\n\n.chart_container.light #chart_tabbar a.selected {\n    color: #f27935\n}\n\n#chart_canvasGroup {\n    position: absolute;\n    z-index: 0\n}\n\n#chart_mainCanvas {\n    overflow: hidden;\n    position: absolute;\n    z-index: 0;\n}\n\n#chart_overlayCanvas {\n    overflow: hidden;\n    position: absolute;\n    z-index: 2\n}\n\n#chart_loading {\n    border: 2px solid #fff;\n    border-left: 2px solid transparent;\n    height: 30px;\n    width: 30px;\n    border-radius: 50%;\n    overflow: hidden;\n    position: absolute;\n    text-align: center;\n    visibility: hidden;\n    z-index: 200;\n}\n\n.chart_str_loading {\n    animation: loading_rotate 1s infinite linear;\n}\n\n@keyframes loading_rotate {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n#chart_loading.activated {\n    visibility: visible\n}\n\n.chart_container.dark #chart_loading {\n    background-color: rgba(0, 0, 0, 0.6);\n    color: #ccc\n}\n\n.chart_container.light #chart_loading {\n    background-color: rgba(244, 244, 244, 0.8);\n    color: #393c40\n}\n\n.chart_container input, .chart_container button {\n    border-radius: 4px;\n    border: 1px solid;\n    padding: 4px\n}\n\n.chart_container input[type=text] {\n    width: 12em\n}\n\n.chart_container input[type=button], .chart_container input[type=submit], .chart_container button {\n    font-family: arial, sans, serif;\n    padding: 4px 8px;\n    cursor: pointer\n}\n\n.chart_container.dark input, .chart_container.dark button {\n    background-color: #151515;\n    border-color: #333;\n    color: #ccc\n}\n\n.chart_container.light input, .chart_container.light button {\n    background-color: #ddd;\n    border-color: #ddd;\n    color: #222\n}\n\n.trade_container {\n    width: 100%;\n    height: auto;\n    /* float: right; */\n    z-index: 99999;\n    font-size: 12px;\n    overflow: hidden;\n    padding-bottom: 15px;\n}\n\n.trade_container.dark {\n    background: #0a0a0a;\n    color: #f1f1f1\n}\n\n.m_righttop {\n    position: fixed;\n    top: 0;\n    height: 41px;\n    line-height: 41px;\n    width: 230px;\n    text-align: right;\n    padding-right: 20px;\n    font-size: 16px;\n    color: #f78d15;\n    font-family: Gotham, "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.m_righttop em {\n    width: 123px;\n    height: 28px;\n    background-position: 0 0;\n    display: block;\n    float: right;\n    margin-top: 5px\n}\n\n.dark .m_righttop em {\n    background-position: 0 0\n}\n\n.m_rightbot {\n    height: 22px;\n    line-height: 22px;\n    border-top: 1px solid #404040;\n    width: 230px;\n    text-align: right;\n    padding-right: 20px;\n    background-color: #0a0a0a;\n    border-bottom-color: #404040\n}\n\n.m_guadan {\n    padding: 0 10px;\n    margin-top: 0px;\n    overflow: hidden;\n    border-left: 1px solid #404040;\n    border-top: 1px solid #404040\n}\n\n.m_guadan a {\n    font-weight: bold;\n    color: #FFF;\n    text-decoration: none\n}\n\n.light .m_guadan {\n    margin-top: 0px;\n    overflow: hidden;\n    border-left: 1px solid #afb1b3;\n    border-top: 1px solid #afb1b3\n}\n\n#trades, #description {\n    display: none;\n}\n\n#orderbook #asks, #orderbook #gasks, #orderbook #bids, #orderbook #gbids {\n    height: 195px;\n    position: relative;\n    overflow: hidden\n}\n\n.symbol-title {\n    font-size: 20px;\n    /* font-weight: bold; */\n    text-align: center;\n    height: 24px;\n    line-height: 24px;\n    font-family: Arial, sans, serif;\n    padding: 5px\n}\n\n.symbol-title .white {\n    color: #FFF;\n    /* text-decoration:none; */\n}\n\n.symbol-title .dark {\n    color: #6BF\n}\n\n.symbol-title .infoDepth {\n    margin-left: 8px;\n    color: #f78d15\n}\n\n.symbol-title a:hover {\n    text-decoration: underline\n}\n\n#orderbook {\n    /* padding-left: 3px;\n    border-bottom: 1px solid #222;\n    padding-bottom: 2px;\n    margin-left: 5px;\n    margin-bottom: 2px */\n    display: flex;\n}\n\n#asks, #bids {\n    flex: 1;\n}\n\n#tabList {\n    display: flex;\n}\n\n#tabList li {\n    flex: 1;\n    text-align: center;\n    line-height: 30px;\n}\n\n#tabList li.current {\n    color: #0F0;\n}\n\n#orderbook .table {\n    position: absolute;\n    border-collapse: collapse;\n    padding: 0;\n    margin: 0\n}\n\n#gasks .table, #asks .table {\n    bottom: 0\n}\n\n#orderbook .table .row {\n    padding: 0;\n    margin: 0;\n    height: 13px;\n    line-height: 13px;\n    font-family: Consolas, monospace\n}\n\n#orderbook .table .row {\n    line-height: 13px\n}\n\n#orderbook .table .g {\n    color: #666\n}\n\n.price {\n    margin-right: 10px\n}\n\n.price h {\n    visibility: hidden\n}\n\n.price g, .amount g {\n    color: #666\n}\n\n#price {\n    text-align: left;\n    font-size: 16px;\n    font-weight: bold;\n    padding-left: 15px;    \n    padding-top: 20px;\n}\n\n.chart_trade_quotation {\n    height: 80px;\n    background-color: #0a0a0a;\n    position: relative;\n}\n\n#chart_trade_quotation_content ul, li {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n}\n\n.chart_trade_quotation .green {\n    color: #0F0\n}\n\n.chart_trade_quotation .red {\n    color: #F00\n}\n\n#chart_trade_quotation_content li {\n    position: absolute;\n    display: block;\n    font-size: 12px;\n}\n\n#chart_trade_quotation_content li:nth-of-type(1) {\n    left: 20px;\n    top: 24px;\n}\n\n#chart_trade_quotation_content li:nth-of-type(2) {\n    left: 26px;\n    top: 36px;\n    color: whitesmoke;\n}\n\n#chart_trade_quotation_content li:nth-of-type(3) {\n    right: 10px;\n    top: 10px;\n    color: goldenrod;\n}\n\n#chart_trade_quotation_content li:nth-of-type(4) {\n    color: yellowgreen;\n    top: 28px;\n    right: 10px;\n}\n\n#chart_trade_quotation_content li:nth-of-type(5) {\n    color: orchid;\n    top: 49px;\n    right: 10px;\n}\n\n \n\n.trade_container .green {\n    color: #0F0\n}\n\n.trade_container .red {\n    color: #F00\n}\n\n.trade_container.dark #orderbook div.table div.remove g, .trade_container.dark #orderbook div.table div.remove span {\n    color: #444\n}\n\n.trade_container.light #orderbook div.table div.remove g, .trade_container.light #orderbook div.table div.remove span {\n    color: #ddd\n}\n\n.trade_container.dark #orderbook div.table div.add {\n    display: none;\n    background-color: rgba(238, 238, 238, 0.2)\n}\n\n.trade_container.light #orderbook div.table div.add {\n    display: none;\n    background-color: rgba(100, 100, 100, 0.2)\n}\n\n#trades {\n    overflow-y: auto;\n    text-align: left;\n    color: #666;\n}\n\n.trade_container.light {\n    background: #fff;\n    border-left: 1px solid #afb1b3;\n    color: #000\n}\n\n.trade_container.light .m_righttop em {\n    background-position: 0 -32px\n}\n\n.trade_container.light .m_righttop {\n    position: fixed;\n    top: 0;\n    height: 40px;\n    line-height: 40px;\n    background: #FFF;\n    width: 230px;\n    border-bottom: 1px solid #afb1b3;\n    text-align: right;\n    padding-right: 20px\n}\n\n.trade_container.light #trades.trades table {\n    color: #333\n}\n\n.trade_container.light #trades.trades .v {\n    color: #333\n}\n\n.trade_container.light #trades.trades .v g {\n    color: #333\n}\n\n.trade_container.light .m_rightbot {\n    background: #fff;\n    border-top: 1px solid #afb1b3\n}\n\n.trade_container.light #orderbook {\n    border-bottom: 1px solid #afb1b3\n}\n\n.trades_list {\n    /* padding-left: 25px */\n}\n\n.trades_list ul {\n    width: 100%;\n    height: 14px;\n    line-height: 14px;\n    text-align: left;\n    list-style: none;\n    clear: both;\n    zoom: 1;\n    margin: 0;\n    padding: 0;\n    display: flex;\n}\n\n.trades_list ul li {\n    height: 14px;\n    line-height: 14px;\n    color: #999;\n    font-size: 12px;\n    list-style: none;\n    float: left;\n    *display: inline;\n    margin: 0;\n    padding: 0;\n    font-family: Consolas, monospace;\n    flex: 1;\n}\n\n.trades_list ul li.tm {\n    width: 62px;\n    color: #999\n}\n\n.trades_list ul li.pr-green {\n    width: 65px;\n    color: #0F0\n}\n\n.trades_list ul li.pr-red {\n    width: 65px;\n    color: #F00\n}\n\n.trades_list ul li.vl {\n    width: 60px;\n    color: #ccc\n}\n\n.trades_list ul li.vl g {\n    color: #666\n}\n\n.trade_container.dark .trades_list ul.newul {\n    display: none;\n    background-color: rgba(238, 238, 238, 0.2)\n}\n\n.trade_container.light .trades_list ul.newul {\n    display: none;\n    background-color: rgba(100, 100, 100, 0.2)\n}\n\n.light .trades_list ul li.tm {\n    color: #333\n}\n\n.light .trades_list ul li.pr-green {\n    color: #6c6\n}\n\n.light .trades_list ul li.pr-red {\n    color: #c66\n}\n\n.light .trades_list ul li.vl {\n    color: #333\n}\n\n.light .trades_list ul li.vl g {\n    color: #333\n}\n\n.container .nav {\n    margin: 0;\n    list-style: none;\n    padding: 0 0 0 3px;\n    height: 41px\n}\n\n.container .nav li {\n    display: inline-block;\n    margin-right: 9px\n}\n\n.container a {\n    text-decoration: none;\n    color: #6BF;\n    font-family: Arial, sans, serif\n}\n\n.container a:hover {\n    text-decoration: underline\n}\n\n.container a.active {\n    color: #FC9\n}\n\n.container span {\n    margin-left: 3px;\n    font-family: Consolas, monospace;\n    color: #ccc\n}\n\n.light .container span {\n    color: #333\n}\n\n.light .container a {\n    text-decoration: none;\n    color: #1478c8;\n    font-family: Arial, sans, serif\n}\n\n.chart_BoxSize {\n    width: 20px;\n    height: 20px\n}\n\n#chart_main_indicator {\n    float: right;\n    right: 12px;\n}\n\n#chart_main_indicator li {\n    line-height: 24px;\n    display: block;\n}\n\n.chart_str_loading {\n    text-indent: -99999px;\n}',""])},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var a=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([a]).join("\n")}var o;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(r[i]=!0)}for(a=0;a<t.length;a++){var o=t[a];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAFCAYAAABmWJ3mAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAJn2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDY8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0xMi0wM1QxNzo1Njo1MiswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozNjIzYmJlYi1iNGU2LWNhNDktOTRjZi05MTIyY2Q1Y2NiZTk8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjM2MjNiYmViLWI0ZTYtY2E0OS05NGNmLTkxMjJjZDVjY2JlOTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDo2QzE5MkVEOTY1N0UxMUU0QUUwMkE5RkYyNDYyQTBBODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDo4MzE3OTEwZi1kOTE5LTY4NDAtYWVhOS0zNzI5NWE2NGI1NmU8L3N0UmVmOmluc3RhbmNlSUQ+CiAgICAgICAgICAgIDxzdFJlZjpkb2N1bWVudElEPnhtcC5kaWQ6MWYwY2U2ZjQtZTRlNS1jODQ3LWIyOTgtNGNkNjRiYzBkYzA2PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE0LTEyLTAzVDE3OjU2OjUyKzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNC0xMi0wM1QxNzo1NjoyOCswODowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE0LTEyLTAzVDE3OjU2OjUyKzA4OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgqC9xe+AAAAWUlEQVQIHWO8cOHCFgYGBm8gRgZbmRgZGXOBIj+QRH8wMTHlMenr69////9/J0wCxNbT07vHCBK4f/8+x8ePH6+B2Pz8/FqKioo/mEAcEAOoEmRkHogNEgMA0qYfb8X3frQAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAFCAYAAABmWJ3mAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA21pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0E5Qjc0ODc3QUQ0MTFFNDhCN0ZBNEVBQTM1QTBFNjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0E5Qjc0ODY3QUQ0MTFFNDhCN0ZBNEVBQTM1QTBFNjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM2MjNiYmViLWI0ZTYtY2E0OS05NGNmLTkxMjJjZDVjY2JlOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2QzE5MkVEOTY1N0UxMUU0QUUwMkE5RkYyNDYyQTBBOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvrZrC8AAABOSURBVHjaYvz//z8DCFy8eNEbSDHq6+tvAfEZQRJAQQ4g+xoDBGgBJX8wQTkVQKwIxRVgHRcuXFCEquaAKvoBxNogHZORBBmg7EkAAQYAImEV+46peUgAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAFCAYAAABmWJ3mAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkMxOTJFRDk2NTdFMTFFNEFFMDJBOUZGMjQ2MkEwQTgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkMxOTJFRDg2NTdFMTFFNEFFMDJBOUZGMjQ2MkEwQTgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjgzMTc5MTBmLWQ5MTktNjg0MC1hZWE5LTM3Mjk1YTY0YjU2ZSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5MkIK1AAAAPklEQVR42mJ0CUvewsDA4M2ACrYyAYlcIP6BJAhi54Ek7gNxJ5IEiH2PCcrpgCq4D2UzsCBpBxnJCDMWIMAAVuANgw9cJ2UAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAFCAYAAABmWJ3mAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADcWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjFmMGNlNmY0LWU0ZTUtYzg0Ny1iMjk4LTRjZDY0YmMwZGMwNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2QzE5MkVEOTY1N0UxMUU0QUUwMkE5RkYyNDYyQTBBOCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2QzE5MkVEODY1N0UxMUU0QUUwMkE5RkYyNDYyQTBBOCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODMxNzkxMGYtZDkxOS02ODQwLWFlYTktMzcyOTVhNjRiNTZlIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFmMGNlNmY0LWU0ZTUtYzg0Ny1iMjk4LTRjZDY0YmMwZGMwNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkyQgrUAAABCSURBVBhXY3QJS2aAAh8g/g/EW0EcJhABBBxAPAmIJ0PZcIkKIFaEYhAbLKEExOUgDhSA2IogCZARYO1QAGQzTAYAPbkH1E4jJr8AAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAFACAYAAAC1CvwiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0EwQTE5MkI4MTFEMTFFNEI4Njg4OEVFQzVGMTEyOTIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0EwQTE5MkE4MTFEMTFFNEI4Njg4OEVFQzVGMTEyOTIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjYzNEUzRUIyODExOTExRTRBNkJDQzhDODM5MEQxQTkwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjYzNEUzRUIzODExOTExRTRBNkJDQzhDODM5MEQxQTkwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+VsD84AAABMxJREFUeNrsXEloFEEU7QztBgoKkmgueogajSQRBEEQJ3jITVDUgxL1YoggHlSU6MHlKkEQ3FFREEEviogexJlTDqIxcQl60Is4oujFDVFhfN+p1kqlu7ZZMhN+w6My1f1fVXf9ev2r+6eDfD4fRMhkMpeBaXKdCalg5NYFPMpms0sDy62OWKINhtGPn8ABoC+dTud1BKmE+onAUeAOSBt8CKKtExgESafrKagb1fcB+3FKv1x68K8hYA/Qj0aafAiijUZnACRdUUVoYfQbuA8MAy+BF8BzG4LPwARgCtCLcx9wGYVXwHLgqvjd6zKMGWAZWqRunhF1a3HeC2wITtHYw/gT/UD5AMWQOG6v0Q/iNrTcI4jJvZtA+sZ1GK8AX4V773J1ZTqNLyjOi16ccD4Fp+lcmwRavYM+Zlw10XljghIQ1NFQafa3k6xr5kkH+8H48AOWtDEgGBUGuQSVYoLl5b8r6wfofqu43QcuMZJsfARYAiEZdOqBZHxINrYNMBKNjQQmYy2BjXEiga1xLIGLcVy0HhkfhPGQ7Y1FPYd2W+NCWKr4tuvcKHouhIaVCktaOQlw4etRvE95GpPHngUafVR5xFyxVST1oP+y5iPlJXVlW00cUsK7uirVRO3Vtlmx+IhL6UbBdLW1BD5qLKvyLJSnfYwjTXwHNMD4A0taBQkw7ItQbAXmWhMIo/UCLaK6L3RoeAP5ilJ30TVOpOcoPeLnMHynJeWoxrOlh1PXrZc8irhQDw4D1zhO5DiR48SaeZ5oiJvqqfQV1chjt1cmTtRNNBdZj52lJkUyx0y+EWr5I1XbmIk1kTWRCZig/ASqeyet4HTvWNKRkSDLOt0bbad56Pjkgv2ACZiACewjFJunV6MIrLRPF2AoPejgCIUJmIAJakMTVfEJZSPaCWRMrcrHO2tibA9cNVE+nv2ACaqDgPPSqjqtzHbtXPTStzRPsopZO7MncoIjE5SDALMvJ8SjMfpbEpTYurgZmHOpCzVakLOpS+xBXKtOPVBbjLsGVTSMscPjShAZCbL+omQdZOucCWLHmKdzrROY3vpp8xMtjEfnJ9omtankYdJ6UDbWkVvfXIk8akAmD6VueT1TC5OywZVzTiQPA807VhP53w3q2paguq3ADaBdt98rP1EeSufwVu2ZU4ykzT8wvWvX5h+Y3nhrc/dN+YmmiWWTn6h9F8+ayJrImlikJkbgnG3O2WZNLLUmOhrH5ycmGetmaWg7hZMEN6UTzKIfxtlqYuLOymui7VBqPZHzEz2f6vLb/zHOjCs+sc3mFanoUaYspzBOXlxn2JXZlVnSKkSAEZmB4gKwG6PxWt5ne2vbCdxWjbUxUsztblJ5XNn34qGHZDvZ650r6ueh2AfcSgqyiPgccAkXLqvUbwZWAcew72HSKGwEcorx/KDwr4nTgW1kHDsKOHAOijVAt/hNn/vaAqwUrQ7oojSasseBezjwJn43B4UPbD2h9QHqvpv8YHVQ+DbaXRhTD1YEhe/Gxa0b6LtZzfLSd6a4cPQtrE3AY9HqD7F/KorFAMWS9F+mRDAcLX1HxYrAW6BNGC0EiOgZ8JRKEH8bcQpKpugO4KMwoI+tnVS/FSc/Q4nz8W7T9/LU1bt3sitrYhD8EWAAdoU1AmCjen8AAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAFACAYAAAC1CvwiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjI0MkEyMUI4MTIwMTFFNDgxNjhGRjc0RjJGMjMwQkQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjI0MkEyMUE4MTIwMTFFNDgxNjhGRjc0RjJGMjMwQkQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjZDNzdDQUY4NjU3RTExRTRBRTAyQTlGRjI0NjJBMEE4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZDNzdDQUY5NjU3RTExRTRBRTAyQTlGRjI0NjJBMEE4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+s3AxtQAABPZJREFUeNrsXE1oHkUYnvkYq0IFC5ImubRI1WolSUEoFIqWHnIr6KqHStWLtaceJFhyUryG4ElKf8RaKELNYkFETyYXPYhNW3+CHtqL+NX+XdoKxQrTZ3bny7ffdv43+Wziu/BssrP7Pjs7M++z7+683zIpJVvEDDsBPNJT5kGL9S57gTMs58+xwKVlKHsC+A4kEwBPIVDLGmAK+Bok61MIOss4cA4k46kEahnUNZkCHkghUItqiwnge5BsSiHoLKp35kGyt1MgAoz+Bb4FFoDfgd+AX0MIbgDqmh8GJlkm52Ma8QKwHfhMb0/G9MIssA1nVNU8rMtewnU/FUJwqOj7TF4vtjL5A9bn9XHvGrtHOYRzyfl+TfwPsAmkf8R240nglh7e79R3+rsxkzdRi481wUfxl5DojauGIOez//s2WBEEHLcyV1eNFbJu95Od7nsfyGPvjdSN/804IElrTCCiLXIum9cgk7xA/8dBzkf07T6hDUrjD4CtqH5XZIKC6hk2ApwGxur7Ghn7CTzGboIAYztBoLGZIML4XoKu8WjoI4+oj+3iZpLJ88HjA2eTlRrImAeuJbmxCJOLkqgutyZ29WEA68utRGMlLkeAYRY7cOq+IlKkvEfWAs9qHe596IWywazDXSRJeY87N9REEdzaVkEJbO1lFpSA1vYpUqe14wRVi+pgrJTXe+ESsB5nvkKa2E9NzPkzWL8JbBSRRq9obNGl0zE1eBV4r1b2SWycqN7m7NdbCxg7W1qRUj5UeTn1eXgjdn3l/UIfcv4X/j8VpsoUJ1KcSHHi/U5QxomsWZyY86HGcWIj4zgCi5f6ojR/zJQaofYhUg2MmURyhGptA9JE0kQioGjdJ6j6Jey9Q9k+x/LColFJNhf77Bzk5rH3BfJGIiACInBoYqD2uUW1qn0BKQNuVVaT0RShEAEREMHK0MTa8WmaWDk+XhONNYjVxMrxpIlEsBIIKD+xPwR2PQjUypZX+zwiu8yTdSFaSRmSlOBIBMvhjTlvax0YXvy/qw3mMoMHtmPKXK8D2yFlwiNpw9ZtTeZTpLazDe4LXxDGxqlfe9A46BgpspzPNJP1TL4cT2Dqd1KkFU+gpgxzfhoYs+wfULf/ltW4mndi3l/kJwpHMLHVYdwhvyRsz4M9xg7y8EasBlwV8mpeWtI7NeGdoPWRO+dYg3JxUo31/l53TunK6JmdWs3ifMEwQsPzE23DO2jG25m778tP9OZkqcaaYQOOgNs5F0+qTJpImthUE43ORDnblLNNmpisicmRifl3LLYzO7xUBLuwRXBbLsFs/jIuwEtFYFjj+B1LQ02knG1G+YmMMuOW5O2+CE4bsRzXeIJiFYwDEZt7syrbgIYySVrfCHK+DvgCeDy1BgeAr9CVF9OHMmMP+h+6ljzd2N0uyvahtDnXnKtPoh0EvhQO9uPAp2i4uVr568Au4EPs+9HWC3uAds34SVb+NPFR4C1lbO6FnG/A+kVgn95Wn/t6A3hen3XePg7KT7xNFNXP5FVsb9ZnXQu8bfpeWL0Gu1n5bbRvYKxqsAOYtjx0qM9ebe7qQc4fw/ooK7+F9RpwtngqyeRtvV/V4llAxc/qV6aKYKEkMMWKjP0JjGqjpwFF9Avwc/E3k393Fal8iKhmyR8DrmmDn5j6yFom79hE1TTG98EgSOvMlxCR7EqiythdAQYAbEvqZUahHBUAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABC0lEQVQ4T7WTYVEDMRSEv1VAJYCDOmgdgAPAASigKGhx0CoACcUBEsDBVcFj9ibpvF6TDn/IzM0kL9l9t5usImIFvHA6niVtcikinoB1qg3AmyIiSnEslPle0n5CsAT8eZjsChgqwaEUtpIeJ39zsoyILXAPjJhK8Apcl40uSQLvgG9LPxJIWqUDZyQZLOmhemcC6/mqmlskU7A1RYT9mKultwDuLEvSEBE2+MOdp+ebBKXDzOBLhnrvfwiKhFvgJkl4b13xJRN3VXPH2Dmw6F3jEVw9mJLka/RTzg/pDNwiAX7yQ7LbM6ALbpCMGEvwZAwGUBP42QnTIoXJDQ8mcJxrumqjv8TZYdr8Ai/uwaXkPGIcAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAFACAYAAAC1CvwiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEI1Q0Q4QzI4MTIxMTFFNEFGNzk4NUQxNjVEMjU2RTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEI1Q0Q4QzE4MTIxMTFFNEFGNzk4NUQxNjVEMjU2RTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMwNTdERDc2N0U4RDExRTRCOUQ1Q0FDNDRFM0JBN0QwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMwNTdERDc3N0U4RDExRTRCOUQ1Q0FDNDRFM0JBN0QwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+R+XfywAABNVJREFUeNrsXEloFEEU7QztBgoKkmgueogajSQRBFEMJnjITVDUgxL1YogXDypK9OBylSAI4r6CCOpBEdGDOAEhB9GYuIR40Is4QdGLG6LC+H6mWsua7lq6Z8aZ8Bsela7u/7q669ebX10/7WWzWS/A0uWtl4Apcp0JKe/frQN4vKylbbFnuVURS7DBMNj5AewDevoepLM6glRE/XjgMHAHpDVxCIKtHRgASbvrLagb1fcAe3FLP11a8OdCwC6gDxepi0MQbNQ7/SDpCCp8C6NfwH1gCHgJDAMvbAg+AeOASUA37r3fpRde0TMFroj9bpduTANLcEVq5klRtwb3Pc+G4Dj1PYw/0g7KhygGxXm7jX4QtuHKXYKY3LsOpG9cu/Ey8EW49w5XV6bb+IzirGjFMedbcBrOlUmg1TvoY9pVE503JigAQRV1leZ4M8m6Zpy0sR+MDT9gSUtO4Lsa5IVBLkGlGGBZ+e/S+gGa3yh+7t2fgTA+BCyCkAw4tUAyPiAb2wYYkcZGApOxlsDGOJLA1jiUwMU4LFoPjPfDeND2h0W9h2Zb49FN9W3XsZF4LPiGmQprYjE0UXK6ahTvUjGNyWNPAbV+TONgrIzYKpJ60l9ZiyPlBXVlW00cVMK7qjLVRO3TtpmxxBGXwvWC6WlrCeKosazKM1CeiGMcDOcRoAbG71kTS6iJ6PYFKLYAs61bIIzWCTSI6h6XFqwnX1HqzrvGifQepUvsDsF3GlKOajxTejl1zXrKo4gLteAgcJXjRI4TOU6smPeJhripmspYLZA8dltp4kTdQHOR9dBRalIkc8wUN0ItfqRqGzOxJrImMgETFJ9Ade+oGZxujaU1MBJkvU6/jbbD3Hd8c8F+wARMwAT2EYrN26s8Aivts32HMroYzREKEzABE1SEJqri48tGdBBIm64qn++siaEtcNVE+Xz2AyYoDwLOSyvrtDLbuXPiqW9h3mQlmTuzJ3KCIxMUgwCjLyPEozb4WxKU0LqwEZhxqfM1WpCxqYtsQdhVnVqgXjHsGZRRN4Z2j6sqB0ZEBlxPJOsgW+tMENrHPJwrhEA3nLWrftr8RAvj/PxE26Q2dd3Zj5oPysY6cusfVyIPLiCT+1KzYr1T86OywZV7jiT3Pc0aq4l8dIO6NkWobiNwA2jWHY+Vnyh3pXN4q7bMKUbS5h+Y1tq1+QemFW9t7r4pP9E0sGzyE7Vr8ayJrImsiQk1MQDnbHPONmtioTXR0Tg8PzHKWDdKfdshHCW4KZ1gJn4ZZ6uJkQdLr4m2Xal1Zc5PjDmcefX/P2fGJU9ss1kiFS1KF+UWxsjCdZpdmV2ZJa1EBOiRaSjOATvRG6/lY7Y/bduB26qxKVJVmzahOK4c9+GhhWQ7MdaaK+rnoNgD3PI17BeAi3hwvUr9JmAlcATHHkX1wgYgoxjP9XL/mjgV2ErGob2AE2ehWA10in363NdmYIW4ar8uSqMhexS4hxNvYr/ey31g6ynND1D3zeQHq7zct9Huwpha0OLlvhsXNm+g72bVy1Pf6ShOe7lvYW0EnoirfhfHJ6NYCFAsSf9lSgRDwdQ3L1YE3gJNwmg+QETPgWdUgvirPHdWM0XPAB+EAd3/sPqtOPkdSpiPd5q+l6fO3mMnu7Imet5vAQYAtaODAARZxFkAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAFACAYAAAC1CvwiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEY5QjlCQTA4MTIyMTFFNEIwQUVBMkM3NjgwODE3OTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEY5QjlCOUY4MTIyMTFFNEIwQUVBMkM3NjgwODE3OTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMwNTdERDdBN0U4RDExRTRCOUQ1Q0FDNDRFM0JBN0QwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMwNTdERDdCN0U4RDExRTRCOUQ1Q0FDNDRFM0JBN0QwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+2tcnMAAABOxJREFUeNrsXDtoFUEU3SzjDwwoiNE0WsS/aAQ/IIiKRTpBUQvBT+MPxEKDEhs1hU0IVvEHahREUAtBRCu10UI0RtSghTbiE39NoiAqPM9NZnWzmZm9My/vaeIdOGx2svfs7Myds3d37tuoWCxGCbqbFl0AqtN1eYij/mUT8Kjn4OKFEbPEhrppwD2QNAJVIQRURgItwE2Q1IQQJKUB6ARJQygBlUm6JS3AiBACKtQXjcB9kNSFECSFRqcDJJuSCsUw+gncBrqAl8AL4DmHoBugax4DNFUffdDh04mvgKXAJb3f5DMKd4AlOCM185SuW4vrnsEhOEFjD+PPtIPtA2ye6OP2G4eHJoSr4Mw7NfF3oA6kb3yH8SLwRbv3Xm9Hwhl7sDmjW9HmfQmhs3G4EGAI7/zvfTA0CKpwK3MNVT3JumOerHTe94jc994ow/hX/EAkrXQC5WsAnSyW3ALMwipC5f0AzZ+nb/f+faCNm4EFaH6nVx+kjA+njVkELmPOrc1p7CTgGFsJuMZGAh/jAcOYMj4E4yfcG0vWk+q5xn0BMQhSN5KizwPXoNxYlGmKiqiWWRNTTjcRm/dxoDF57GmgNg40TubKO8U0yo71H1njuKvL3cs/Cvqare6uQqR8UDVRsXvbVri9XV5B4fR2niIlHeYnqFqV6SXLSR8pz7bgHVAD4w+iiRXURAz7bGy2AlOVp9F6jTm6utWnBRvIVzJ153zjRHqPslPvdsF35sQexuTuk1Mvp66ExonUgiPAZe6LKIkTJU6UOPGfJtBxYlgnpjx2V8lxYlyCcadXH9hmaV6Ulh8zhUao5Y9UuTGTCo1QRRNFE4VACHwUqZ+LJi9hTdPZtsayIjHSZHdzn1xDnmJ97wsyG4VACISAH6HYtM8pqmnt46QMOFW5dzFaIhQhEAIh+CtxIjcetAVeQZqYPt5bE40t8NXE9PGiiUIwBAgkP7FScaJND7haGedpX57IlnexjqWVkiEpCY5CUIbZiNlX0DpQm/yd0gZjnWkGFnzqXK8DC5w6lSNptbb9hCxPkQquPvg35oIydU722ll+kBgRGXC1JFkH2TpvAlMPiyINSUHJTCTnqp8zP5Fh/Ds/UTmCiQUOY3N+Yvp5MG3sImd3YjrgGrDuHJrUljw7OxdoOfmJ1jVWzuqvYhi7hrK533QOGUrvlR3UzwOuAfXecaLpstj5ic78g7z8RFeH5uYn5o0GJz/RuRYvqiyaKJqoC2bjfI7y2BCkidZnZ8nZlpzt/1gT40BjsybajF2zVHGnsE1wY5dglvwyjquJnLCmQprIHUqnK0t+YvgLCFn9L5MmVubtvuKmjdiOK3mBYhj4gfLNvRmOfSCuLJIWVeq3fRiR8dicBfZhNF6HtGAPcCNr7OXKKKNyH7oGPd04p1/IdnTQmivq6ZNoB4DrysHeDpxHx93N1G8GVgHH8L+HtlHYCBQyxtOjvp8mjgO2kbFxFHDgFGzWANv1Pn3uawuwXJ+1w+oH+hNv9Fmzdhz4Efsz9VnHAjtM3wvLtmB11PdttFswphYsA1otzw303ayZ6UffCVHfT0/b9IPoY32t3/T/qRVzAYol6VemRNDVKyiG4aKPCr0F5mujWQARPQOe0hbEX/tdQiZLfjfwSRvQx9aO4/8/bKJq8vHtMGBpnfESfJJdRVSj6JcAAwDMequ4kXXO2QAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABKElEQVQ4T7VTwU0DMRCcrYArwby9j3QQOoAOgA5CBYQKCB0kFUAJoQMe9v/o4JD8X7SWfVo5vhMfLJ1krT3jm9kdYuY9gGeYJSJPMcaDrXnvd0T0amoTgDdiZinFXCj7cwjhbAmY+QaAfrp2AK4ATJXgRwsicowxPlpgu/feH4noHkDGVIIXEXF6sEZSwSJyIqJRpc8EIYS9uXDxJxYcY3yo3lEx56tq7pG0YJWlnojIhnp6C+AupeTGcZyYeRKRD325vd8l0EvOuUHBa4bq2f8QFAm3KaVrI+G91+I1E09V84KxGyLaLrVxBlcPWpK5jWWU7SBdgHskRPRtB0ndHnTCeq1qQlVHOWNUgm5yMADUBH4uhGlrwjRoHpRA41zTlc//GGcN0+EXyGXo9iBlz1cAAAAASUVORK5CYII="},function(t,e,n){var r,a,i={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=r.apply(this,arguments)),a}),s=function(t){var e={};return function(t){if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),l=null,c=0,u=[],h=n(47);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=i[r.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](r.parts[o]);for(;o<r.parts.length;o++)a.parts.push(v(r.parts[o],e))}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(v(r.parts[o],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],r={},a=0;a<t.length;a++){var i=t[a],o=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function _(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=s(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,a)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function f(t){var e=document.createElement("style");return t.attrs.type="text/css",m(e,t.attrs),_(t,e),e}function m(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function v(t,e){var n,r,a,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var o=c++;n=l||(l=f(e)),r=x.bind(null,n,o,!1),a=x.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",m(e,t.attrs),_(t,e),e}(e),r=function(t,e,n){var r=n.css,a=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&a;(e.convertToAbsoluteUrls||i)&&(r=h(r));a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,e),a=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=f(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),a=function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return d(n,e),function(t){for(var r=[],a=0;a<n.length;a++){var o=n[a];(s=i[o.id]).refs--,r.push(s)}t&&d(p(t,e),e);for(a=0;a<r.length;a++){var s;if(0===(s=r[a]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var y,b=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function x(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,a);else{var i=document.createTextNode(a),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var a,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?t:(a=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}},function(t,e){t.exports='<div id="chart_container_fullscreen" style="display: none">\n</div>\n\n<div class="chart_trade_quotation">\n    <ul id="chart_trade_quotation_content">\n        <li>\n            <div class="symbol-title">\n                <a class="white"></a>\n            </div>\n        </li>\n        <li>\n            <div id="price" class="green"></div>\n        </li>\n        <li>=444444CNY +4.53%</li>\n        <li> 7497.85</li>\n        <li> 6519.83</li>\n        \x3c!-- <li>24H 2567.8</li> --\x3e\n    </ul>\n</div>\n\n<div class="chart_container dark">\n    <div id="chart_dom_elem_cache"></div>\n    \x3c!-- ToolBar --\x3e\n    <div id="chart_toolbar">\n        <div class="chart_toolbar_minisep"></div>\n        \x3c!-- Periods --\x3e\n        <div id="chart_updated_time">\n            <div id="sizeIcon" class="chart_BoxSize"></div>\n        </div>\n        <div id="chart_toolbar_periods_horz">\n            <ul class="chart_toolbar_tabgroup" style="padding-left:5px; padding-right:11px;">\n                <li id="chart_period_line_h" name="line" style="display: none;">\n                    <a class="chart_str_period_line"></a>\n                </li>\n                <li id="chart_period_1m_h" name="1m" style="display: none;">\n                    <a class="chart_str_period_1m selected">1</a>\n                </li>\n                <li id="chart_period_3m_h" name="3m" style="display: none;">\n                    <a class="chart_str_period_3m">3</a>\n                </li>\n                <li id="chart_period_5m_h" name="5m" style="display: none;">\n                    <a class="chart_str_period_5m">5</a>\n                </li>\n                <li id="chart_period_15m_h" name="15m" style="display: none;">\n                    <a class="chart_str_period_15m">15</a>\n                </li>\n                <li id="chart_period_30m_h" name="30m" style="display: none;">\n                    <a class="chart_str_period_30m">30</a>\n                </li>\n                <li id="chart_period_1h_h" name="1h" style="display: none;">\n                    <a class="chart_str_period_1h">1</a>\n                </li>\n                <li id="chart_period_2h_h" name="2h" style="display: none;">\n                    <a class="chart_str_period_2h">2</a>\n                </li>\n                <li id="chart_period_4h_h" name="4h" style="display: none;">\n                    <a class="chart_str_period_4h">4</a>\n                </li>\n                <li id="chart_period_6h_h" name="6h" style="display: none;">\n                    <a class="chart_str_period_6h">6</a>\n                </li>\n                <li id="chart_period_12h_h" name="12h" style="display: none;">\n                    <a class="chart_str_period_12h">12</a>\n                </li>\n                <li id="chart_period_1d_h" name="1d" style="display: none;">\n                    <a class="chart_str_period_1d"></a>\n                </li>\n                <li id="chart_period_3d_h" name="3d" style="display: none;">\n                    <a class="chart_str_period_3d">3</a>\n                </li>\n                <li id="chart_period_1w_h" name="1w" style="display: none;">\n                    <a class="chart_str_period_1w"></a>\n                </li>\n            </ul>\n        </div>\n        <div class="chart_dropdown" id="chart_toolbar_periods_vert">\n            <div class="chart_dropdown_t">\n                <a class="chart_str_period"></a>\n            </div>\n            <div class="chart_dropdown_data" style="margin-left: -58px;">\n                <table>\n                    <tbody>\n                        <tr>\n                            <td>\n                                <ul>\n                                    <li id="chart_period_1w_v" style="display:none;" name="1w">\n                                        <a class="chart_str_period_1w"></a>\n                                    </li>\n                                    <li id="chart_period_3d_v" style="display:none;" name="3d">\n                                        <a class="chart_str_period_3d">3</a>\n                                    </li>\n                                    <li id="chart_period_1d_v" style="display:none;" name="1d">\n                                        <a class="chart_str_period_1d"></a>\n                                    </li>\n                                    <li id="chart_period_12h_v" style="display:none;" name="12h">\n                                        <a class="chart_str_period_12h">12</a>\n                                    </li>\n                                    <li id="chart_period_6h_v" style="display:none;" name="6h">\n                                        <a class="chart_str_period_6h">6</a>\n                                    </li>\n                                    <li id="chart_period_4h_v" style="display:none;" name="4h">\n                                        <a class="chart_str_period_4h">4</a>\n                                    </li>\n                                    <li id="chart_period_2h_v" style="display:none;" name="2h">\n                                        <a class="chart_str_period_2h">2</a>\n                                    </li>\n                                    <li id="chart_period_1h_v" style="display:none;" name="1h">\n                                        <a class="chart_str_period_1h">1</a>\n                                    </li>\n                                </ul>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                <ul>\n                                    <li id="chart_period_30m_v" style="display:none;" name="30m">\n                                        <a class="chart_str_period_30m">30</a>\n                                    </li>\n                                    <li id="chart_period_15m_v" style="display:none;" name="15m">\n                                        <a class="chart_str_period_15m">15</a>\n                                    </li>\n                                    <li id="chart_period_5m_v" style="display:none;" name="5m">\n                                        <a class="chart_str_period_5m">5</a>\n                                    </li>\n                                    <li id="chart_period_3m_v" style="display:none;" name="3m">\n                                        <a class="chart_str_period_3m">3</a>\n                                    </li>\n                                    <li id="chart_period_1m_v" style="display:none;" name="1m">\n                                        <a class="chart_str_period_1m selected">1</a>\n                                    </li>\n                                    <li id="chart_period_line_v" style="display:none;" name="line">\n                                        <a class="chart_str_period_line"></a>\n                                    </li>\n                                </ul>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <div id="chart_show_indicator" class="chart_toolbar_button chart_str_indicator_cap selected"></div>\n      \n        <div class="chart_dropdown" id="chart_main_indicator">\n            <div class="chart_dropdown_t">\n                <a class="chart_indicator_settings"></a>\n            </div>\n            <div class="chart_dropdown_data" style="margin-left: -142px;">\n                <ul>\n                    <li>\n                        <a name="MA" class="selected">MA</a>\n                    </li>\n                    <li>\n                        <a name="EMA" class="">EMA</a>\n                    </li>\n                    <li>\n                        <a name="BOLL" class="">BOLL</a>\n                    </li>\n                    <li>\n                        <a name="SAR" class="">SAR</a>\n                    </li>\n                    <li>\n                        <a name="NONE" class="">None</a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="chart_dropdown" id="chart_dropdown_settings">\n            <div class="chart_dropdown_t">\n                <a class="chart_str_settings"></a>\n            </div>\n        </div>\n    </div>\n\n    <div id="chart_canvasGroup" class="temp">\n        <canvas class="chart_canvas" id="chart_mainCanvas" style="cursor: default;"></canvas>\n        <canvas class="chart_canvas" id="chart_overlayCanvas" style="cursor: default;"></canvas>\n    </div>\n    <div id="chart_tabbar">\n        <ul>\n            <li>\n                <a name="VOLUME" class="">VOLUME</a>\n            </li>\n            <li>\n                <a name="MACD" class="">MACD</a>\n            </li>\n\n            <li>\n                <a name="KDJ" class="">KDJ</a>\n            </li>\n\n            <li>\n                <a name="StochRSI" class="">StochRSI</a>\n            </li>\n\n            <li>\n                <a name="RSI" class="">RSI</a>\n            </li>\n\n            <li>\n                <a name="DMI" class="">DMI</a>\n            </li>\n\n            <li>\n                <a name="OBV" class="">OBV</a>\n            </li>\n\n            <li>\n                <a name="BOLL" class="">BOLL</a>\n            </li>\n\n            <li>\n                <a name="SAR" class="">SAR</a>\n            </li>\n\n            <li>\n                <a name="DMA" class="">DMA</a>\n            </li>\n\n            <li>\n                <a name="TRIX" class="">TRIX</a>\n            </li>\n\n            <li>\n                <a name="BRAR" class="">BRAR</a>\n            </li>\n\n            <li>\n                <a name="VR" class="">VR</a>\n            </li>\n\n            <li>\n                <a name="EMV" class="">EMV</a>\n            </li>\n\n            <li>\n                <a name="WR" class="">WR</a>\n            </li>\n\n            <li>\n                <a name="ROC" class="">ROC</a>\n            </li>\n\n            <li>\n                <a name="MTM" class="">MTM</a>\n            </li>\n\n            <li>\n                <a name="PSY">PSY</a>\n            </li>\n\n        </ul>\n    </div>\n\n    \x3c!-- Loading --\x3e\n    <div id="chart_loading" class="chart_str_loading">...</div>\n</div>\n\n<div id="chart_container_clone" style="display: none">\n    <img id="chart_container_image"> </img>\n</div>\n\n<div class="trade_container dark">\n    <div class="m_cent">\n        <div class="m_guadan">\n\n            <ul id="tabList">\n                <li id="orderbookTab" class="current" data-show="orderbook"></li>\n                <li id="tradesTab" data-show="trades"></li>\n                <li id="descriptionTab" data-show="description"></li>\n            </ul>\n            <div id="orderbook">\n                <div id="asks">\n                    <div class="table"></div>\n                </div>\n                <div id="bids">\n                    <div class="table"></div>\n                </div>\n            </div>\n            <div id="trades" class="trades">\n                <div class="trades_list"></div>\n            </div>\n            <div id="description">\n\n            </div>\n        </div>\n    </div>\n</div>\n\n<div style="display: none" id="chart_language_switch_tmp">\n    <span name="chart_str_period" zh_tw="" zh_cn="" en_us="TIME"></span>\n    <span name="chart_str_period_line" zh_tw="" zh_cn="" en_us="Line"></span>\n    <span name="chart_str_period_1m" zh_tw="1" zh_cn="1" en_us="1m"></span>\n    <span name="chart_str_period_3m" zh_tw="3" zh_cn="3" en_us="3m"></span>\n    <span name="chart_str_period_5m" zh_tw="5" zh_cn="5" en_us="5m"></span>\n    <span name="chart_str_period_15m" zh_tw="15" zh_cn="15" en_us="15m"></span>\n    <span name="chart_str_period_30m" zh_tw="30" zh_cn="30" en_us="30m"></span>\n    <span name="chart_str_period_1h" zh_tw="1" zh_cn="1" en_us="1h"></span>\n    <span name="chart_str_period_2h" zh_tw="2" zh_cn="2" en_us="2h"></span>\n    <span name="chart_str_period_4h" zh_tw="4" zh_cn="4" en_us="4h"></span>\n    <span name="chart_str_period_6h" zh_tw="6" zh_cn="6" en_us="6h"></span>\n    <span name="chart_str_period_12h" zh_tw="12" zh_cn="12" en_us="12h"></span>\n    <span name="chart_str_period_1d" zh_tw="" zh_cn="" en_us="1d"></span>\n    <span name="chart_str_period_3d" zh_tw="3" zh_cn="3" en_us="3d"></span>\n    <span name="chart_str_period_1w" zh_tw="" zh_cn="" en_us="1w"></span>\n    <span name="chart_str_settings" zh_tw="" zh_cn="" en_us="MORE"></span>\n    <span name="chart_setting_main_indicator" zh_tw="" zh_cn="" en_us="Main Indicator"></span>\n    <span name="chart_setting_main_indicator_none" zh_tw="" zh_cn="" en_us="None"></span>\n    <span name="chart_setting_indicator_parameters" zh_tw="" zh_cn="" en_us="Indicator Parameters"></span>\n    <span name="chart_str_chart_style" zh_tw="" zh_cn="" en_us="Chart Style"></span>\n    <span name="chart_str_main_indicator" zh_tw="" zh_cn="" en_us="Main Indicator"></span>\n    <span name="chart_str_indicator" zh_tw="" zh_cn="" en_us="Indicator"></span>\n    <span name="chart_str_indicator_cap" zh_tw="" zh_cn="" en_us="INDICATOR"></span>\n    <span name="chart_str_tools" zh_tw="" zh_cn="" en_us="Tools"></span>\n    <span name="chart_str_tools_cap" zh_tw="" zh_cn="" en_us="TOOLS"></span>\n    <span name="chart_str_theme" zh_tw="" zh_cn="" en_us="Theme"></span>\n    <span name="chart_str_theme_cap" zh_tw="" zh_cn="" en_us="THEME"></span>\n    <span name="chart_language_setting" zh_tw="(LANG)" zh_cn="(LANG)" en_us="LANGUAGE"></span>\n    <span name="chart_exchanges_setting" zh_tw="" zh_cn="" en_us="MORE MARKETS"></span>\n    <span name="chart_othercoin_setting" zh_tw="" zh_cn="" en_us="OTHER MARKETS"></span>\n    <span name="chart_str_none" zh_tw="" zh_cn="" en_us="None"></span>\n    <span name="chart_str_theme_dark" zh_tw="" zh_cn="" en_us="Dark"></span>\n    <span name="chart_str_theme_light" zh_tw="" zh_cn="" en_us="Light"></span>\n    <span name="chart_str_on" zh_tw="" zh_cn="" en_us="On"></span>\n    <span name="chart_str_off" zh_tw="" zh_cn="" en_us="Off"></span>\n    <span name="chart_str_close" zh_tw="" zh_cn="" en_us="CLOSE"></span>\n    <span name="chart_str_default" zh_tw="" zh_cn="" en_us="default"></span>\n    <span name="chart_str_loading" zh_tw="..." zh_cn="..." en_us="Loading..."></span>\n    <span name="chart_str_indicator_parameters" zh_tw="" zh_cn="" en_us="Indicator Parameters"></span>\n    <span name="chart_str_cursor" zh_tw="" zh_cn="" en_us="Cursor"></span>\n    <span name="chart_str_cross_cursor" zh_tw="" zh_cn="" en_us="Cross Cursor"></span>\n    <span name="chart_str_seg_line" zh_tw="" zh_cn="" en_us="Trend Line"></span>\n    <span name="chart_str_straight_line" zh_tw="" zh_cn="" en_us="Extended"></span>\n    <span name="chart_str_ray_line" zh_tw="" zh_cn="" en_us="Ray"></span>\n    <span name="chart_str_arrow_line" zh_tw="" zh_cn="" en_us="Arrow"></span>\n    <span name="chart_str_horz_seg_line" zh_tw="" zh_cn="" en_us="Horizontal Line"></span>\n    <span name="chart_str_horz_straight_line" zh_tw="" zh_cn="" en_us="Horizontal Extended"></span>\n    <span name="chart_str_horz_ray_line" zh_tw="" zh_cn="" en_us="Horizontal Ray"></span>\n    <span name="chart_str_vert_straight_line" zh_tw="" zh_cn="" en_us="Vertical Extended"></span>\n    <span name="chart_str_price_line" zh_tw="" zh_cn="" en_us="Price Line"></span>\n    <span name="chart_str_tri_parallel_line" zh_tw="" zh_cn="" en_us="Parallel Channel"></span>\n    <span name="chart_str_bi_parallel_line" zh_tw="" zh_cn="" en_us="Parallel Lines"></span>\n    <span name="chart_str_bi_parallel_ray" zh_tw="" zh_cn="" en_us="Parallel Rays"></span>\n    <span name="chart_str_fib_retrace" zh_tw="" zh_cn="" en_us="Fibonacci Retracements"></span>\n    <span name="chart_str_fib_fans" zh_tw="" zh_cn="" en_us="Fibonacci Fans"></span>\n    <span name="chart_str_updated" zh_tw="" zh_cn="" en_us="Updated"></span>\n    <span name="chart_str_ago" zh_tw="" zh_cn="" en_us="ago"></span>\n</div>'}])});